!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Popper=e()}(this,function(){"use strict";function o(t){return t&&"[object Function]"==={}.toString.call(t)}function v(t,e){if(1!==t.nodeType)return[];var i=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?i[e]:i}function g(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function f(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=v(t),i=e.overflow,n=e.overflowX,r=e.overflowY;return/(auto|scroll|overlay)/.test(i+r+n)?t:f(g(t))}function _(t){return t&&t.referenceNode?t.referenceNode:t}function m(t){return 11===t?X:10===t?B:X||B}function x(t){if(!t)return document.documentElement;for(var e=m(10)?document.body:null,i=t.offsetParent||null;i===e&&t.nextElementSibling;)i=(t=t.nextElementSibling).offsetParent;var n=i&&i.nodeName;return n&&"BODY"!==n&&"HTML"!==n?-1!==["TH","TD","TABLE"].indexOf(i.nodeName)&&"static"===v(i,"position")?x(i):i:t?t.ownerDocument.documentElement:document.documentElement}function c(t){return null===t.parentNode?t:c(t.parentNode)}function y(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var i=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,n=i?t:e,r=i?e:t,o=document.createRange();o.setStart(n,0),o.setEnd(r,0);var a=o.commonAncestorContainer;if(t!==a&&e!==a||n.contains(r))return function(t){var e=t.nodeName;return"BODY"!==e&&("HTML"===e||x(t.firstElementChild)===t)}(a)?a:x(a);var s=c(t);return s.host?y(s.host,e):y(t,c(e).host)}function w(t,e){var i="top"===(1<arguments.length&&void 0!==e?e:"top")?"scrollTop":"scrollLeft",n=t.nodeName;if("BODY"!==n&&"HTML"!==n)return t[i];var r=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||r)[i]}function u(t,e){var i="x"===e?"Left":"Top",n="Left"==i?"Right":"Bottom";return parseFloat(t["border"+i+"Width"],10)+parseFloat(t["border"+n+"Width"],10)}function r(t,e,i,n){return M(e["offset"+t],e["scroll"+t],i["client"+t],i["offset"+t],i["scroll"+t],m(10)?parseInt(i["offset"+t])+parseInt(n["margin"+("Height"===t?"Top":"Left")])+parseInt(n["margin"+("Height"===t?"Bottom":"Right")]):0)}function S(t){var e=t.body,i=t.documentElement,n=m(10)&&getComputedStyle(i);return{height:r("Height",e,i,n),width:r("Width",e,i,n)}}function b(t){return U({},t,{right:t.left+t.width,bottom:t.top+t.height})}function T(t){var e={};try{if(m(10)){e=t.getBoundingClientRect();var i=w(t,"top"),n=w(t,"left");e.top+=i,e.left+=n,e.bottom+=i,e.right+=n}else e=t.getBoundingClientRect()}catch(t){}var r={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},o="HTML"===t.nodeName?S(t.ownerDocument):{},a=o.width||t.clientWidth||r.width,s=o.height||t.clientHeight||r.height,c=t.offsetWidth-a,l=t.offsetHeight-s;if(c||l){var d=v(t);c-=u(d,"x"),l-=u(d,"y"),r.width-=c,r.height-=l}return b(r)}function A(t,e,i){var n=2<arguments.length&&void 0!==i&&i,r=m(10),o="HTML"===e.nodeName,a=T(t),s=T(e),c=f(t),l=v(e),d=parseFloat(l.borderTopWidth,10),u=parseFloat(l.borderLeftWidth,10);n&&o&&(s.top=M(s.top,0),s.left=M(s.left,0));var h=b({top:a.top-s.top-d,left:a.left-s.left-u,width:a.width,height:a.height});if(h.marginTop=0,h.marginLeft=0,!r&&o){var p=parseFloat(l.marginTop,10),g=parseFloat(l.marginLeft,10);h.top-=d-p,h.bottom-=d-p,h.left-=u-g,h.right-=u-g,h.marginTop=p,h.marginLeft=g}return(r&&!n?e.contains(c):e===c&&"BODY"!==c.nodeName)&&(h=function(t,e,i){var n=2<arguments.length&&void 0!==i&&i,r=w(e,"top"),o=w(e,"left"),a=n?-1:1;return t.top+=r*a,t.bottom+=r*a,t.left+=o*a,t.right+=o*a,t}(h,e)),h}function C(t){if(!t||!t.parentElement||m())return document.documentElement;for(var e=t.parentElement;e&&"none"===v(e,"transform");)e=e.parentElement;return e||document.documentElement}function p(t,e,i,n,r){var o=4<arguments.length&&void 0!==r&&r,a={top:0,left:0},s=o?C(t):y(t,_(e));if("viewport"===n)a=function(t,e){var i=1<arguments.length&&void 0!==e&&e,n=t.ownerDocument.documentElement,r=A(t,n),o=M(n.clientWidth,window.innerWidth||0),a=M(n.clientHeight,window.innerHeight||0),s=i?0:w(n),c=i?0:w(n,"left");return b({top:s-r.top+r.marginTop,left:c-r.left+r.marginLeft,width:o,height:a})}(s,o);else{var c;"scrollParent"===n?"BODY"===(c=f(g(e))).nodeName&&(c=t.ownerDocument.documentElement):c="window"===n?t.ownerDocument.documentElement:n;var l=A(c,s,o);if("HTML"!==c.nodeName||function t(e){var i=e.nodeName;if("BODY"===i||"HTML"===i)return!1;if("fixed"===v(e,"position"))return!0;var n=g(e);return!!n&&t(n)}(s))a=l;else{var d=S(t.ownerDocument),u=d.height,h=d.width;a.top+=l.top-l.marginTop,a.bottom=u+l.top,a.left+=l.left-l.marginLeft,a.right=h+l.left}}var p="number"==typeof(i=i||0);return a.left+=p?i:i.left||0,a.top+=p?i:i.top||0,a.right-=p?i:i.right||0,a.bottom-=p?i:i.bottom||0,a}function s(t,e,n,i,r,o){var a=5<arguments.length&&void 0!==o?o:0;if(-1===t.indexOf("auto"))return t;var s=p(n,i,a,r),c={top:{width:s.width,height:e.top-s.top},right:{width:s.right-e.right,height:s.height},bottom:{width:s.width,height:s.bottom-e.bottom},left:{width:e.left-s.left,height:s.height}},l=Object.keys(c).map(function(t){return U({key:t},c[t],{area:function(t){return t.width*t.height}(c[t])})}).sort(function(t,e){return e.area-t.area}),d=l.filter(function(t){var e=t.width,i=t.height;return e>=n.clientWidth&&i>=n.clientHeight}),u=0<d.length?d[0].key:l[0].key,h=t.split("-")[1];return u+(h?"-"+h:"")}function l(t,e,i,n){var r=3<arguments.length&&void 0!==n?n:null;return A(i,r?C(e):y(e,_(i)),r)}function E(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),i=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),n=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+n,height:t.offsetHeight+i}}function P(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return e[t]})}function L(t,e,i){i=i.split("-")[0];var n=E(t),r={width:n.width,height:n.height},o=-1!==["right","left"].indexOf(i),a=o?"top":"left",s=o?"left":"top",c=o?"height":"width",l=o?"width":"height";return r[a]=e[a]+e[c]/2-n[c]/2,r[s]=i===s?e[s]-n[l]:e[P(s)],r}function I(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function O(t,i,e){return(void 0===e?t:t.slice(0,function(t,e,i){if(Array.prototype.findIndex)return t.findIndex(function(t){return t[e]===i});var n=I(t,function(t){return t[e]===i});return t.indexOf(n)}(t,"name",e))).forEach(function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var e=t.function||t.fn;t.enabled&&o(e)&&(i.offsets.popper=b(i.offsets.popper),i.offsets.reference=b(i.offsets.reference),i=e(i,t))}),i}function t(t,i){return t.some(function(t){var e=t.name;return t.enabled&&e===i})}function V(t){for(var e=[!1,"ms","Webkit","Moz","O"],i=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<e.length;n++){var r=e[n],o=r?""+r+i:t;if(void 0!==document.body.style[o])return o}return null}function a(t){var e=t.ownerDocument;return e?e.defaultView:window}function e(t,e,i,n){i.updateBound=n,a(t).addEventListener("resize",i.updateBound,{passive:!0});var r=f(t);return function t(e,i,n,r){var o="BODY"===e.nodeName,a=o?e.ownerDocument.defaultView:e;a.addEventListener(i,n,{passive:!0}),o||t(f(a.parentNode),i,n,r),r.push(a)}(r,"scroll",i.updateBound,i.scrollParents),i.scrollElement=r,i.eventsEnabled=!0,i}function i(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=function(t,e){return a(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e}(this.reference,this.state))}function d(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function h(i,n){Object.keys(n).forEach(function(t){var e="";-1!==["width","height","top","right","bottom","left"].indexOf(t)&&d(n[t])&&(e="px"),i.style[t]=n[t]+e})}function D(t,e,i){var n=I(t,function(t){return t.name===e}),r=!!n&&t.some(function(t){return t.name===i&&t.enabled&&t.order<n.order});if(!r){var o="`"+e+"`";console.warn("`"+i+"` modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return r}function n(t,e){var i=1<arguments.length&&void 0!==e&&e,n=q.indexOf(t),r=q.slice(n+1).concat(q.slice(0,n));return i?r.reverse():r}function G(t,r,o,e){var a=[0,0],s=-1!==["right","left"].indexOf(e),i=t.split(/(\+|\-)/).map(function(t){return t.trim()}),n=i.indexOf(I(i,function(t){return-1!==t.search(/,|\s/)}));i[n]&&-1===i[n].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var c=/\s*,\s*|\s+/,l=-1===n?[i]:[i.slice(0,n).concat([i[n].split(c)[0]]),[i[n].split(c)[1]].concat(i.slice(n+1))];return(l=l.map(function(t,e){var i=(1===e?!s:s)?"height":"width",n=!1;return t.reduce(function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,n=!0,t):n?(t[t.length-1]+=e,n=!1,t):t.concat(e)},[]).map(function(t){return function(t,e,i,n){var r,o=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),a=+o[1],s=o[2];if(!a)return t;if(0!==s.indexOf("%"))return"vh"!==s&&"vw"!==s?a:("vh"===s?M(document.documentElement.clientHeight,window.innerHeight||0):M(document.documentElement.clientWidth,window.innerWidth||0))/100*a;switch(s){case"%p":r=i;break;case"%":case"%r":default:r=n}return b(r)[e]/100*a}(t,i,r,o)})})).forEach(function(i,n){i.forEach(function(t,e){d(t)&&(a[n]+=t*("-"===i[e-1]?-1:1))})}),a}function k(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var R=Math.min,N=Math.floor,F=Math.round,M=Math.max,H="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,z=function(){for(var t=["Edge","Trident","Firefox"],e=0;e<t.length;e+=1)if(H&&0<=navigator.userAgent.indexOf(t[e]))return 1;return 0}(),j=H&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},z))}},X=H&&!(!window.MSInputMethodContext||!document.documentMode),B=H&&/MSIE 10/.test(navigator.userAgent),Y=function(t,e,i){return e&&et(t.prototype,e),i&&et(t,i),t},U=Object.assign||function(t){for(var e,i=1;i<arguments.length;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},W=H&&/Firefox/i.test(navigator.userAgent),Q=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],q=Q.slice(3),$="flip",K="clockwise",Z="counterclockwise",J=(Y(tt,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=l(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=s(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=L(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=O(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,t(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[V("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=e(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return i.call(this)}}]),tt);function tt(t,e){var i=this,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,tt),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=j(this.update.bind(this)),this.options=U({},tt.Defaults,n),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=e&&e.jquery?e[0]:e,this.options.modifiers={},Object.keys(U({},tt.Defaults.modifiers,n.modifiers)).forEach(function(t){i.options.modifiers[t]=U({},tt.Defaults.modifiers[t]||{},n.modifiers?n.modifiers[t]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(t){return U({name:t},i.options.modifiers[t])}).sort(function(t,e){return t.order-e.order}),this.modifiers.forEach(function(t){t.enabled&&o(t.onLoad)&&t.onLoad(i.reference,i.popper,i.options,t,i.state)}),this.update();var r=this.options.eventsEnabled;r&&this.enableEventListeners(),this.state.eventsEnabled=r}function et(t,e){for(var i,n=0;n<e.length;n++)(i=e[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}return J.Utils=("undefined"==typeof window?global:window).PopperUtils,J.placements=Q,J.Defaults={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,i=e.split("-")[0],n=e.split("-")[1];if(n){var r=t.offsets,o=r.reference,a=r.popper,s=-1!==["bottom","top"].indexOf(i),c=s?"left":"top",l=s?"width":"height",d={start:k({},c,o[c]),end:k({},c,o[c]+o[l]-a[l])};t.offsets.popper=U({},a,d[n])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var i,n=e.offset,r=t.placement,o=t.offsets,a=o.popper,s=o.reference,c=r.split("-")[0];return i=d(+n)?[+n,0]:G(n,a,s,c),"left"===c?(a.top+=i[0],a.left-=i[1]):"right"===c?(a.top+=i[0],a.left+=i[1]):"top"===c?(a.left+=i[0],a.top-=i[1]):"bottom"===c&&(a.left+=i[0],a.top+=i[1]),t.popper=a,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,n){var e=n.boundariesElement||x(t.instance.popper);t.instance.reference===e&&(e=x(e));var i=V("transform"),r=t.instance.popper.style,o=r.top,a=r.left,s=r[i];r.top="",r.left="",r[i]="";var c=p(t.instance.popper,t.instance.reference,n.padding,e,t.positionFixed);r.top=o,r.left=a,r[i]=s,n.boundaries=c;var l=n.priority,d=t.offsets.popper,u={primary:function(t){var e=d[t];return d[t]<c[t]&&!n.escapeWithReference&&(e=M(d[t],c[t])),k({},t,e)},secondary:function(t){var e="right"===t?"left":"top",i=d[e];return d[t]>c[t]&&!n.escapeWithReference&&(i=R(d[e],c[t]-("right"===t?d.width:d.height))),k({},e,i)}};return l.forEach(function(t){var e=-1===["left","top"].indexOf(t)?"secondary":"primary";d=U({},d,u[e](t))}),t.offsets.popper=d,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,i=e.popper,n=e.reference,r=t.placement.split("-")[0],o=N,a=-1!==["top","bottom"].indexOf(r),s=a?"right":"bottom",c=a?"left":"top",l=a?"width":"height";return i[s]<o(n[c])&&(t.offsets.popper[c]=o(n[c])-i[l]),i[c]>o(n[s])&&(t.offsets.popper[c]=o(n[s])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){var i;if(!D(t.instance.modifiers,"arrow","keepTogether"))return t;var n=e.element;if("string"==typeof n){if(!(n=t.instance.popper.querySelector(n)))return t}else if(!t.instance.popper.contains(n))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var r=t.placement.split("-")[0],o=t.offsets,a=o.popper,s=o.reference,c=-1!==["left","right"].indexOf(r),l=c?"height":"width",d=c?"Top":"Left",u=d.toLowerCase(),h=c?"left":"top",p=c?"bottom":"right",g=E(n)[l];s[p]-g<a[u]&&(t.offsets.popper[u]-=a[u]-(s[p]-g)),s[u]+g>a[p]&&(t.offsets.popper[u]+=s[u]+g-a[p]),t.offsets.popper=b(t.offsets.popper);var f=s[u]+s[l]/2-g/2,_=v(t.instance.popper),m=parseFloat(_["margin"+d],10),y=parseFloat(_["border"+d+"Width"],10),x=f-t.offsets.popper[u]-m-y;return x=M(R(a[l]-g,x),0),t.arrowElement=n,t.offsets.arrow=(k(i={},u,F(x)),k(i,h,""),i),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(f,_){if(t(f.instance.modifiers,"inner"))return f;if(f.flipped&&f.placement===f.originalPlacement)return f;var m=p(f.instance.popper,f.instance.reference,_.padding,_.boundariesElement,f.positionFixed),y=f.placement.split("-")[0],x=P(y),v=f.placement.split("-")[1]||"",w=[];switch(_.behavior){case $:w=[y,x];break;case K:w=n(y);break;case Z:w=n(y,!0);break;default:w=_.behavior}return w.forEach(function(t,e){if(y!==t||w.length===e+1)return f;y=f.placement.split("-")[0],x=P(y);var i=f.offsets.popper,n=f.offsets.reference,r=N,o="left"===y&&r(i.right)>r(n.left)||"right"===y&&r(i.left)<r(n.right)||"top"===y&&r(i.bottom)>r(n.top)||"bottom"===y&&r(i.top)<r(n.bottom),a=r(i.left)<r(m.left),s=r(i.right)>r(m.right),c=r(i.top)<r(m.top),l=r(i.bottom)>r(m.bottom),d="left"===y&&a||"right"===y&&s||"top"===y&&c||"bottom"===y&&l,u=-1!==["top","bottom"].indexOf(y),h=!!_.flipVariations&&(u&&"start"===v&&a||u&&"end"===v&&s||!u&&"start"===v&&c||!u&&"end"===v&&l),p=!!_.flipVariationsByContent&&(u&&"start"===v&&s||u&&"end"===v&&a||!u&&"start"===v&&l||!u&&"end"===v&&c),g=h||p;(o||d||g)&&(f.flipped=!0,(o||d)&&(y=w[e+1]),g&&(v=function(t){return"end"===t?"start":"start"===t?"end":t}(v)),f.placement=y+(v?"-"+v:""),f.offsets.popper=U({},f.offsets.popper,L(f.instance.popper,f.offsets.reference,f.placement)),f=O(f.instance.modifiers,f,"flip"))}),f},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,i=e.split("-")[0],n=t.offsets,r=n.popper,o=n.reference,a=-1!==["left","right"].indexOf(i),s=-1===["top","left"].indexOf(i);return r[a?"left":"top"]=o[i]-(s?r[a?"width":"height"]:0),t.placement=P(e),t.offsets.popper=b(r),t}},hide:{order:800,enabled:!0,fn:function(t){if(!D(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,i=I(t.instance.modifiers,function(t){return"preventOverflow"===t.name}).boundaries;if(e.bottom<i.top||e.left>i.right||e.top>i.bottom||e.right<i.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var i=e.x,n=e.y,r=t.offsets.popper,o=I(t.instance.modifiers,function(t){return"applyStyle"===t.name}).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a,s,c=void 0===o?e.gpuAcceleration:o,l=x(t.instance.popper),d=T(l),u={position:r.position},h=function(t,e){function i(t){return t}var n=t.offsets,r=n.popper,o=n.reference,a=F,s=a(o.width),c=a(r.width),l=-1!==["left","right"].indexOf(t.placement),d=-1!==t.placement.indexOf("-"),u=e?l||d||s%2==c%2?a:N:i,h=e?a:i;return{left:u(1==s%2&&1==c%2&&!d&&e?r.left-1:r.left),top:h(r.top),bottom:h(r.bottom),right:u(r.right)}}(t,window.devicePixelRatio<2||!W),p="bottom"===i?"top":"bottom",g="right"===n?"left":"right",f=V("transform");if(s="bottom"==p?"HTML"===l.nodeName?-l.clientHeight+h.bottom:-d.height+h.bottom:h.top,a="right"==g?"HTML"===l.nodeName?-l.clientWidth+h.right:-d.width+h.right:h.left,c&&f)u[f]="translate3d("+a+"px, "+s+"px, 0)",u[p]=0,u[g]=0,u.willChange="transform";else{var _="bottom"==p?-1:1,m="right"==g?-1:1;u[p]=s*_,u[g]=a*m,u.willChange=p+", "+g}var y={"x-placement":t.placement};return t.attributes=U({},y,t.attributes),t.styles=U({},u,t.styles),t.arrowStyles=U({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){return h(t.instance.popper,t.styles),function(e,i){Object.keys(i).forEach(function(t){!1===i[t]?e.removeAttribute(t):e.setAttribute(t,i[t])})}(t.instance.popper,t.attributes),t.arrowElement&&Object.keys(t.arrowStyles).length&&h(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,i,n,r){var o=l(r,e,t,i.positionFixed),a=s(i.placement,o,e,t,i.modifiers.flip.boundariesElement,i.modifiers.flip.padding);return e.setAttribute("x-placement",a),h(e,{position:i.positionFixed?"fixed":"absolute"}),i},gpuAcceleration:void 0}}},J}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("jquery"),require("popper.js")):"function"==typeof define&&define.amd?define(["exports","jquery","popper.js"],e):e((t=t||self).bootstrap={},t.jQuery,t.Popper)}(this,function(t,g,u){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function e(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function a(r){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?e(Object(o),!0).forEach(function(t){var e,i,n;e=r,n=o[i=t],i in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(o,t))})}return r}g=g&&g.hasOwnProperty("default")?g.default:g,u=u&&u.hasOwnProperty("default")?u.default:u;var i="transitionend";var f={TRANSITION_END:"bsTransitionEnd",getUID:function(t){for(;t+=~~(1e6*Math.random()),document.getElementById(t););return t},getSelectorFromElement:function(t){var e=t.getAttribute("data-target");if(!e||"#"===e){var i=t.getAttribute("href");e=i&&"#"!==i?i.trim():""}try{return document.querySelector(e)?e:null}catch(t){return null}},getTransitionDurationFromElement:function(t){if(!t)return 0;var e=g(t).css("transition-duration"),i=g(t).css("transition-delay"),n=parseFloat(e),r=parseFloat(i);return n||r?(e=e.split(",")[0],i=i.split(",")[0],1e3*(parseFloat(e)+parseFloat(i))):0},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(t){g(t).trigger(i)},supportsTransitionEnd:function(){return Boolean(i)},isElement:function(t){return(t[0]||t).nodeType},typeCheckConfig:function(t,e,i){for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n)){var r=i[n],o=e[n],a=o&&f.isElement(o)?"element":(s=o,{}.toString.call(s).match(/\s([a-z]+)/i)[1].toLowerCase());if(!new RegExp(r).test(a))throw new Error(t.toUpperCase()+': Option "'+n+'" provided type "'+a+'" but expected type "'+r+'".')}var s},findShadowRoot:function(t){if(!document.documentElement.attachShadow)return null;if("function"!=typeof t.getRootNode)return t instanceof ShadowRoot?t:t.parentNode?f.findShadowRoot(t.parentNode):null;var e=t.getRootNode();return e instanceof ShadowRoot?e:null},jQueryDetection:function(){if(void 0===g)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var t=g.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1===t[0]&&9===t[1]&&t[2]<1||4<=t[0])throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}};f.jQueryDetection(),g.fn.emulateTransitionEnd=function(t){var e=this,i=!1;return g(this).one(f.TRANSITION_END,function(){i=!0}),setTimeout(function(){i||f.triggerTransitionEnd(e)},t),this},g.event.special[f.TRANSITION_END]={bindType:i,delegateType:i,handle:function(t){if(g(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}};var r,s="alert",c="bs.alert",l="."+c,d=g.fn[s],h={CLOSE:"close"+l,CLOSED:"closed"+l,CLICK_DATA_API:"click"+l+".data-api"},p=((r=_.prototype).close=function(t){var e=this._element;t&&(e=this._getRootElement(t)),this._triggerCloseEvent(e).isDefaultPrevented()||this._removeElement(e)},r.dispose=function(){g.removeData(this._element,c),this._element=null},r._getRootElement=function(t){var e=f.getSelectorFromElement(t),i=!1;return e&&(i=document.querySelector(e)),i||g(t).closest(".alert")[0]},r._triggerCloseEvent=function(t){var e=g.Event(h.CLOSE);return g(t).trigger(e),e},r._removeElement=function(e){var i=this;if(g(e).removeClass("show"),g(e).hasClass("fade")){var t=f.getTransitionDurationFromElement(e);g(e).one(f.TRANSITION_END,function(t){return i._destroyElement(e,t)}).emulateTransitionEnd(t)}else this._destroyElement(e)},r._destroyElement=function(t){g(t).detach().trigger(h.CLOSED).remove()},_._jQueryInterface=function(i){return this.each(function(){var t=g(this),e=t.data(c);e||(e=new _(this),t.data(c,e)),"close"===i&&e[i](this)})},_._handleDismiss=function(e){return function(t){t&&t.preventDefault(),e.close(this)}},o(_,null,[{key:"VERSION",get:function(){return"4.4.1"}}]),_);function _(t){this._element=t}g(document).on(h.CLICK_DATA_API,'[data-dismiss="alert"]',p._handleDismiss(new p)),g.fn[s]=p._jQueryInterface,g.fn[s].Constructor=p,g.fn[s].noConflict=function(){return g.fn[s]=d,p._jQueryInterface};var m,y="button",x="bs.button",v="."+x,w=".data-api",S=g.fn[y],b="active",T='[data-toggle^="button"]',A='input:not([type="hidden"])',C={CLICK_DATA_API:"click"+v+w,FOCUS_BLUR_DATA_API:"focus"+v+w+" blur"+v+w,LOAD_DATA_API:"load"+v+w},E=((m=P.prototype).toggle=function(){var t=!0,e=!0,i=g(this._element).closest('[data-toggle="buttons"]')[0];if(i){var n=this._element.querySelector(A);if(n){if("radio"===n.type)if(n.checked&&this._element.classList.contains(b))t=!1;else{var r=i.querySelector(".active");r&&g(r).removeClass(b)}else"checkbox"===n.type?"LABEL"===this._element.tagName&&n.checked===this._element.classList.contains(b)&&(t=!1):t=!1;t&&(n.checked=!this._element.classList.contains(b),g(n).trigger("change")),n.focus(),e=!1}}this._element.hasAttribute("disabled")||this._element.classList.contains("disabled")||(e&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(b)),t&&g(this._element).toggleClass(b))},m.dispose=function(){g.removeData(this._element,x),this._element=null},P._jQueryInterface=function(e){return this.each(function(){var t=g(this).data(x);t||(t=new P(this),g(this).data(x,t)),"toggle"===e&&t[e]()})},o(P,null,[{key:"VERSION",get:function(){return"4.4.1"}}]),P);function P(t){this._element=t}g(document).on(C.CLICK_DATA_API,T,function(t){var e=t.target;if(g(e).hasClass("btn")||(e=g(e).closest(".btn")[0]),!e||e.hasAttribute("disabled")||e.classList.contains("disabled"))t.preventDefault();else{var i=e.querySelector(A);if(i&&(i.hasAttribute("disabled")||i.classList.contains("disabled")))return void t.preventDefault();E._jQueryInterface.call(g(e),"toggle")}}).on(C.FOCUS_BLUR_DATA_API,T,function(t){var e=g(t.target).closest(".btn")[0];g(e).toggleClass("focus",/^focus(in)?$/.test(t.type))}),g(window).on(C.LOAD_DATA_API,function(){for(var t=[].slice.call(document.querySelectorAll('[data-toggle="buttons"] .btn')),e=0,i=t.length;e<i;e++){var n=t[e],r=n.querySelector(A);r.checked||r.hasAttribute("checked")?n.classList.add(b):n.classList.remove(b)}for(var o=0,a=(t=[].slice.call(document.querySelectorAll('[data-toggle="button"]'))).length;o<a;o++){var s=t[o];"true"===s.getAttribute("aria-pressed")?s.classList.add(b):s.classList.remove(b)}}),g.fn[y]=E._jQueryInterface,g.fn[y].Constructor=E,g.fn[y].noConflict=function(){return g.fn[y]=S,E._jQueryInterface};var L,I="carousel",O="bs.carousel",V="."+O,D=".data-api",G=g.fn[I],k={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},R={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},N="next",F="prev",M={SLIDE:"slide"+V,SLID:"slid"+V,KEYDOWN:"keydown"+V,MOUSEENTER:"mouseenter"+V,MOUSELEAVE:"mouseleave"+V,TOUCHSTART:"touchstart"+V,TOUCHMOVE:"touchmove"+V,TOUCHEND:"touchend"+V,POINTERDOWN:"pointerdown"+V,POINTERUP:"pointerup"+V,DRAG_START:"dragstart"+V,LOAD_DATA_API:"load"+V+D,CLICK_DATA_API:"click"+V+D},H="active",z=".active.carousel-item",j={TOUCH:"touch",PEN:"pen"},X=((L=B.prototype).next=function(){this._isSliding||this._slide(N)},L.nextWhenVisible=function(){!document.hidden&&g(this._element).is(":visible")&&"hidden"!==g(this._element).css("visibility")&&this.next()},L.prev=function(){this._isSliding||this._slide(F)},L.pause=function(t){t||(this._isPaused=!0),this._element.querySelector(".carousel-item-next, .carousel-item-prev")&&(f.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},L.cycle=function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},L.to=function(t){var e=this;this._activeElement=this._element.querySelector(z);var i=this._getItemIndex(this._activeElement);if(!(t>this._items.length-1||t<0))if(this._isSliding)g(this._element).one(M.SLID,function(){return e.to(t)});else{if(i===t)return this.pause(),void this.cycle();var n=i<t?N:F;this._slide(n,this._items[t])}},L.dispose=function(){g(this._element).off(V),g.removeData(this._element,O),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},L._getConfig=function(t){return t=a({},k,{},t),f.typeCheckConfig(I,t,R),t},L._handleSwipe=function(){var t=Math.abs(this.touchDeltaX);if(!(t<=40)){var e=t/this.touchDeltaX;(this.touchDeltaX=0)<e&&this.prev(),e<0&&this.next()}},L._addEventListeners=function(){var e=this;this._config.keyboard&&g(this._element).on(M.KEYDOWN,function(t){return e._keydown(t)}),"hover"===this._config.pause&&g(this._element).on(M.MOUSEENTER,function(t){return e.pause(t)}).on(M.MOUSELEAVE,function(t){return e.cycle(t)}),this._config.touch&&this._addTouchEventListeners()},L._addTouchEventListeners=function(){var i=this;if(this._touchSupported){var e=function(t){i._pointerEvent&&j[t.originalEvent.pointerType.toUpperCase()]?i.touchStartX=t.originalEvent.clientX:i._pointerEvent||(i.touchStartX=t.originalEvent.touches[0].clientX)},n=function(t){i._pointerEvent&&j[t.originalEvent.pointerType.toUpperCase()]&&(i.touchDeltaX=t.originalEvent.clientX-i.touchStartX),i._handleSwipe(),"hover"===i._config.pause&&(i.pause(),i.touchTimeout&&clearTimeout(i.touchTimeout),i.touchTimeout=setTimeout(function(t){return i.cycle(t)},500+i._config.interval))};g(this._element.querySelectorAll(".carousel-item img")).on(M.DRAG_START,function(t){return t.preventDefault()}),this._pointerEvent?(g(this._element).on(M.POINTERDOWN,function(t){return e(t)}),g(this._element).on(M.POINTERUP,function(t){return n(t)}),this._element.classList.add("pointer-event")):(g(this._element).on(M.TOUCHSTART,function(t){return e(t)}),g(this._element).on(M.TOUCHMOVE,function(t){var e;(e=t).originalEvent.touches&&1<e.originalEvent.touches.length?i.touchDeltaX=0:i.touchDeltaX=e.originalEvent.touches[0].clientX-i.touchStartX}),g(this._element).on(M.TOUCHEND,function(t){return n(t)}))}},L._keydown=function(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.which){case 37:t.preventDefault(),this.prev();break;case 39:t.preventDefault(),this.next()}},L._getItemIndex=function(t){return this._items=t&&t.parentNode?[].slice.call(t.parentNode.querySelectorAll(".carousel-item")):[],this._items.indexOf(t)},L._getItemByDirection=function(t,e){var i=t===N,n=t===F,r=this._getItemIndex(e),o=this._items.length-1;if((n&&0===r||i&&r===o)&&!this._config.wrap)return e;var a=(r+(t===F?-1:1))%this._items.length;return-1==a?this._items[this._items.length-1]:this._items[a]},L._triggerSlideEvent=function(t,e){var i=this._getItemIndex(t),n=this._getItemIndex(this._element.querySelector(z)),r=g.Event(M.SLIDE,{relatedTarget:t,direction:e,from:n,to:i});return g(this._element).trigger(r),r},L._setActiveIndicatorElement=function(t){if(this._indicatorsElement){var e=[].slice.call(this._indicatorsElement.querySelectorAll(".active"));g(e).removeClass(H);var i=this._indicatorsElement.children[this._getItemIndex(t)];i&&g(i).addClass(H)}},L._slide=function(t,e){var i,n,r,o=this,a=this._element.querySelector(z),s=this._getItemIndex(a),c=e||a&&this._getItemByDirection(t,a),l=this._getItemIndex(c),d=Boolean(this._interval);if(r=t===N?(i="carousel-item-left",n="carousel-item-next","left"):(i="carousel-item-right",n="carousel-item-prev","right"),c&&g(c).hasClass(H))this._isSliding=!1;else if(!this._triggerSlideEvent(c,r).isDefaultPrevented()&&a&&c){this._isSliding=!0,d&&this.pause(),this._setActiveIndicatorElement(c);var u=g.Event(M.SLID,{relatedTarget:c,direction:r,from:s,to:l});if(g(this._element).hasClass("slide")){g(c).addClass(n),f.reflow(c),g(a).addClass(i),g(c).addClass(i);var h=parseInt(c.getAttribute("data-interval"),10);h?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=h):this._config.interval=this._config.defaultInterval||this._config.interval;var p=f.getTransitionDurationFromElement(a);g(a).one(f.TRANSITION_END,function(){g(c).removeClass(i+" "+n).addClass(H),g(a).removeClass(H+" "+n+" "+i),o._isSliding=!1,setTimeout(function(){return g(o._element).trigger(u)},0)}).emulateTransitionEnd(p)}else g(a).removeClass(H),g(c).addClass(H),this._isSliding=!1,g(this._element).trigger(u);d&&this.cycle()}},B._jQueryInterface=function(n){return this.each(function(){var t=g(this).data(O),e=a({},k,{},g(this).data());"object"==typeof n&&(e=a({},e,{},n));var i="string"==typeof n?n:e.slide;if(t||(t=new B(this,e),g(this).data(O,t)),"number"==typeof n)t.to(n);else if("string"==typeof i){if(void 0===t[i])throw new TypeError('No method named "'+i+'"');t[i]()}else e.interval&&e.ride&&(t.pause(),t.cycle())})},B._dataApiClickHandler=function(t){var e=f.getSelectorFromElement(this);if(e){var i=g(e)[0];if(i&&g(i).hasClass("carousel")){var n=a({},g(i).data(),{},g(this).data()),r=this.getAttribute("data-slide-to");r&&(n.interval=!1),B._jQueryInterface.call(g(i),n),r&&g(i).data(O).to(r),t.preventDefault()}}},o(B,null,[{key:"VERSION",get:function(){return"4.4.1"}},{key:"Default",get:function(){return k}}]),B);function B(t,e){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(e),this._element=t,this._indicatorsElement=this._element.querySelector(".carousel-indicators"),this._touchSupported="ontouchstart"in document.documentElement||0<navigator.maxTouchPoints,this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}g(document).on(M.CLICK_DATA_API,"[data-slide], [data-slide-to]",X._dataApiClickHandler),g(window).on(M.LOAD_DATA_API,function(){for(var t=[].slice.call(document.querySelectorAll('[data-ride="carousel"]')),e=0,i=t.length;e<i;e++){var n=g(t[e]);X._jQueryInterface.call(n,n.data())}}),g.fn[I]=X._jQueryInterface,g.fn[I].Constructor=X,g.fn[I].noConflict=function(){return g.fn[I]=G,X._jQueryInterface};var Y,U="collapse",W="bs.collapse",Q="."+W,q=g.fn[U],$={toggle:!0,parent:""},K={toggle:"boolean",parent:"(string|element)"},Z={SHOW:"show"+Q,SHOWN:"shown"+Q,HIDE:"hide"+Q,HIDDEN:"hidden"+Q,CLICK_DATA_API:"click"+Q+".data-api"},J="show",tt="collapse",et="collapsing",it="collapsed",nt='[data-toggle="collapse"]',rt=((Y=ot.prototype).toggle=function(){g(this._element).hasClass(J)?this.hide():this.show()},Y.show=function(){var t,e,i=this;if(!(this._isTransitioning||g(this._element).hasClass(J)||(this._parent&&0===(t=[].slice.call(this._parent.querySelectorAll(".show, .collapsing")).filter(function(t){return"string"==typeof i._config.parent?t.getAttribute("data-parent")===i._config.parent:t.classList.contains(tt)})).length&&(t=null),t&&(e=g(t).not(this._selector).data(W))&&e._isTransitioning))){var n=g.Event(Z.SHOW);if(g(this._element).trigger(n),!n.isDefaultPrevented()){t&&(ot._jQueryInterface.call(g(t).not(this._selector),"hide"),e||g(t).data(W,null));var r=this._getDimension();g(this._element).removeClass(tt).addClass(et),this._element.style[r]=0,this._triggerArray.length&&g(this._triggerArray).removeClass(it).attr("aria-expanded",!0),this.setTransitioning(!0);var o="scroll"+(r[0].toUpperCase()+r.slice(1)),a=f.getTransitionDurationFromElement(this._element);g(this._element).one(f.TRANSITION_END,function(){g(i._element).removeClass(et).addClass(tt).addClass(J),i._element.style[r]="",i.setTransitioning(!1),g(i._element).trigger(Z.SHOWN)}).emulateTransitionEnd(a),this._element.style[r]=this._element[o]+"px"}}},Y.hide=function(){var t=this;if(!this._isTransitioning&&g(this._element).hasClass(J)){var e=g.Event(Z.HIDE);if(g(this._element).trigger(e),!e.isDefaultPrevented()){var i=this._getDimension();this._element.style[i]=this._element.getBoundingClientRect()[i]+"px",f.reflow(this._element),g(this._element).addClass(et).removeClass(tt).removeClass(J);var n=this._triggerArray.length;if(0<n)for(var r=0;r<n;r++){var o=this._triggerArray[r],a=f.getSelectorFromElement(o);null!==a&&(g([].slice.call(document.querySelectorAll(a))).hasClass(J)||g(o).addClass(it).attr("aria-expanded",!1))}this.setTransitioning(!0),this._element.style[i]="";var s=f.getTransitionDurationFromElement(this._element);g(this._element).one(f.TRANSITION_END,function(){t.setTransitioning(!1),g(t._element).removeClass(et).addClass(tt).trigger(Z.HIDDEN)}).emulateTransitionEnd(s)}}},Y.setTransitioning=function(t){this._isTransitioning=t},Y.dispose=function(){g.removeData(this._element,W),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},Y._getConfig=function(t){return(t=a({},$,{},t)).toggle=Boolean(t.toggle),f.typeCheckConfig(U,t,K),t},Y._getDimension=function(){return g(this._element).hasClass("width")?"width":"height"},Y._getParent=function(){var t,i=this;f.isElement(this._config.parent)?(t=this._config.parent,void 0!==this._config.parent.jquery&&(t=this._config.parent[0])):t=document.querySelector(this._config.parent);var e='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',n=[].slice.call(t.querySelectorAll(e));return g(n).each(function(t,e){i._addAriaAndCollapsedClass(ot._getTargetFromElement(e),[e])}),t},Y._addAriaAndCollapsedClass=function(t,e){var i=g(t).hasClass(J);e.length&&g(e).toggleClass(it,!i).attr("aria-expanded",i)},ot._getTargetFromElement=function(t){var e=f.getSelectorFromElement(t);return e?document.querySelector(e):null},ot._jQueryInterface=function(n){return this.each(function(){var t=g(this),e=t.data(W),i=a({},$,{},t.data(),{},"object"==typeof n&&n?n:{});if(!e&&i.toggle&&/show|hide/.test(n)&&(i.toggle=!1),e||(e=new ot(this,i),t.data(W,e)),"string"==typeof n){if(void 0===e[n])throw new TypeError('No method named "'+n+'"');e[n]()}})},o(ot,null,[{key:"VERSION",get:function(){return"4.4.1"}},{key:"Default",get:function(){return $}}]),ot);function ot(e,t){this._isTransitioning=!1,this._element=e,this._config=this._getConfig(t),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'));for(var i=[].slice.call(document.querySelectorAll(nt)),n=0,r=i.length;n<r;n++){var o=i[n],a=f.getSelectorFromElement(o),s=[].slice.call(document.querySelectorAll(a)).filter(function(t){return t===e});null!==a&&0<s.length&&(this._selector=a,this._triggerArray.push(o))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}g(document).on(Z.CLICK_DATA_API,nt,function(t){"A"===t.currentTarget.tagName&&t.preventDefault();var i=g(this),e=f.getSelectorFromElement(this),n=[].slice.call(document.querySelectorAll(e));g(n).each(function(){var t=g(this),e=t.data(W)?"toggle":i.data();rt._jQueryInterface.call(t,e)})}),g.fn[U]=rt._jQueryInterface,g.fn[U].Constructor=rt,g.fn[U].noConflict=function(){return g.fn[U]=q,rt._jQueryInterface};var at,st="dropdown",ct="bs.dropdown",lt="."+ct,dt=".data-api",ut=g.fn[st],ht=new RegExp("38|40|27"),pt={HIDE:"hide"+lt,HIDDEN:"hidden"+lt,SHOW:"show"+lt,SHOWN:"shown"+lt,CLICK:"click"+lt,CLICK_DATA_API:"click"+lt+dt,KEYDOWN_DATA_API:"keydown"+lt+dt,KEYUP_DATA_API:"keyup"+lt+dt},gt="disabled",ft="show",_t="dropdown-menu-right",mt='[data-toggle="dropdown"]',yt=".dropdown-menu",xt={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic",popperConfig:null},vt={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string",popperConfig:"(null|object)"},wt=((at=St.prototype).toggle=function(){if(!this._element.disabled&&!g(this._element).hasClass(gt)){var t=g(this._menu).hasClass(ft);St._clearMenus(),t||this.show(!0)}},at.show=function(t){if(void 0===t&&(t=!1),!(this._element.disabled||g(this._element).hasClass(gt)||g(this._menu).hasClass(ft))){var e={relatedTarget:this._element},i=g.Event(pt.SHOW,e),n=St._getParentFromElement(this._element);if(g(n).trigger(i),!i.isDefaultPrevented()){if(!this._inNavbar&&t){if(void 0===u)throw new TypeError("Bootstrap's dropdowns require Popper.js (https://popper.js.org/)");var r=this._element;"parent"===this._config.reference?r=n:f.isElement(this._config.reference)&&(r=this._config.reference,void 0!==this._config.reference.jquery&&(r=this._config.reference[0])),"scrollParent"!==this._config.boundary&&g(n).addClass("position-static"),this._popper=new u(r,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===g(n).closest(".navbar-nav").length&&g(document.body).children().on("mouseover",null,g.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),g(this._menu).toggleClass(ft),g(n).toggleClass(ft).trigger(g.Event(pt.SHOWN,e))}}},at.hide=function(){if(!this._element.disabled&&!g(this._element).hasClass(gt)&&g(this._menu).hasClass(ft)){var t={relatedTarget:this._element},e=g.Event(pt.HIDE,t),i=St._getParentFromElement(this._element);g(i).trigger(e),e.isDefaultPrevented()||(this._popper&&this._popper.destroy(),g(this._menu).toggleClass(ft),g(i).toggleClass(ft).trigger(g.Event(pt.HIDDEN,t)))}},at.dispose=function(){g.removeData(this._element,ct),g(this._element).off(lt),this._element=null,(this._menu=null)!==this._popper&&(this._popper.destroy(),this._popper=null)},at.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},at._addEventListeners=function(){var e=this;g(this._element).on(pt.CLICK,function(t){t.preventDefault(),t.stopPropagation(),e.toggle()})},at._getConfig=function(t){return t=a({},this.constructor.Default,{},g(this._element).data(),{},t),f.typeCheckConfig(st,t,this.constructor.DefaultType),t},at._getMenuElement=function(){if(!this._menu){var t=St._getParentFromElement(this._element);t&&(this._menu=t.querySelector(yt))}return this._menu},at._getPlacement=function(){var t=g(this._element.parentNode),e="bottom-start";return t.hasClass("dropup")?(e="top-start",g(this._menu).hasClass(_t)&&(e="top-end")):t.hasClass("dropright")?e="right-start":t.hasClass("dropleft")?e="left-start":g(this._menu).hasClass(_t)&&(e="bottom-end"),e},at._detectNavbar=function(){return 0<g(this._element).closest(".navbar").length},at._getOffset=function(){var e=this,t={};return"function"==typeof this._config.offset?t.fn=function(t){return t.offsets=a({},t.offsets,{},e._config.offset(t.offsets,e._element)||{}),t}:t.offset=this._config.offset,t},at._getPopperConfig=function(){var t={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(t.modifiers.applyStyle={enabled:!1}),a({},t,{},this._config.popperConfig)},St._jQueryInterface=function(e){return this.each(function(){var t=g(this).data(ct);if(t||(t=new St(this,"object"==typeof e?e:null),g(this).data(ct,t)),"string"==typeof e){if(void 0===t[e])throw new TypeError('No method named "'+e+'"');t[e]()}})},St._clearMenus=function(t){if(!t||3!==t.which&&("keyup"!==t.type||9===t.which))for(var e=[].slice.call(document.querySelectorAll(mt)),i=0,n=e.length;i<n;i++){var r=St._getParentFromElement(e[i]),o=g(e[i]).data(ct),a={relatedTarget:e[i]};if(t&&"click"===t.type&&(a.clickEvent=t),o){var s=o._menu;if(g(r).hasClass(ft)&&!(t&&("click"===t.type&&/input|textarea/i.test(t.target.tagName)||"keyup"===t.type&&9===t.which)&&g.contains(r,t.target))){var c=g.Event(pt.HIDE,a);g(r).trigger(c),c.isDefaultPrevented()||("ontouchstart"in document.documentElement&&g(document.body).children().off("mouseover",null,g.noop),e[i].setAttribute("aria-expanded","false"),o._popper&&o._popper.destroy(),g(s).removeClass(ft),g(r).removeClass(ft).trigger(g.Event(pt.HIDDEN,a)))}}}},St._getParentFromElement=function(t){var e,i=f.getSelectorFromElement(t);return i&&(e=document.querySelector(i)),e||t.parentNode},St._dataApiKeydownHandler=function(t){if((/input|textarea/i.test(t.target.tagName)?!(32===t.which||27!==t.which&&(40!==t.which&&38!==t.which||g(t.target).closest(yt).length)):ht.test(t.which))&&(t.preventDefault(),t.stopPropagation(),!this.disabled&&!g(this).hasClass(gt))){var e=St._getParentFromElement(this),i=g(e).hasClass(ft);if(i||27!==t.which)if(i&&(!i||27!==t.which&&32!==t.which)){var n=[].slice.call(e.querySelectorAll(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)")).filter(function(t){return g(t).is(":visible")});if(0!==n.length){var r=n.indexOf(t.target);38===t.which&&0<r&&r--,40===t.which&&r<n.length-1&&r++,r<0&&(r=0),n[r].focus()}}else{if(27===t.which){var o=e.querySelector(mt);g(o).trigger("focus")}g(this).trigger("click")}}},o(St,null,[{key:"VERSION",get:function(){return"4.4.1"}},{key:"Default",get:function(){return xt}},{key:"DefaultType",get:function(){return vt}}]),St);function St(t,e){this._element=t,this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}g(document).on(pt.KEYDOWN_DATA_API,mt,wt._dataApiKeydownHandler).on(pt.KEYDOWN_DATA_API,yt,wt._dataApiKeydownHandler).on(pt.CLICK_DATA_API+" "+pt.KEYUP_DATA_API,wt._clearMenus).on(pt.CLICK_DATA_API,mt,function(t){t.preventDefault(),t.stopPropagation(),wt._jQueryInterface.call(g(this),"toggle")}).on(pt.CLICK_DATA_API,".dropdown form",function(t){t.stopPropagation()}),g.fn[st]=wt._jQueryInterface,g.fn[st].Constructor=wt,g.fn[st].noConflict=function(){return g.fn[st]=ut,wt._jQueryInterface};var bt,Tt="modal",At="bs.modal",Ct="."+At,Et=g.fn[Tt],Pt={backdrop:!0,keyboard:!0,focus:!0,show:!0},Lt={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},It={HIDE:"hide"+Ct,HIDE_PREVENTED:"hidePrevented"+Ct,HIDDEN:"hidden"+Ct,SHOW:"show"+Ct,SHOWN:"shown"+Ct,FOCUSIN:"focusin"+Ct,RESIZE:"resize"+Ct,CLICK_DISMISS:"click.dismiss"+Ct,KEYDOWN_DISMISS:"keydown.dismiss"+Ct,MOUSEUP_DISMISS:"mouseup.dismiss"+Ct,MOUSEDOWN_DISMISS:"mousedown.dismiss"+Ct,CLICK_DATA_API:"click"+Ct+".data-api"},Ot="modal-open",Vt="fade",Dt="show",Gt="modal-static",kt=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Rt=".sticky-top",Nt=((bt=Ft.prototype).toggle=function(t){return this._isShown?this.hide():this.show(t)},bt.show=function(t){var e=this;if(!this._isShown&&!this._isTransitioning){g(this._element).hasClass(Vt)&&(this._isTransitioning=!0);var i=g.Event(It.SHOW,{relatedTarget:t});g(this._element).trigger(i),this._isShown||i.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),g(this._element).on(It.CLICK_DISMISS,'[data-dismiss="modal"]',function(t){return e.hide(t)}),g(this._dialog).on(It.MOUSEDOWN_DISMISS,function(){g(e._element).one(It.MOUSEUP_DISMISS,function(t){g(t.target).is(e._element)&&(e._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return e._showElement(t)}))}},bt.hide=function(t){var e=this;if(t&&t.preventDefault(),this._isShown&&!this._isTransitioning){var i=g.Event(It.HIDE);if(g(this._element).trigger(i),this._isShown&&!i.isDefaultPrevented()){this._isShown=!1;var n=g(this._element).hasClass(Vt);if(n&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),g(document).off(It.FOCUSIN),g(this._element).removeClass(Dt),g(this._element).off(It.CLICK_DISMISS),g(this._dialog).off(It.MOUSEDOWN_DISMISS),n){var r=f.getTransitionDurationFromElement(this._element);g(this._element).one(f.TRANSITION_END,function(t){return e._hideModal(t)}).emulateTransitionEnd(r)}else this._hideModal()}}},bt.dispose=function(){[window,this._element,this._dialog].forEach(function(t){return g(t).off(Ct)}),g(document).off(It.FOCUSIN),g.removeData(this._element,At),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},bt.handleUpdate=function(){this._adjustDialog()},bt._getConfig=function(t){return t=a({},Pt,{},t),f.typeCheckConfig(Tt,t,Lt),t},bt._triggerBackdropTransition=function(){var t=this;if("static"===this._config.backdrop){var e=g.Event(It.HIDE_PREVENTED);if(g(this._element).trigger(e),e.defaultPrevented)return;this._element.classList.add(Gt);var i=f.getTransitionDurationFromElement(this._element);g(this._element).one(f.TRANSITION_END,function(){t._element.classList.remove(Gt)}).emulateTransitionEnd(i),this._element.focus()}else this.hide()},bt._showElement=function(t){var e=this,i=g(this._element).hasClass(Vt),n=this._dialog?this._dialog.querySelector(".modal-body"):null;function r(){e._config.focus&&e._element.focus(),e._isTransitioning=!1,g(e._element).trigger(o)}this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),g(this._dialog).hasClass("modal-dialog-scrollable")&&n?n.scrollTop=0:this._element.scrollTop=0,i&&f.reflow(this._element),g(this._element).addClass(Dt),this._config.focus&&this._enforceFocus();var o=g.Event(It.SHOWN,{relatedTarget:t});if(i){var a=f.getTransitionDurationFromElement(this._dialog);g(this._dialog).one(f.TRANSITION_END,r).emulateTransitionEnd(a)}else r()},bt._enforceFocus=function(){var e=this;g(document).off(It.FOCUSIN).on(It.FOCUSIN,function(t){document!==t.target&&e._element!==t.target&&0===g(e._element).has(t.target).length&&e._element.focus()})},bt._setEscapeEvent=function(){var e=this;this._isShown&&this._config.keyboard?g(this._element).on(It.KEYDOWN_DISMISS,function(t){27===t.which&&e._triggerBackdropTransition()}):this._isShown||g(this._element).off(It.KEYDOWN_DISMISS)},bt._setResizeEvent=function(){var e=this;this._isShown?g(window).on(It.RESIZE,function(t){return e.handleUpdate(t)}):g(window).off(It.RESIZE)},bt._hideModal=function(){var t=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._isTransitioning=!1,this._showBackdrop(function(){g(document.body).removeClass(Ot),t._resetAdjustments(),t._resetScrollbar(),g(t._element).trigger(It.HIDDEN)})},bt._removeBackdrop=function(){this._backdrop&&(g(this._backdrop).remove(),this._backdrop=null)},bt._showBackdrop=function(t){var e=this,i=g(this._element).hasClass(Vt)?Vt:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className="modal-backdrop",i&&this._backdrop.classList.add(i),g(this._backdrop).appendTo(document.body),g(this._element).on(It.CLICK_DISMISS,function(t){e._ignoreBackdropClick?e._ignoreBackdropClick=!1:t.target===t.currentTarget&&e._triggerBackdropTransition()}),i&&f.reflow(this._backdrop),g(this._backdrop).addClass(Dt),!t)return;if(!i)return void t();var n=f.getTransitionDurationFromElement(this._backdrop);g(this._backdrop).one(f.TRANSITION_END,t).emulateTransitionEnd(n)}else if(!this._isShown&&this._backdrop){g(this._backdrop).removeClass(Dt);var r=function(){e._removeBackdrop(),t&&t()};if(g(this._element).hasClass(Vt)){var o=f.getTransitionDurationFromElement(this._backdrop);g(this._backdrop).one(f.TRANSITION_END,r).emulateTransitionEnd(o)}else r()}else t&&t()},bt._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},bt._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},bt._checkScrollbar=function(){var t=document.body.getBoundingClientRect();this._isBodyOverflowing=t.left+t.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},bt._setScrollbar=function(){var r=this;if(this._isBodyOverflowing){var t=[].slice.call(document.querySelectorAll(kt)),e=[].slice.call(document.querySelectorAll(Rt));g(t).each(function(t,e){var i=e.style.paddingRight,n=g(e).css("padding-right");g(e).data("padding-right",i).css("padding-right",parseFloat(n)+r._scrollbarWidth+"px")}),g(e).each(function(t,e){var i=e.style.marginRight,n=g(e).css("margin-right");g(e).data("margin-right",i).css("margin-right",parseFloat(n)-r._scrollbarWidth+"px")});var i=document.body.style.paddingRight,n=g(document.body).css("padding-right");g(document.body).data("padding-right",i).css("padding-right",parseFloat(n)+this._scrollbarWidth+"px")}g(document.body).addClass(Ot)},bt._resetScrollbar=function(){var t=[].slice.call(document.querySelectorAll(kt));g(t).each(function(t,e){var i=g(e).data("padding-right");g(e).removeData("padding-right"),e.style.paddingRight=i||""});var e=[].slice.call(document.querySelectorAll(Rt));g(e).each(function(t,e){var i=g(e).data("margin-right");void 0!==i&&g(e).css("margin-right",i).removeData("margin-right")});var i=g(document.body).data("padding-right");g(document.body).removeData("padding-right"),document.body.style.paddingRight=i||""},bt._getScrollbarWidth=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},Ft._jQueryInterface=function(i,n){return this.each(function(){var t=g(this).data(At),e=a({},Pt,{},g(this).data(),{},"object"==typeof i&&i?i:{});if(t||(t=new Ft(this,e),g(this).data(At,t)),"string"==typeof i){if(void 0===t[i])throw new TypeError('No method named "'+i+'"');t[i](n)}else e.show&&t.show(n)})},o(Ft,null,[{key:"VERSION",get:function(){return"4.4.1"}},{key:"Default",get:function(){return Pt}}]),Ft);function Ft(t,e){this._config=this._getConfig(e),this._element=t,this._dialog=t.querySelector(".modal-dialog"),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}g(document).on(It.CLICK_DATA_API,'[data-toggle="modal"]',function(t){var e,i=this,n=f.getSelectorFromElement(this);n&&(e=document.querySelector(n));var r=g(e).data(At)?"toggle":a({},g(e).data(),{},g(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||t.preventDefault();var o=g(e).one(It.SHOW,function(t){t.isDefaultPrevented()||o.one(It.HIDDEN,function(){g(i).is(":visible")&&i.focus()})});Nt._jQueryInterface.call(g(e),r,this)}),g.fn[Tt]=Nt._jQueryInterface,g.fn[Tt].Constructor=Nt,g.fn[Tt].noConflict=function(){return g.fn[Tt]=Et,Nt._jQueryInterface};var Mt=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],Ht=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,zt=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i;function jt(t,o,e){if(0===t.length)return t;if(e&&"function"==typeof e)return e(t);for(var i=(new window.DOMParser).parseFromString(t,"text/html"),a=Object.keys(o),s=[].slice.call(i.body.querySelectorAll("*")),n=function(t){var e=s[t],i=e.nodeName.toLowerCase();if(-1===a.indexOf(e.nodeName.toLowerCase()))return e.parentNode.removeChild(e),"continue";var n=[].slice.call(e.attributes),r=[].concat(o["*"]||[],o[i]||[]);n.forEach(function(t){!function(t,e){var i=t.nodeName.toLowerCase();if(-1!==e.indexOf(i))return-1===Mt.indexOf(i)||Boolean(t.nodeValue.match(Ht)||t.nodeValue.match(zt));for(var n=e.filter(function(t){return t instanceof RegExp}),r=0,o=n.length;r<o;r++)if(i.match(n[r]))return!0;return!1}(t,r)&&e.removeAttribute(t.nodeName)})},r=0,c=s.length;r<c;r++)n(r);return i.body.innerHTML}var Xt,Bt="tooltip",Yt="bs.tooltip",Ut="."+Yt,Wt=g.fn[Bt],Qt="bs-tooltip",qt=new RegExp("(^|\\s)"+Qt+"\\S+","g"),$t=["sanitize","whiteList","sanitizeFn"],Kt={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object",popperConfig:"(null|object)"},Zt={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},Jt={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",sanitize:!0,sanitizeFn:null,whiteList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},popperConfig:null},te="show",ee={HIDE:"hide"+Ut,HIDDEN:"hidden"+Ut,SHOW:"show"+Ut,SHOWN:"shown"+Ut,INSERTED:"inserted"+Ut,CLICK:"click"+Ut,FOCUSIN:"focusin"+Ut,FOCUSOUT:"focusout"+Ut,MOUSEENTER:"mouseenter"+Ut,MOUSELEAVE:"mouseleave"+Ut},ie="fade",ne="show",re="hover",oe="focus",ae=((Xt=se.prototype).enable=function(){this._isEnabled=!0},Xt.disable=function(){this._isEnabled=!1},Xt.toggleEnabled=function(){this._isEnabled=!this._isEnabled},Xt.toggle=function(t){if(this._isEnabled)if(t){var e=this.constructor.DATA_KEY,i=g(t.currentTarget).data(e);i||(i=new this.constructor(t.currentTarget,this._getDelegateConfig()),g(t.currentTarget).data(e,i)),i._activeTrigger.click=!i._activeTrigger.click,i._isWithActiveTrigger()?i._enter(null,i):i._leave(null,i)}else{if(g(this.getTipElement()).hasClass(ne))return void this._leave(null,this);this._enter(null,this)}},Xt.dispose=function(){clearTimeout(this._timeout),g.removeData(this.element,this.constructor.DATA_KEY),g(this.element).off(this.constructor.EVENT_KEY),g(this.element).closest(".modal").off("hide.bs.modal",this._hideModalHandler),this.tip&&g(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},Xt.show=function(){var e=this;if("none"===g(this.element).css("display"))throw new Error("Please use show on visible elements");var t=g.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){g(this.element).trigger(t);var i=f.findShadowRoot(this.element),n=g.contains(null!==i?i:this.element.ownerDocument.documentElement,this.element);if(t.isDefaultPrevented()||!n)return;var r=this.getTipElement(),o=f.getUID(this.constructor.NAME);r.setAttribute("id",o),this.element.setAttribute("aria-describedby",o),this.setContent(),this.config.animation&&g(r).addClass(ie);var a="function"==typeof this.config.placement?this.config.placement.call(this,r,this.element):this.config.placement,s=this._getAttachment(a);this.addAttachmentClass(s);var c=this._getContainer();g(r).data(this.constructor.DATA_KEY,this),g.contains(this.element.ownerDocument.documentElement,this.tip)||g(r).appendTo(c),g(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new u(this.element,r,this._getPopperConfig(s)),g(r).addClass(ne),"ontouchstart"in document.documentElement&&g(document.body).children().on("mouseover",null,g.noop);var l=function(){e.config.animation&&e._fixTransition();var t=e._hoverState;e._hoverState=null,g(e.element).trigger(e.constructor.Event.SHOWN),"out"===t&&e._leave(null,e)};if(g(this.tip).hasClass(ie)){var d=f.getTransitionDurationFromElement(this.tip);g(this.tip).one(f.TRANSITION_END,l).emulateTransitionEnd(d)}else l()}},Xt.hide=function(t){function e(){i._hoverState!==te&&n.parentNode&&n.parentNode.removeChild(n),i._cleanTipClass(),i.element.removeAttribute("aria-describedby"),g(i.element).trigger(i.constructor.Event.HIDDEN),null!==i._popper&&i._popper.destroy(),t&&t()}var i=this,n=this.getTipElement(),r=g.Event(this.constructor.Event.HIDE);if(g(this.element).trigger(r),!r.isDefaultPrevented()){if(g(n).removeClass(ne),"ontouchstart"in document.documentElement&&g(document.body).children().off("mouseover",null,g.noop),this._activeTrigger.click=!1,this._activeTrigger[oe]=!1,this._activeTrigger[re]=!1,g(this.tip).hasClass(ie)){var o=f.getTransitionDurationFromElement(n);g(n).one(f.TRANSITION_END,e).emulateTransitionEnd(o)}else e();this._hoverState=""}},Xt.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},Xt.isWithContent=function(){return Boolean(this.getTitle())},Xt.addAttachmentClass=function(t){g(this.getTipElement()).addClass(Qt+"-"+t)},Xt.getTipElement=function(){return this.tip=this.tip||g(this.config.template)[0],this.tip},Xt.setContent=function(){var t=this.getTipElement();this.setElementContent(g(t.querySelectorAll(".tooltip-inner")),this.getTitle()),g(t).removeClass(ie+" "+ne)},Xt.setElementContent=function(t,e){"object"!=typeof e||!e.nodeType&&!e.jquery?this.config.html?(this.config.sanitize&&(e=jt(e,this.config.whiteList,this.config.sanitizeFn)),t.html(e)):t.text(e):this.config.html?g(e).parent().is(t)||t.empty().append(e):t.text(g(e).text())},Xt.getTitle=function(){var t=this.element.getAttribute("data-original-title");return t||("function"==typeof this.config.title?this.config.title.call(this.element):this.config.title)},Xt._getPopperConfig=function(t){var e=this;return a({},{placement:t,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(t){t.originalPlacement!==t.placement&&e._handlePopperPlacementChange(t)},onUpdate:function(t){return e._handlePopperPlacementChange(t)}},{},this.config.popperConfig)},Xt._getOffset=function(){var e=this,t={};return"function"==typeof this.config.offset?t.fn=function(t){return t.offsets=a({},t.offsets,{},e.config.offset(t.offsets,e.element)||{}),t}:t.offset=this.config.offset,t},Xt._getContainer=function(){return!1===this.config.container?document.body:f.isElement(this.config.container)?g(this.config.container):g(document).find(this.config.container)},Xt._getAttachment=function(t){return Zt[t.toUpperCase()]},Xt._setListeners=function(){var n=this;this.config.trigger.split(" ").forEach(function(t){if("click"===t)g(n.element).on(n.constructor.Event.CLICK,n.config.selector,function(t){return n.toggle(t)});else if("manual"!==t){var e=t===re?n.constructor.Event.MOUSEENTER:n.constructor.Event.FOCUSIN,i=t===re?n.constructor.Event.MOUSELEAVE:n.constructor.Event.FOCUSOUT;g(n.element).on(e,n.config.selector,function(t){return n._enter(t)}).on(i,n.config.selector,function(t){return n._leave(t)})}}),this._hideModalHandler=function(){n.element&&n.hide()},g(this.element).closest(".modal").on("hide.bs.modal",this._hideModalHandler),this.config.selector?this.config=a({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},Xt._fixTitle=function(){var t=typeof this.element.getAttribute("data-original-title");!this.element.getAttribute("title")&&"string"==t||(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},Xt._enter=function(t,e){var i=this.constructor.DATA_KEY;(e=e||g(t.currentTarget).data(i))||(e=new this.constructor(t.currentTarget,this._getDelegateConfig()),g(t.currentTarget).data(i,e)),t&&(e._activeTrigger["focusin"===t.type?oe:re]=!0),g(e.getTipElement()).hasClass(ne)||e._hoverState===te?e._hoverState=te:(clearTimeout(e._timeout),e._hoverState=te,e.config.delay&&e.config.delay.show?e._timeout=setTimeout(function(){e._hoverState===te&&e.show()},e.config.delay.show):e.show())},Xt._leave=function(t,e){var i=this.constructor.DATA_KEY;(e=e||g(t.currentTarget).data(i))||(e=new this.constructor(t.currentTarget,this._getDelegateConfig()),g(t.currentTarget).data(i,e)),t&&(e._activeTrigger["focusout"===t.type?oe:re]=!1),e._isWithActiveTrigger()||(clearTimeout(e._timeout),e._hoverState="out",e.config.delay&&e.config.delay.hide?e._timeout=setTimeout(function(){"out"===e._hoverState&&e.hide()},e.config.delay.hide):e.hide())},Xt._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},Xt._getConfig=function(t){var e=g(this.element).data();return Object.keys(e).forEach(function(t){-1!==$t.indexOf(t)&&delete e[t]}),"number"==typeof(t=a({},this.constructor.Default,{},e,{},"object"==typeof t&&t?t:{})).delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),f.typeCheckConfig(Bt,t,this.constructor.DefaultType),t.sanitize&&(t.template=jt(t.template,t.whiteList,t.sanitizeFn)),t},Xt._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},Xt._cleanTipClass=function(){var t=g(this.getTipElement()),e=t.attr("class").match(qt);null!==e&&e.length&&t.removeClass(e.join(""))},Xt._handlePopperPlacementChange=function(t){var e=t.instance;this.tip=e.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(t.placement))},Xt._fixTransition=function(){var t=this.getTipElement(),e=this.config.animation;null===t.getAttribute("x-placement")&&(g(t).removeClass(ie),this.config.animation=!1,this.hide(),this.show(),this.config.animation=e)},se._jQueryInterface=function(i){return this.each(function(){var t=g(this).data(Yt),e="object"==typeof i&&i;if((t||!/dispose|hide/.test(i))&&(t||(t=new se(this,e),g(this).data(Yt,t)),"string"==typeof i)){if(void 0===t[i])throw new TypeError('No method named "'+i+'"');t[i]()}})},o(se,null,[{key:"VERSION",get:function(){return"4.4.1"}},{key:"Default",get:function(){return Jt}},{key:"NAME",get:function(){return Bt}},{key:"DATA_KEY",get:function(){return Yt}},{key:"Event",get:function(){return ee}},{key:"EVENT_KEY",get:function(){return Ut}},{key:"DefaultType",get:function(){return Kt}}]),se);function se(t,e){if(void 0===u)throw new TypeError("Bootstrap's tooltips require Popper.js (https://popper.js.org/)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners()}g.fn[Bt]=ae._jQueryInterface,g.fn[Bt].Constructor=ae,g.fn[Bt].noConflict=function(){return g.fn[Bt]=Wt,ae._jQueryInterface};var ce="popover",le="bs.popover",de="."+le,ue=g.fn[ce],he="bs-popover",pe=new RegExp("(^|\\s)"+he+"\\S+","g"),ge=a({},ae.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),fe=a({},ae.DefaultType,{content:"(string|element|function)"}),_e={HIDE:"hide"+de,HIDDEN:"hidden"+de,SHOW:"show"+de,SHOWN:"shown"+de,INSERTED:"inserted"+de,CLICK:"click"+de,FOCUSIN:"focusin"+de,FOCUSOUT:"focusout"+de,MOUSEENTER:"mouseenter"+de,MOUSELEAVE:"mouseleave"+de},me=function(t){function n(){return t.apply(this,arguments)||this}var e,i;i=t,(e=n).prototype=Object.create(i.prototype),(e.prototype.constructor=e).__proto__=i;var r=n.prototype;return r.isWithContent=function(){return this.getTitle()||this._getContent()},r.addAttachmentClass=function(t){g(this.getTipElement()).addClass(he+"-"+t)},r.getTipElement=function(){return this.tip=this.tip||g(this.config.template)[0],this.tip},r.setContent=function(){var t=g(this.getTipElement());this.setElementContent(t.find(".popover-header"),this.getTitle());var e=this._getContent();"function"==typeof e&&(e=e.call(this.element)),this.setElementContent(t.find(".popover-body"),e),t.removeClass("fade show")},r._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},r._cleanTipClass=function(){var t=g(this.getTipElement()),e=t.attr("class").match(pe);null!==e&&0<e.length&&t.removeClass(e.join(""))},n._jQueryInterface=function(i){return this.each(function(){var t=g(this).data(le),e="object"==typeof i?i:null;if((t||!/dispose|hide/.test(i))&&(t||(t=new n(this,e),g(this).data(le,t)),"string"==typeof i)){if(void 0===t[i])throw new TypeError('No method named "'+i+'"');t[i]()}})},o(n,null,[{key:"VERSION",get:function(){return"4.4.1"}},{key:"Default",get:function(){return ge}},{key:"NAME",get:function(){return ce}},{key:"DATA_KEY",get:function(){return le}},{key:"Event",get:function(){return _e}},{key:"EVENT_KEY",get:function(){return de}},{key:"DefaultType",get:function(){return fe}}]),n}(ae);g.fn[ce]=me._jQueryInterface,g.fn[ce].Constructor=me,g.fn[ce].noConflict=function(){return g.fn[ce]=ue,me._jQueryInterface};var ye,xe="scrollspy",ve="bs.scrollspy",we="."+ve,Se=g.fn[xe],be={offset:10,method:"auto",target:""},Te={offset:"number",method:"string",target:"(string|element)"},Ae={ACTIVATE:"activate"+we,SCROLL:"scroll"+we,LOAD_DATA_API:"load"+we+".data-api"},Ce="active",Ee=".nav, .list-group",Pe=".nav-link",Le=".list-group-item",Ie="position",Oe=((ye=Ve.prototype).refresh=function(){var e=this,t=this._scrollElement===this._scrollElement.window?"offset":Ie,r="auto"===this._config.method?t:this._config.method,o=r===Ie?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map(function(t){var e,i=f.getSelectorFromElement(t);if(i&&(e=document.querySelector(i)),e){var n=e.getBoundingClientRect();if(n.width||n.height)return[g(e)[r]().top+o,i]}return null}).filter(function(t){return t}).sort(function(t,e){return t[0]-e[0]}).forEach(function(t){e._offsets.push(t[0]),e._targets.push(t[1])})},ye.dispose=function(){g.removeData(this._element,ve),g(this._scrollElement).off(we),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},ye._getConfig=function(t){if("string"!=typeof(t=a({},be,{},"object"==typeof t&&t?t:{})).target){var e=g(t.target).attr("id");e||(e=f.getUID(xe),g(t.target).attr("id",e)),t.target="#"+e}return f.typeCheckConfig(xe,t,Te),t},ye._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},ye._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},ye._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},ye._process=function(){var t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),i=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),i<=t){var n=this._targets[this._targets.length-1];this._activeTarget!==n&&this._activate(n)}else{if(this._activeTarget&&t<this._offsets[0]&&0<this._offsets[0])return this._activeTarget=null,void this._clear();for(var r=this._offsets.length;r--;)this._activeTarget!==this._targets[r]&&t>=this._offsets[r]&&(void 0===this._offsets[r+1]||t<this._offsets[r+1])&&this._activate(this._targets[r])}},ye._activate=function(e){this._activeTarget=e,this._clear();var t=this._selector.split(",").map(function(t){return t+'[data-target="'+e+'"],'+t+'[href="'+e+'"]'}),i=g([].slice.call(document.querySelectorAll(t.join(","))));i.hasClass("dropdown-item")?(i.closest(".dropdown").find(".dropdown-toggle").addClass(Ce),i.addClass(Ce)):(i.addClass(Ce),i.parents(Ee).prev(Pe+", "+Le).addClass(Ce),i.parents(Ee).prev(".nav-item").children(Pe).addClass(Ce)),g(this._scrollElement).trigger(Ae.ACTIVATE,{relatedTarget:e})},ye._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter(function(t){return t.classList.contains(Ce)}).forEach(function(t){return t.classList.remove(Ce)})},Ve._jQueryInterface=function(e){return this.each(function(){var t=g(this).data(ve);if(t||(t=new Ve(this,"object"==typeof e&&e),g(this).data(ve,t)),"string"==typeof e){if(void 0===t[e])throw new TypeError('No method named "'+e+'"');t[e]()}})},o(Ve,null,[{key:"VERSION",get:function(){return"4.4.1"}},{key:"Default",get:function(){return be}}]),Ve);function Ve(t,e){var i=this;this._element=t,this._scrollElement="BODY"===t.tagName?window:t,this._config=this._getConfig(e),this._selector=this._config.target+" "+Pe+","+this._config.target+" "+Le+","+this._config.target+" .dropdown-item",this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,g(this._scrollElement).on(Ae.SCROLL,function(t){return i._process(t)}),this.refresh(),this._process()}g(window).on(Ae.LOAD_DATA_API,function(){for(var t=[].slice.call(document.querySelectorAll('[data-spy="scroll"]')),e=t.length;e--;){var i=g(t[e]);Oe._jQueryInterface.call(i,i.data())}}),g.fn[xe]=Oe._jQueryInterface,g.fn[xe].Constructor=Oe,g.fn[xe].noConflict=function(){return g.fn[xe]=Se,Oe._jQueryInterface};var De,Ge="bs.tab",ke="."+Ge,Re=g.fn.tab,Ne={HIDE:"hide"+ke,HIDDEN:"hidden"+ke,SHOW:"show"+ke,SHOWN:"shown"+ke,CLICK_DATA_API:"click"+ke+".data-api"},Fe="active",Me=".active",He="> li > .active",ze=((De=je.prototype).show=function(){var i=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&g(this._element).hasClass(Fe)||g(this._element).hasClass("disabled"))){var t,n,e=g(this._element).closest(".nav, .list-group")[0],r=f.getSelectorFromElement(this._element);if(e){var o="UL"===e.nodeName||"OL"===e.nodeName?He:Me;n=(n=g.makeArray(g(e).find(o)))[n.length-1]}var a=g.Event(Ne.HIDE,{relatedTarget:this._element}),s=g.Event(Ne.SHOW,{relatedTarget:n});if(n&&g(n).trigger(a),g(this._element).trigger(s),!s.isDefaultPrevented()&&!a.isDefaultPrevented()){r&&(t=document.querySelector(r)),this._activate(this._element,e);var c=function(){var t=g.Event(Ne.HIDDEN,{relatedTarget:i._element}),e=g.Event(Ne.SHOWN,{relatedTarget:n});g(n).trigger(t),g(i._element).trigger(e)};t?this._activate(t,t.parentNode,c):c()}}},De.dispose=function(){g.removeData(this._element,Ge),this._element=null},De._activate=function(t,e,i){function n(){return r._transitionComplete(t,o,i)}var r=this,o=(!e||"UL"!==e.nodeName&&"OL"!==e.nodeName?g(e).children(Me):g(e).find(He))[0],a=i&&o&&g(o).hasClass("fade");if(o&&a){var s=f.getTransitionDurationFromElement(o);g(o).removeClass("show").one(f.TRANSITION_END,n).emulateTransitionEnd(s)}else n()},De._transitionComplete=function(t,e,i){if(e){g(e).removeClass(Fe);var n=g(e.parentNode).find("> .dropdown-menu .active")[0];n&&g(n).removeClass(Fe),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!1)}if(g(t).addClass(Fe),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),f.reflow(t),t.classList.contains("fade")&&t.classList.add("show"),t.parentNode&&g(t.parentNode).hasClass("dropdown-menu")){var r=g(t).closest(".dropdown")[0];if(r){var o=[].slice.call(r.querySelectorAll(".dropdown-toggle"));g(o).addClass(Fe)}t.setAttribute("aria-expanded",!0)}i&&i()},je._jQueryInterface=function(i){return this.each(function(){var t=g(this),e=t.data(Ge);if(e||(e=new je(this),t.data(Ge,e)),"string"==typeof i){if(void 0===e[i])throw new TypeError('No method named "'+i+'"');e[i]()}})},o(je,null,[{key:"VERSION",get:function(){return"4.4.1"}}]),je);function je(t){this._element=t}g(document).on(Ne.CLICK_DATA_API,'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',function(t){t.preventDefault(),ze._jQueryInterface.call(g(this),"show")}),g.fn.tab=ze._jQueryInterface,g.fn.tab.Constructor=ze,g.fn.tab.noConflict=function(){return g.fn.tab=Re,ze._jQueryInterface};var Xe,Be="toast",Ye="bs.toast",Ue="."+Ye,We=g.fn[Be],Qe={CLICK_DISMISS:"click.dismiss"+Ue,HIDE:"hide"+Ue,HIDDEN:"hidden"+Ue,SHOW:"show"+Ue,SHOWN:"shown"+Ue},qe="show",$e="showing",Ke={animation:"boolean",autohide:"boolean",delay:"number"},Ze={animation:!0,autohide:!0,delay:500},Je=((Xe=ti.prototype).show=function(){var t=this,e=g.Event(Qe.SHOW);if(g(this._element).trigger(e),!e.isDefaultPrevented()){this._config.animation&&this._element.classList.add("fade");var i=function(){t._element.classList.remove($e),t._element.classList.add(qe),g(t._element).trigger(Qe.SHOWN),t._config.autohide&&(t._timeout=setTimeout(function(){t.hide()},t._config.delay))};if(this._element.classList.remove("hide"),f.reflow(this._element),this._element.classList.add($e),this._config.animation){var n=f.getTransitionDurationFromElement(this._element);g(this._element).one(f.TRANSITION_END,i).emulateTransitionEnd(n)}else i()}},Xe.hide=function(){if(this._element.classList.contains(qe)){var t=g.Event(Qe.HIDE);g(this._element).trigger(t),t.isDefaultPrevented()||this._close()}},Xe.dispose=function(){clearTimeout(this._timeout),this._timeout=null,this._element.classList.contains(qe)&&this._element.classList.remove(qe),g(this._element).off(Qe.CLICK_DISMISS),g.removeData(this._element,Ye),this._element=null,this._config=null},Xe._getConfig=function(t){return t=a({},Ze,{},g(this._element).data(),{},"object"==typeof t&&t?t:{}),f.typeCheckConfig(Be,t,this.constructor.DefaultType),t},Xe._setListeners=function(){var t=this;g(this._element).on(Qe.CLICK_DISMISS,'[data-dismiss="toast"]',function(){return t.hide()})},Xe._close=function(){function t(){e._element.classList.add("hide"),g(e._element).trigger(Qe.HIDDEN)}var e=this;if(this._element.classList.remove(qe),this._config.animation){var i=f.getTransitionDurationFromElement(this._element);g(this._element).one(f.TRANSITION_END,t).emulateTransitionEnd(i)}else t()},ti._jQueryInterface=function(i){return this.each(function(){var t=g(this),e=t.data(Ye);if(e||(e=new ti(this,"object"==typeof i&&i),t.data(Ye,e)),"string"==typeof i){if(void 0===e[i])throw new TypeError('No method named "'+i+'"');e[i](this)}})},o(ti,null,[{key:"VERSION",get:function(){return"4.4.1"}},{key:"DefaultType",get:function(){return Ke}},{key:"Default",get:function(){return Ze}}]),ti);function ti(t,e){this._element=t,this._config=this._getConfig(e),this._timeout=null,this._setListeners()}g.fn[Be]=Je._jQueryInterface,g.fn[Be].Constructor=Je,g.fn[Be].noConflict=function(){return g.fn[Be]=We,Je._jQueryInterface},t.Alert=p,t.Button=E,t.Carousel=X,t.Collapse=rt,t.Dropdown=wt,t.Modal=Nt,t.Popover=me,t.Scrollspy=Oe,t.Tab=ze,t.Toast=Je,t.Tooltip=ae,t.Util=f,Object.defineProperty(t,"__esModule",{value:!0})});var base_url=window.location.origin,url_path=new URL(window.location.href).pathname,dropzone=null,date=new Date,lastMonth=date.getFullYear()+"-12-"+date.getDate(),calendar=null;function jsUri(t){var e=url_path.split("/");return t<e.length?e[t]:""}function IsEmpty(t){return""==$.trim(t)}function _form(e){var i=clickedButton,n=i.text();i.data("type");$.ajax({type:e.attr("method"),url:e.attr("action"),data:e.serialize(),dataType:"json",beforeSend:function(){i.attr("disabled",!0),i.text("Loading..."),$(".alert-dismissible").fadeOut(function(){$(this).remove()}),$(".text-danger").fadeOut(function(){$(this).remove()})},success:function(t){if(1==t.status){if(void 0!==t.text)$('<div class="alert alert-success alert-dismissible fade show" />').html(t.text).insertBefore(e),$("html, body").animate({scrollTop:$(e).offset().top-200},500),i.text(n),i.removeAttr("disabled");"redirect"==t.action&&(void 0!==t.slow?setTimeout(function(){window.location=t.url},2500):setTimeout(function(){window.location=t.url},1e3))}else{if(i.text(n),i.removeAttr("disabled"),IsEmpty(t.text.data)){if(!IsEmpty(t.text))$('<div class="alert alert-danger alert-dismissible fade show" />').html(t.text).insertBefore(e)}else $.each(t.text.data,function(t,e){$(e.attr_class).parents(".form-group").append('<span class="text-danger">'+e.message+"</span>")})}"redirect"==t.action&&(void 0!==t.slow?setTimeout(function(){window.location=t.url},2500):setTimeout(function(){window.location=t.url},1e3))}})}if($(document).on("click","button[type=submit], input[type=submit]",function(){clickedButton=$(this)}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).c3=e()}(this,function(){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return r(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return r(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function d(t){var e=this;e.d3=window.d3?window.d3:"undefined"!=typeof require?require("d3"):void 0,e.api=t,e.config=e.getDefaultConfig(),e.data={},e.cache={},e.axes={}}function o(t){this.internal=new d(this),this.internal.loadConfig(t),this.internal.beforeInit(t),this.internal.init(),this.internal.afterInit(t),function e(i,n,r){Object.keys(i).forEach(function(t){n[t]=i[t].bind(r),0<Object.keys(i[t]).length&&e(i[t],n[t],r)})}(o.prototype,this,this)}function a(t){return Math.ceil(t)+.5}function c(t){return 10*Math.ceil(t/10)}function G(t){return t[1]-t[0]}function X(t,e,i){return k(t[e])?t[e]:i}function x(t){var e=f(t),i=[t.pathSegList.getItem(0),t.pathSegList.getItem(1)];return{x:i[0].x,y:Math.min(i[0].y,i[1].y),width:e.width,height:e.height}}function h(t){return Array.isArray(t)}function u(t){return null==t||m(t)&&0===t.length||"object"===s(t)&&0===Object.keys(t).length}function p(t){return"function"==typeof t}function l(t){return"number"==typeof t}function S(t){return void 0===t}function E(t){return t||0===t}function P(t){return!u(t)}function _(t){return"string"==typeof t?t.replace(/</g,"&lt;").replace(/>/g,"&gt;"):t}function g(t){var e=function(t){void 0===t&&(t=window.navigator.userAgent);var e=t.indexOf("MSIE ");return 0<e?parseInt(t.substring(e+5,t.indexOf(".",e)),10):0<(e=t.indexOf("Trident/"))&&(e=t.indexOf("rv:"),parseInt(t.substring(e+3,t.indexOf(".",e)),10))}();return void 0===t?!!e:t===e}var f=function(t){try{return t.getBBox()}catch(t){return{x:0,y:0,width:0,height:0}}},k=function(t){return void 0!==t},m=function(t){return"string"==typeof t};function e(t,e){var i=this;i.component=t,i.params=e||{},i.d3=t.d3,i.scale=i.d3.scaleLinear(),i.range,i.orient="bottom",i.innerTickSize=6,i.outerTickSize=this.params.withOuterTick?6:0,i.tickPadding=3,i.tickValues=null,i.tickFormat,i.tickArguments,i.tickOffset=0,i.tickCulling=!0,i.tickCentered,i.tickTextCharSize,i.tickTextRotate=i.params.tickTextRotate,i.tickLength,i.axis=i.generateAxis()}e.prototype.axisX=function(t,e,i){t.attr("transform",function(t){return"translate("+Math.ceil(e(t)+i)+", 0)"})},e.prototype.axisY=function(t,e){t.attr("transform",function(t){return"translate(0,"+Math.ceil(e(t))+")"})},e.prototype.scaleExtent=function(t){var e=t[0],i=t[t.length-1];return e<i?[e,i]:[i,e]},e.prototype.generateTicks=function(t){var e,i,n=[];if(t.ticks)return t.ticks.apply(t,this.tickArguments);for(i=t.domain(),e=Math.ceil(i[0]);e<i[1];e++)n.push(e);return 0<n.length&&0<n[0]&&n.unshift(n[0]-(n[1]-n[0])),n},e.prototype.copyScale=function(){var t,e=this.scale.copy();return this.params.isCategory&&(t=this.scale.domain(),e.domain([t[0],t[1]-1])),e},e.prototype.textFormatted=function(t){var e=this.tickFormat?this.tickFormat(t):t;return void 0!==e?e:""},e.prototype.updateRange=function(){var t=this;return t.range=t.scale.rangeExtent?t.scale.rangeExtent():t.scaleExtent(t.scale.range()),t.range},e.prototype.updateTickTextCharSize=function(t){var o=this;if(o.tickTextCharSize)return o.tickTextCharSize;var a={h:11.5,w:5.5};return t.select("text").text(function(t){return o.textFormatted(t)}).each(function(t){var e=f(this),i=o.textFormatted(t),n=e.height,r=i?e.width/i.length:void 0;n&&r&&(a.h=n,a.w=r)}).text(""),o.tickTextCharSize=a},e.prototype.isVertical=function(){return"left"===this.orient||"right"===this.orient},e.prototype.tspanData=function(t,e,i){var n=this,r=n.params.tickMultiline?n.splitTickText(t,i):[].concat(n.textFormatted(t));return n.params.tickMultiline&&0<n.params.tickMultilineMax&&(r=n.ellipsify(r,n.params.tickMultilineMax)),r.map(function(t){return{index:e,splitted:t,length:r.length}})},e.prototype.splitTickText=function(t,e){var r,o,a,s=this,i=s.textFormatted(t),c=s.params.tickWidth;if("[object Array]"===Object.prototype.toString.call(i))return i;return(!c||c<=0)&&(c=s.isVertical()?95:s.params.isCategory?Math.ceil(e(1)-e(0))-12:110),function t(e,i){o=void 0;for(var n=1;n<i.length;n++)if(" "===i.charAt(n)&&(o=n),r=i.substr(0,n+1),a=s.tickTextCharSize.w*r.length,c<a)return t(e.concat(i.substr(0,o||n)),i.slice(o?o+1:n));return e.concat(i)}([],i+"")},e.prototype.ellipsify=function(t,e){if(t.length<=e)return t;for(var i=t.slice(0,e),n=3,r=e-1;0<=r;r--){var o=i[r].length;if(i[r]=i[r].substr(0,o-n).padEnd(o,"."),(n-=o)<=0)break}return i},e.prototype.updateTickLength=function(){this.tickLength=Math.max(this.innerTickSize,0)+this.tickPadding},e.prototype.lineY2=function(t){var e=this,i=e.scale(t)+(e.tickCentered?0:e.tickOffset);return e.range[0]<i&&i<e.range[1]?e.innerTickSize:0},e.prototype.textY=function(){var t=this.tickTextRotate;return t?11.5-t/15*2.5*(0<t?1:-1):this.tickLength},e.prototype.textTransform=function(){var t=this.tickTextRotate;return t?"rotate("+t+")":""},e.prototype.textTextAnchor=function(){var t=this.tickTextRotate;return t?0<t?"start":"end":"middle"},e.prototype.tspanDx=function(){var t=this.tickTextRotate;return t?8*Math.sin(Math.PI*(t/180)):0},e.prototype.tspanDy=function(t,e){var i=this.tickTextCharSize.h;return 0===e&&(i=this.isVertical()?-((t.length-1)*(this.tickTextCharSize.h/2)-3):".71em"),i},e.prototype.generateAxis=function(){var w=this,S=w.d3,b=w.params;function T(t,x){var v;return t.each(function(){var t,e,i,n=T.g=S.select(this),r=this.__chart__||w.scale,o=this.__chart__=w.copyScale(),a=w.tickValues?w.tickValues:w.generateTicks(o),s=n.selectAll(".tick").data(a,o),c=s.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),l=s.exit().remove(),d=s.merge(c);b.isCategory?(w.tickOffset=Math.ceil((o(1)-o(0))/2),e=w.tickCentered?0:w.tickOffset,i=w.tickCentered?w.tickOffset:0):w.tickOffset=e=0,w.updateRange(),w.updateTickLength(),w.updateTickTextCharSize(n.select(".tick"));var u=d.select("line").merge(c.append("line")),h=d.select("text").merge(c.append("text")),p=d.selectAll("text").selectAll("tspan").data(function(t,e){return w.tspanData(t,e,o)}),g=p.enter().append("tspan").merge(p).text(function(t){return t.splitted});p.exit().remove();var f=n.selectAll(".domain").data([0]),_=f.enter().append("path").merge(f).attr("class","domain");switch(w.orient){case"bottom":t=w.axisX,u.attr("x1",e).attr("x2",e).attr("y2",function(t,e){return w.lineY2(t,e)}),h.attr("x",0).attr("y",function(t,e){return w.textY(t,e)}).attr("transform",function(t,e){return w.textTransform(t,e)}).style("text-anchor",function(t,e){return w.textTextAnchor(t,e)}),g.attr("x",0).attr("dy",function(t,e){return w.tspanDy(t,e)}).attr("dx",function(t,e){return w.tspanDx(t,e)}),_.attr("d","M"+w.range[0]+","+w.outerTickSize+"V0H"+w.range[1]+"V"+w.outerTickSize);break;case"top":t=w.axisX,u.attr("x1",e).attr("x2",e).attr("y2",function(t,e){return-1*w.lineY2(t,e)}),h.attr("x",0).attr("y",function(t,e){return-1*w.textY(t,e)-(b.isCategory?2:w.tickLength-2)}).attr("transform",function(t,e){return w.textTransform(t,e)}).style("text-anchor",function(t,e){return w.textTextAnchor(t,e)}),g.attr("x",0).attr("dy",function(t,e){return w.tspanDy(t,e)}).attr("dx",function(t,e){return w.tspanDx(t,e)}),_.attr("d","M"+w.range[0]+","+-w.outerTickSize+"V0H"+w.range[1]+"V"+-w.outerTickSize);break;case"left":t=w.axisY,u.attr("x2",-w.innerTickSize).attr("y1",i).attr("y2",i),h.attr("x",-w.tickLength).attr("y",w.tickOffset).style("text-anchor","end"),g.attr("x",-w.tickLength).attr("dy",function(t,e){return w.tspanDy(t,e)}),_.attr("d","M"+-w.outerTickSize+","+w.range[0]+"H0V"+w.range[1]+"H"+-w.outerTickSize);break;case"right":t=w.axisY,u.attr("x2",w.innerTickSize).attr("y1",i).attr("y2",i),h.attr("x",w.tickLength).attr("y",w.tickOffset).style("text-anchor","start"),g.attr("x",w.tickLength).attr("dy",function(t,e){return w.tspanDy(t,e)}),_.attr("d","M"+w.outerTickSize+","+w.range[0]+"H0V"+w.range[1]+"H"+w.outerTickSize)}if(o.rangeBand){var m=o,y=m.rangeBand()/2;r=o=function(t){return m(t)+y}}else r.rangeBand?r=o:l.call(t,o,w.tickOffset);c.call(t,r,w.tickOffset),v=(x?d.transition(x):d).style("opacity",1).call(t,o,w.tickOffset)}),v}return T.scale=function(t){return arguments.length?(w.scale=t,T):w.scale},T.orient=function(t){return arguments.length?(w.orient=t in{top:1,right:1,bottom:1,left:1}?t+"":"bottom",T):w.orient},T.tickFormat=function(t){return arguments.length?(w.tickFormat=t,T):w.tickFormat},T.tickCentered=function(t){return arguments.length?(w.tickCentered=t,T):w.tickCentered},T.tickOffset=function(){return w.tickOffset},T.tickInterval=function(){var t;return(t=b.isCategory?2*w.tickOffset:(T.g.select("path.domain").node().getTotalLength()-2*w.outerTickSize)/T.g.selectAll("line").size())===1/0?0:t},T.ticks=function(){return arguments.length?(w.tickArguments=arguments,T):w.tickArguments},T.tickCulling=function(t){return arguments.length?(w.tickCulling=t,T):w.tickCulling},T.tickValues=function(t){if("function"==typeof t)w.tickValues=function(){return t(w.scale.domain())};else{if(!arguments.length)return w.tickValues;w.tickValues=t}return T},T};function y(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,y),this.owner=t,this.d3=t.d3,this.internal=e}var B={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",dragZoom:"c3-drag-zoom",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",title:"c3-title",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcLabelLine:"c3-arc-label-line",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",colorScale:"c3-colorscale",stanfordElements:"c3-stanford-elements",stanfordLine:"c3-stanford-line",stanfordLines:"c3-stanford-lines",stanfordRegion:"c3-stanford-region",stanfordRegions:"c3-stanford-regions",stanfordText:"c3-stanford-text",stanfordTexts:"c3-stanford-texts",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"};y.prototype.init=function(){var t=this.owner,e=t.config,i=t.main;t.axes.x=i.append("g").attr("class",B.axis+" "+B.axisX).attr("clip-path",e.axis_x_inner?"":t.clipPathForXAxis).attr("transform",t.getTranslate("x")).style("visibility",e.axis_x_show?"visible":"hidden"),t.axes.x.append("text").attr("class",B.axisXLabel).attr("transform",e.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),t.axes.y=i.append("g").attr("class",B.axis+" "+B.axisY).attr("clip-path",e.axis_y_inner?"":t.clipPathForYAxis).attr("transform",t.getTranslate("y")).style("visibility",e.axis_y_show?"visible":"hidden"),t.axes.y.append("text").attr("class",B.axisYLabel).attr("transform",e.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),t.axes.y2=i.append("g").attr("class",B.axis+" "+B.axisY2).attr("transform",t.getTranslate("y2")).style("visibility",e.axis_y2_show?"visible":"hidden"),t.axes.y2.append("text").attr("class",B.axisY2Label).attr("transform",e.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},y.prototype.getXAxis=function(t,e,i,n,r,o,a){var s=this.owner,c=s.config,l={isCategory:s.isCategorized(),withOuterTick:r,tickMultiline:c.axis_x_tick_multiline,tickMultilineMax:c.axis_x_tick_multiline?Number(c.axis_x_tick_multilineMax):0,tickWidth:c.axis_x_tick_width,tickTextRotate:a?0:c.axis_x_tick_rotate,withoutTransition:o},d=new this.internal(this,l).axis.scale(t).orient(e);return s.isTimeSeries()&&n&&"function"!=typeof n&&(n=n.map(function(t){return s.parseDate(t)})),d.tickFormat(i).tickValues(n),s.isCategorized()&&(d.tickCentered(c.axis_x_tick_centered),u(c.axis_x_tick_culling)&&(c.axis_x_tick_culling=!1)),d},y.prototype.updateXAxisTickValues=function(t,e){var i,n=this.owner,r=n.config;return(r.axis_x_tick_fit||r.axis_x_tick_count)&&(i=this.generateTickValues(n.mapTargetsToUniqueXs(t),r.axis_x_tick_count,n.isTimeSeries())),e?e.tickValues(i):(n.xAxis.tickValues(i),n.subXAxis.tickValues(i)),i},y.prototype.getYAxis=function(t,e,i,n,r,o,a){var s=this.owner,c=s.config,l=c["axis_".concat(t,"_tick_format")];!l&&s.isAxisNormalized(t)&&(l=function(t){return"".concat(t,"%")});var d=new this.internal(this,{withOuterTick:r,withoutTransition:o,tickTextRotate:a?0:c.axis_y_tick_rotate}).axis.scale(e).orient(i);return l&&d.tickFormat(l),s.isTimeSeriesY()?d.ticks(c.axis_y_tick_time_type,c.axis_y_tick_time_interval):d.tickValues(n),d},y.prototype.getId=function(t){var e=this.owner.config;return t in e.data_axes?e.data_axes[t]:"y"},y.prototype.getXAxisTickFormat=function(){var e=this.owner,i=e.config,n=e.isTimeSeries()?e.defaultAxisTimeFormat:e.isCategorized()?e.categoryName:function(t){return t};return i.axis_x_tick_format&&(p(i.axis_x_tick_format)?n=i.axis_x_tick_format:e.isTimeSeries()&&(n=function(t){return t?e.axisTimeFormat(i.axis_x_tick_format)(t):""})),p(n)?function(t){return n.call(e,t)}:n},y.prototype.getTickValues=function(t,e){return t||(e?e.tickValues():void 0)},y.prototype.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},y.prototype.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},y.prototype.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},y.prototype.getLabelOptionByAxisId=function(t){var e,i=this.owner.config;return"y"===t?e=i.axis_y_label:"y2"===t?e=i.axis_y2_label:"x"===t&&(e=i.axis_x_label),e},y.prototype.getLabelText=function(t){var e=this.getLabelOptionByAxisId(t);return m(e)?e:e?e.text:null},y.prototype.setLabelText=function(t,e){var i=this.owner.config,n=this.getLabelOptionByAxisId(t);m(n)?"y"===t?i.axis_y_label=e:"y2"===t?i.axis_y2_label=e:"x"===t&&(i.axis_x_label=e):n&&(n.text=e)},y.prototype.getLabelPosition=function(t,e){var i=this.getLabelOptionByAxisId(t),n=i&&"object"===s(i)&&i.position?i.position:e;return{isInner:0<=n.indexOf("inner"),isOuter:0<=n.indexOf("outer"),isLeft:0<=n.indexOf("left"),isCenter:0<=n.indexOf("center"),isRight:0<=n.indexOf("right"),isTop:0<=n.indexOf("top"),isMiddle:0<=n.indexOf("middle"),isBottom:0<=n.indexOf("bottom")}},y.prototype.getXAxisLabelPosition=function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},y.prototype.getYAxisLabelPosition=function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},y.prototype.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")},y.prototype.getLabelPositionById=function(t){return"y2"===t?this.getY2AxisLabelPosition():"y"===t?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},y.prototype.textForXAxisLabel=function(){return this.getLabelText("x")},y.prototype.textForYAxisLabel=function(){return this.getLabelText("y")},y.prototype.textForY2AxisLabel=function(){return this.getLabelText("y2")},y.prototype.xForAxisLabel=function(t,e){var i=this.owner;return t?e.isLeft?0:e.isCenter?i.width/2:i.width:e.isBottom?-i.height:e.isMiddle?-i.height/2:0},y.prototype.dxForAxisLabel=function(t,e){return t?e.isLeft?"0.5em":e.isRight?"-0.5em":"0":e.isTop?"-0.5em":e.isBottom?"0.5em":"0"},y.prototype.textAnchorForAxisLabel=function(t,e){return t?e.isLeft?"start":e.isCenter?"middle":"end":e.isBottom?"start":e.isMiddle?"middle":"end"},y.prototype.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},y.prototype.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},y.prototype.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},y.prototype.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},y.prototype.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},y.prototype.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},y.prototype.dyForXAxisLabel=function(){var t=this.owner,e=t.config,i=this.getXAxisLabelPosition();return e.axis_rotated?i.isInner?"1.2em":-25-(t.config.axis_x_inner?0:this.getMaxTickWidth("x")):i.isInner?"-0.5em":t.getHorizontalAxisHeight("x")-10},y.prototype.dyForYAxisLabel=function(){var t=this.owner,e=this.getYAxisLabelPosition();return t.config.axis_rotated?e.isInner?"-0.5em":"3em":e.isInner?"1.2em":-10-(t.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},y.prototype.dyForY2AxisLabel=function(){var t=this.owner,e=this.getY2AxisLabelPosition();return t.config.axis_rotated?e.isInner?"1.2em":"-2.2em":e.isInner?"-0.5em":15+(t.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},y.prototype.textAnchorForXAxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(!t.config.axis_rotated,this.getXAxisLabelPosition())},y.prototype.textAnchorForYAxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(t.config.axis_rotated,this.getYAxisLabelPosition())},y.prototype.textAnchorForY2AxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(t.config.axis_rotated,this.getY2AxisLabelPosition())},y.prototype.getMaxTickWidth=function(t,e){var i,n,r,o,a=this.owner,s=0;return e&&a.currentMaxTickWidths[t]||(a.svg&&(i=a.filterTargetsToShow(a.data.targets),"y"===t?(n=a.y.copy().domain(a.getYDomain(i,"y")),r=this.getYAxis(t,n,a.yOrient,a.yAxisTickValues,!1,!0,!0)):"y2"===t?(n=a.y2.copy().domain(a.getYDomain(i,"y2")),r=this.getYAxis(t,n,a.y2Orient,a.y2AxisTickValues,!1,!0,!0)):(n=a.x.copy().domain(a.getXDomain(i)),r=this.getXAxis(n,a.xOrient,a.xAxisTickFormat,a.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(i,r)),(o=a.d3.select("body").append("div").classed("c3",!0)).append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0).append("g").call(r).each(function(){a.d3.select(this).selectAll("text").each(function(){var t=f(this);s<t.width&&(s=t.width)}),o.remove()})),a.currentMaxTickWidths[t]=s<=0?a.currentMaxTickWidths[t]:s),a.currentMaxTickWidths[t]},y.prototype.updateLabels=function(t){var e=this.owner,i=e.main.select("."+B.axisX+" ."+B.axisXLabel),n=e.main.select("."+B.axisY+" ."+B.axisYLabel),r=e.main.select("."+B.axisY2+" ."+B.axisY2Label);(t?i.transition():i).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(t?n.transition():n).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(t?r.transition():r).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},y.prototype.getPadding=function(t,e,i,n){var r="number"==typeof t?t:t[e];return E(r)?"ratio"===t.unit?t[e]*n:this.convertPixelsToAxisPadding(r,n):i},y.prototype.convertPixelsToAxisPadding=function(t,e){var i=this.owner;return e*(t/(i.config.axis_rotated?i.width:i.height))},y.prototype.generateTickValues=function(t,e,i){var n,r,o,a,s,c,l,d=t;if(e)if(1===(n=p(e)?e():e))d=[t[0]];else if(2===n)d=[t[0],t[t.length-1]];else if(2<n){for(a=n-2,r=t[0],s=((o=t[t.length-1])-r)/(1+a),d=[r],c=0;c<a;c++)l=+r+s*(c+1),d.push(i?new Date(l):l);d.push(o)}return i||(d=d.sort(function(t,e){return t-e})),d},y.prototype.generateTransitions=function(t){var e=this.owner.axes;return{axisX:t?e.x.transition().duration(t):e.x,axisY:t?e.y.transition().duration(t):e.y,axisY2:t?e.y2.transition().duration(t):e.y2,axisSubX:t?e.subx.transition().duration(t):e.subx}},y.prototype.redraw=function(t,e){var i=this.owner,n=t?i.d3.transition().duration(t):null;i.axes.x.style("opacity",e?0:1).call(i.xAxis,n),i.axes.y.style("opacity",e?0:1).call(i.yAxis,n),i.axes.y2.style("opacity",e?0:1).call(i.y2Axis,n),i.axes.subx.style("opacity",e?0:1).call(i.subXAxis,n)};var t={version:"0.7.18",chart:{fn:o.prototype,internal:{fn:d.prototype,axis:{fn:y.prototype,internal:{fn:e.prototype}}}},generate:function(t){return new o(t)}};function v(t,e,i){var n=[.01,10];function r(t){return i(e(t))}return e||(e=t.scaleLinear()).range(n),i||((i=t.scaleLog()).domain(n),i.nice()),r.domain=function(t){return arguments.length?(e.domain(t),r):e.domain()},r.range=function(t){return arguments.length?(i.range(t),r):i.range()},r.ticks=function(t){return function(t,e,i){var n,r,o,a;if(arguments.length<3)i=10;else if(0===i)return[];a=(e-t)/(r=i-1),o=t,(n=new Array(i))[0]=Math.pow(10,o);for(var s=1;s<r;s++)o+=a,n[s]=Math.pow(10,o);return n[r]=Math.pow(10,e),n}(-2,1,t||10).map(function(t){return e.invert(t)})},r.copy=function(){return v(t,e.copy(),i.copy())},r}function w(t){return t/Math.pow(10,Math.ceil(Math.log(t)/Math.LN10-1e-12))==1}d.prototype.beforeInit=function(){},d.prototype.afterInit=function(){},d.prototype.init=function(){var t=this,e=t.config;if(t.initParams(),e.data_url)t.convertUrlToData(e.data_url,e.data_mimeType,e.data_headers,e.data_keys,t.initWithData);else if(e.data_json)t.initWithData(t.convertJsonToData(e.data_json,e.data_keys));else if(e.data_rows)t.initWithData(t.convertRowsToData(e.data_rows));else{if(!e.data_columns)throw Error("url or json or rows or columns is required.");t.initWithData(t.convertColumnsToData(e.data_columns))}},d.prototype.initParams=function(){var t=this,e=t.d3,i=t.config;t.clipId="c3-"+(new Date).valueOf()+"-clip",t.clipIdForXAxis=t.clipId+"-xaxis",t.clipIdForYAxis=t.clipId+"-yaxis",t.clipIdForGrid=t.clipId+"-grid",t.clipIdForSubchart=t.clipId+"-subchart",t.clipPath=t.getClipPath(t.clipId),t.clipPathForXAxis=t.getClipPath(t.clipIdForXAxis),t.clipPathForYAxis=t.getClipPath(t.clipIdForYAxis),t.clipPathForGrid=t.getClipPath(t.clipIdForGrid),t.clipPathForSubchart=t.getClipPath(t.clipIdForSubchart),t.dragStart=null,t.dragging=!1,t.flowing=!1,t.cancelClick=!1,t.mouseover=void 0,t.transiting=!1,t.color=t.generateColor(),t.levelColor=t.generateLevelColor(),t.dataTimeParse=(i.data_xLocaltime?e.timeParse:e.utcParse)(t.config.data_xFormat),t.axisTimeFormat=i.axis_x_localtime?e.timeFormat:e.utcFormat,t.defaultAxisTimeFormat=function(t){return t.getMilliseconds()?e.timeFormat(".%L")(t):t.getSeconds()?e.timeFormat(":%S")(t):t.getMinutes()?e.timeFormat("%I:%M")(t):t.getHours()?e.timeFormat("%I %p")(t):t.getDay()&&1!==t.getDate()?e.timeFormat("%-m/%-d")(t):1!==t.getDate()?e.timeFormat("%-m/%-d")(t):t.getMonth()?e.timeFormat("%-m/%-d")(t):e.timeFormat("%Y/%-m/%-d")(t)},t.hiddenTargetIds=[],t.hiddenLegendIds=[],t.focusedTargetIds=[],t.defocusedTargetIds=[],t.xOrient=i.axis_rotated?i.axis_x_inner?"right":"left":i.axis_x_inner?"top":"bottom",t.yOrient=i.axis_rotated?i.axis_y_inner?"top":"bottom":i.axis_y_inner?"right":"left",t.y2Orient=i.axis_rotated?i.axis_y2_inner?"bottom":"top":i.axis_y2_inner?"left":"right",t.subXOrient=i.axis_rotated?"left":"bottom",t.isLegendRight="right"===i.legend_position,t.isLegendInset="inset"===i.legend_position,t.isLegendTop="top-left"===i.legend_inset_anchor||"top-right"===i.legend_inset_anchor,t.isLegendLeft="top-left"===i.legend_inset_anchor||"bottom-left"===i.legend_inset_anchor,t.legendStep=0,t.legendItemWidth=0,t.legendItemHeight=0,t.currentMaxTickWidths={x:0,y:0,y2:0},t.rotated_padding_left=30,t.rotated_padding_right=i.axis_rotated&&!i.axis_x_show?0:30,t.rotated_padding_top=5,t.withoutFadeIn={},t.intervalForObserveInserted=void 0,t.axes.subx=e.selectAll([])},d.prototype.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},d.prototype.initWithData=function(t){var e,i,n=this,r=n.d3,o=n.config,a=!0;n.axis=new y(n),o.bindto?"function"==typeof o.bindto.node?n.selectChart=o.bindto:n.selectChart=r.select(o.bindto):n.selectChart=r.selectAll([]),n.selectChart.empty()&&(n.selectChart=r.select(document.createElement("div")).style("opacity",0),n.observeInserted(n.selectChart),a=!1),n.selectChart.html("").classed("c3",!0),n.data.xs={},n.data.targets=n.convertDataToTargets(t),o.data_filter&&(n.data.targets=n.data.targets.filter(o.data_filter)),o.data_hide&&n.addHiddenTargetIds(!0===o.data_hide?n.mapToIds(n.data.targets):o.data_hide),o.legend_hide&&n.addHiddenLegendIds(!0===o.legend_hide?n.mapToIds(n.data.targets):o.legend_hide),n.isStanfordGraphType()&&n.initStanfordData(),n.updateSizes(),n.updateScales(),n.x.domain(r.extent(n.getXDomain(n.data.targets))),n.y.domain(n.getYDomain(n.data.targets,"y")),n.y2.domain(n.getYDomain(n.data.targets,"y2")),n.subX.domain(n.x.domain()),n.subY.domain(n.y.domain()),n.subY2.domain(n.y2.domain()),n.orgXDomain=n.x.domain(),n.svg=n.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return o.onmouseover.call(n)}).on("mouseleave",function(){return o.onmouseout.call(n)}),n.config.svg_classname&&n.svg.attr("class",n.config.svg_classname),e=n.svg.append("defs"),n.clipChart=n.appendClip(e,n.clipId),n.clipXAxis=n.appendClip(e,n.clipIdForXAxis),n.clipYAxis=n.appendClip(e,n.clipIdForYAxis),n.clipGrid=n.appendClip(e,n.clipIdForGrid),n.clipSubchart=n.appendClip(e,n.clipIdForSubchart),n.updateSvgSize(),i=n.main=n.svg.append("g").attr("transform",n.getTranslate("main")),n.initPie&&n.initPie(),n.initDragZoom&&n.initDragZoom(),o.subchart_show&&n.initSubchart&&n.initSubchart(),n.initTooltip&&n.initTooltip(),n.initLegend&&n.initLegend(),n.initTitle&&n.initTitle(),n.initZoom&&n.initZoom(),n.isStanfordGraphType()&&n.drawColorScale(),o.subchart_show&&n.initSubchartBrush&&n.initSubchartBrush(),i.append("text").attr("class",B.text+" "+B.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),n.initRegion(),n.initGrid(),i.append("g").attr("clip-path",n.clipPath).attr("class",B.chart),o.grid_lines_front&&n.initGridLines(),n.initStanfordElements(),n.initEventRect(),n.initChartElements(),n.axis.init(),n.updateTargets(n.data.targets),o.axis_x_selection&&n.brush.selectionAsValue(n.getDefaultSelection()),a&&(n.updateDimension(),n.config.oninit.call(n),n.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),n.bindResize(),n.bindWindowFocus(),n.api.element=n.selectChart.node()},d.prototype.smoothLines=function(t,e){var o=this;"grid"===e&&t.each(function(){var t=o.d3.select(this),e=t.attr("x1"),i=t.attr("x2"),n=t.attr("y1"),r=t.attr("y2");t.attr({x1:Math.ceil(e),x2:Math.ceil(i),y1:Math.ceil(n),y2:Math.ceil(r)})})},d.prototype.updateSizes=function(){var t=this,e=t.config,i=t.legend?t.getLegendHeight():0,n=t.legend?t.getLegendWidth():0,r=t.isLegendRight||t.isLegendInset?0:i,o=t.hasArcType(),a=e.axis_rotated||o?0:t.getHorizontalAxisHeight("x"),s=e.subchart_show&&!o?e.subchart_size_height+a:0;t.currentWidth=t.getCurrentWidth(),t.currentHeight=t.getCurrentHeight(),t.margin=e.axis_rotated?{top:t.getHorizontalAxisHeight("y2")+t.getCurrentPaddingTop(),right:o?0:t.getCurrentPaddingRight(),bottom:t.getHorizontalAxisHeight("y")+r+t.getCurrentPaddingBottom(),left:s+(o?0:t.getCurrentPaddingLeft())}:{top:4+t.getCurrentPaddingTop(),right:o?0:t.getCurrentPaddingRight(),bottom:a+s+r+t.getCurrentPaddingBottom(),left:o?0:t.getCurrentPaddingLeft()},t.margin2=e.axis_rotated?{top:t.margin.top,right:NaN,bottom:20+r,left:t.rotated_padding_left}:{top:t.currentHeight-s-r,right:NaN,bottom:a+r,left:t.margin.left},t.margin3={top:0,right:NaN,bottom:0,left:0},t.updateSizeForLegend&&t.updateSizeForLegend(i,n),t.width=t.currentWidth-t.margin.left-t.margin.right,t.height=t.currentHeight-t.margin.top-t.margin.bottom,t.width<0&&(t.width=0),t.height<0&&(t.height=0),t.width2=e.axis_rotated?t.margin.left-t.rotated_padding_left-t.rotated_padding_right:t.width,t.height2=e.axis_rotated?t.height:t.currentHeight-t.margin2.top-t.margin2.bottom,t.width2<0&&(t.width2=0),t.height2<0&&(t.height2=0),t.arcWidth=t.width-(t.isLegendRight?n+10:0),t.arcHeight=t.height-(t.isLegendRight?0:10),t.hasType("gauge")&&!e.gauge_fullCircle&&(t.arcHeight+=t.height-t.getGaugeLabelHeight()),t.updateRadius&&t.updateRadius(),t.isLegendRight&&o&&(t.margin3.left=t.arcWidth/2+1.1*t.radiusExpanded)},d.prototype.updateTargets=function(t){var e=this,i=e.config;e.updateTargetsForText(t),e.updateTargetsForBar(t),e.updateTargetsForLine(t),e.hasArcType()&&e.updateTargetsForArc&&e.updateTargetsForArc(t),i.subchart_show&&e.updateTargetsForSubchart&&e.updateTargetsForSubchart(t),e.showTargets()},d.prototype.showTargets=function(){var e=this;e.svg.selectAll("."+B.target).filter(function(t){return e.isTargetToShow(t.id)}).transition().duration(e.config.transition_duration).style("opacity",1)},d.prototype.redraw=function(t,e){var i,n,r,o,a,s,c,l,d,u,h,p,g,f,_,m,y,x,v,w,S,b,T,A,C,E,P,L,I,O,V,D=this,G=D.main,k=D.d3,R=D.config,N=D.getShapeIndices(D.isAreaType),F=D.getShapeIndices(D.isBarType),M=D.getShapeIndices(D.isLineType),H=D.hasArcType(),z=D.filterTargetsToShow(D.data.targets),j=D.xv.bind(D);if(i=X(t=t||{},"withY",!0),n=X(t,"withSubchart",!0),r=X(t,"withTransition",!0),s=X(t,"withTransform",!1),c=X(t,"withUpdateXDomain",!1),l=X(t,"withUpdateOrgXDomain",!1),d=X(t,"withTrimXDomain",!0),g=X(t,"withUpdateXAxis",c),u=X(t,"withLegend",!1),h=X(t,"withEventRect",!0),p=X(t,"withDimension",!0),o=X(t,"withTransitionForExit",r),a=X(t,"withTransitionForAxis",r),v=r?R.transition_duration:0,w=o?v:0,S=a?v:0,e=e||D.axis.generateTransitions(S),u&&R.legend_show?D.updateLegend(D.mapToIds(D.data.targets),t,e):p&&D.updateDimension(!0),D.isCategorized()&&0===z.length&&D.x.domain([0,D.axes.x.selectAll(".tick").size()]),z.length?(D.updateXDomain(z,c,l,d),R.axis_x_tick_values||(E=D.axis.updateXAxisTickValues(z))):(D.xAxis.tickValues([]),D.subXAxis.tickValues([])),R.zoom_rescale&&!t.flow&&(I=D.x.orgDomain()),D.y.domain(D.getYDomain(z,"y",I)),D.y2.domain(D.getYDomain(z,"y2",I)),!R.axis_y_tick_values&&R.axis_y_tick_count&&D.yAxis.tickValues(D.axis.generateTickValues(D.y.domain(),R.axis_y_tick_count)),!R.axis_y2_tick_values&&R.axis_y2_tick_count&&D.y2Axis.tickValues(D.axis.generateTickValues(D.y2.domain(),R.axis_y2_tick_count)),D.axis.redraw(S,H),D.axis.updateLabels(r),(c||g)&&z.length)if(R.axis_x_tick_culling&&E){for(P=1;P<E.length;P++)if(E.length/P<R.axis_x_tick_culling_max){L=P;break}D.svg.selectAll("."+B.axisX+" .tick text").each(function(t){var e=E.indexOf(t);0<=e&&k.select(this).style("display",e%L?"none":"block")})}else D.svg.selectAll("."+B.axisX+" .tick text").style("display","block");f=D.generateDrawArea?D.generateDrawArea(N,!1):void 0,_=D.generateDrawBar?D.generateDrawBar(F):void 0,m=D.generateDrawLine?D.generateDrawLine(M,!1):void 0,y=D.generateXYForText(N,F,M,!0),x=D.generateXYForText(N,F,M,!1),D.updateCircleY(),O=(D.config.axis_rotated?D.circleY:D.circleX).bind(D),V=(D.config.axis_rotated?D.circleX:D.circleY).bind(D),i&&(D.subY.domain(D.getYDomain(z,"y")),D.subY2.domain(D.getYDomain(z,"y2"))),D.updateXgridFocus(),G.select("text."+B.text+"."+B.empty).attr("x",D.width/2).attr("y",D.height/2).text(R.data_empty_label_text).transition().style("opacity",z.length?0:1),h&&D.redrawEventRect(),D.updateGrid(v),D.updateStanfordElements(v),D.updateRegion(v),D.updateBar(w),D.updateLine(w),D.updateArea(w),D.updateCircle(O,V),D.hasDataLabel()&&D.updateText(y,x,w),D.redrawTitle&&D.redrawTitle(),D.redrawArc&&D.redrawArc(v,w,s),R.subchart_show&&D.redrawSubchart&&D.redrawSubchart(n,e,v,w,N,F,M),D.isStanfordGraphType()&&D.drawColorScale(),G.selectAll("."+B.selectedCircles).filter(D.isBarType.bind(D)).selectAll("circle").remove(),t.flow&&(A=D.generateFlow({targets:z,flow:t.flow,duration:t.flow.duration,drawBar:_,drawLine:m,drawArea:f,cx:O,cy:V,xv:j,xForText:y,yForText:x})),v&&D.isTabVisible()?(C=k.transition().duration(v),b=[],[D.redrawBar(_,!0,C),D.redrawLine(m,!0,C),D.redrawArea(f,!0,C),D.redrawCircle(O,V,!0,C),D.redrawText(y,x,t.flow,!0,C),D.redrawRegion(!0,C),D.redrawGrid(!0,C)].forEach(function(t){t.forEach(function(t){b.push(t)})}),T=D.generateWait(),b.forEach(function(t){T.add(t)}),T(function(){A&&A(),R.onrendered&&R.onrendered.call(D)})):(D.redrawBar(_),D.redrawLine(m),D.redrawArea(f),D.redrawCircle(O,V),D.redrawText(y,x,t.flow),D.redrawRegion(),D.redrawGrid(),A&&A(),R.onrendered&&R.onrendered.call(D)),D.mapToIds(D.data.targets).forEach(function(t){D.withoutFadeIn[t]=!0})},d.prototype.updateAndRedraw=function(t){var e,i=this,n=i.config;(t=t||{}).withTransition=X(t,"withTransition",!0),t.withTransform=X(t,"withTransform",!1),t.withLegend=X(t,"withLegend",!1),t.withUpdateXDomain=X(t,"withUpdateXDomain",!0),t.withUpdateOrgXDomain=X(t,"withUpdateOrgXDomain",!0),t.withTransitionForExit=!1,t.withTransitionForTransform=X(t,"withTransitionForTransform",t.withTransition),i.updateSizes(),t.withLegend&&n.legend_show||(e=i.axis.generateTransitions(t.withTransitionForAxis?n.transition_duration:0),i.updateScales(),i.updateSvgSize(),i.transformAll(t.withTransitionForTransform,e)),i.redraw(t,e)},d.prototype.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},d.prototype.isTimeSeries=function(){return"timeseries"===this.config.axis_x_type},d.prototype.isCategorized=function(){return 0<=this.config.axis_x_type.indexOf("categor")},d.prototype.isCustomX=function(){var t=this.config;return!this.isTimeSeries()&&(t.data_x||P(t.data_xs))},d.prototype.isTimeSeriesY=function(){return"timeseries"===this.config.axis_y_type},d.prototype.getTranslate=function(t){var e,i,n=this,r=n.config;return"main"===t?(e=a(n.margin.left),i=a(n.margin.top)):"context"===t?(e=a(n.margin2.left),i=a(n.margin2.top)):"legend"===t?(e=n.margin3.left,i=n.margin3.top):"x"===t?(e=0,i=r.axis_rotated?0:n.height):"y"===t?(e=0,i=r.axis_rotated?n.height:0):"y2"===t?(e=r.axis_rotated?0:n.width,i=r.axis_rotated?1:0):"subx"===t?(e=0,i=r.axis_rotated?0:n.height2):"arc"===t&&(e=n.arcWidth/2,i=n.arcHeight/2-(n.hasType("gauge")?6:0)),"translate("+e+","+i+")"},d.prototype.initialOpacity=function(t){return null!==t.value&&this.withoutFadeIn[t.id]?1:0},d.prototype.initialOpacityForCircle=function(t){return null!==t.value&&this.withoutFadeIn[t.id]?this.opacityForCircle(t):0},d.prototype.opacityForCircle=function(t){var e=(p(this.config.point_show)?this.config.point_show(t):this.config.point_show)||this.isStanfordType(t)?1:0;return E(t.value)?this.isScatterType(t)?.5:e:0},d.prototype.opacityForText=function(){return this.hasDataLabel()?1:0},d.prototype.xx=function(t){return t?this.x(t.x):null},d.prototype.xvCustom=function(t,e){var i=this,n=e?t[e]:t.value;return i.isTimeSeries()?n=i.parseDate(t.value):i.isCategorized()&&"string"==typeof t.value&&(n=i.config.axis_x_categories.indexOf(t.value)),Math.ceil(i.x(n))},d.prototype.yvCustom=function(t,e){var i=t.axis&&"y2"===t.axis?this.y2:this.y,n=e?t[e]:t.value;return Math.ceil(i(n))},d.prototype.xv=function(t){var e=this,i=t.value;return e.isTimeSeries()?i=e.parseDate(t.value):e.isCategorized()&&"string"==typeof t.value&&(i=e.config.axis_x_categories.indexOf(t.value)),Math.ceil(e.x(i))},d.prototype.yv=function(t){var e=t.axis&&"y2"===t.axis?this.y2:this.y;return Math.ceil(e(t.value))},d.prototype.subxx=function(t){return t?this.subX(t.x):null},d.prototype.transformMain=function(t,e){var i,n,r,o=this;e&&e.axisX?i=e.axisX:(i=o.main.select("."+B.axisX),t&&(i=i.transition())),e&&e.axisY?n=e.axisY:(n=o.main.select("."+B.axisY),t&&(n=n.transition())),e&&e.axisY2?r=e.axisY2:(r=o.main.select("."+B.axisY2),t&&(r=r.transition())),(t?o.main.transition():o.main).attr("transform",o.getTranslate("main")),i.attr("transform",o.getTranslate("x")),n.attr("transform",o.getTranslate("y")),r.attr("transform",o.getTranslate("y2")),o.main.select("."+B.chartArcs).attr("transform",o.getTranslate("arc"))},d.prototype.transformAll=function(t,e){var i=this;i.transformMain(t,e),i.config.subchart_show&&i.transformContext(t,e),i.legend&&i.transformLegend(t)},d.prototype.updateSvgSize=function(){var t=this,e=t.svg.select(".".concat(B.brush," .overlay"));t.svg.attr("width",t.currentWidth).attr("height",t.currentHeight),t.svg.selectAll(["#"+t.clipId,"#"+t.clipIdForGrid]).select("rect").attr("width",t.width).attr("height",t.height),t.svg.select("#"+t.clipIdForXAxis).select("rect").attr("x",t.getXAxisClipX.bind(t)).attr("y",t.getXAxisClipY.bind(t)).attr("width",t.getXAxisClipWidth.bind(t)).attr("height",t.getXAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForYAxis).select("rect").attr("x",t.getYAxisClipX.bind(t)).attr("y",t.getYAxisClipY.bind(t)).attr("width",t.getYAxisClipWidth.bind(t)).attr("height",t.getYAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForSubchart).select("rect").attr("width",t.width).attr("height",e.size()&&e.attr("height")||0),t.selectChart.style("max-height",t.currentHeight+"px")},d.prototype.updateDimension=function(t){var e=this;t||(e.config.axis_rotated?(e.axes.x.call(e.xAxis),e.axes.subx.call(e.subXAxis)):(e.axes.y.call(e.yAxis),e.axes.y2.call(e.y2Axis))),e.updateSizes(),e.updateScales(),e.updateSvgSize(),e.transformAll(!1)},d.prototype.observeInserted=function(e){var i,n=this;"undefined"!=typeof MutationObserver?(i=new MutationObserver(function(t){t.forEach(function(t){"childList"===t.type&&t.previousSibling&&(i.disconnect(),n.intervalForObserveInserted=window.setInterval(function(){e.node().parentNode&&(window.clearInterval(n.intervalForObserveInserted),n.updateDimension(),n.brush&&n.brush.update(),n.config.oninit.call(n),n.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),e.transition().style("opacity",1))},10))})})).observe(e.node(),{attributes:!0,childList:!0,characterData:!0}):window.console.error("MutationObserver not defined.")},d.prototype.bindResize=function(){var t=this,e=t.config;if(t.resizeFunction=t.generateResize(),t.resizeFunction.add(function(){e.onresize.call(t)}),e.resize_auto&&t.resizeFunction.add(function(){void 0!==t.resizeTimeout&&window.clearTimeout(t.resizeTimeout),t.resizeTimeout=window.setTimeout(function(){delete t.resizeTimeout,t.updateAndRedraw({withUpdateXDomain:!1,withUpdateOrgXDomain:!1,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),t.brush&&t.brush.update()},100)}),t.resizeFunction.add(function(){e.onresized.call(t)}),t.resizeIfElementDisplayed=function(){null!=t.api&&t.api.element.offsetParent&&t.resizeFunction()},window.attachEvent)window.attachEvent("onresize",t.resizeIfElementDisplayed);else if(window.addEventListener)window.addEventListener("resize",t.resizeIfElementDisplayed,!1);else{var i=window.onresize;i?i.add&&i.remove||(i=t.generateResize()).add(window.onresize):i=t.generateResize(),i.add(t.resizeFunction),window.onresize=function(){t.api.element.offsetParent&&i()}}},d.prototype.bindWindowFocus=function(){var t=this;this.windowFocusHandler||(this.windowFocusHandler=function(){t.redraw()},window.addEventListener("focus",this.windowFocusHandler))},d.prototype.unbindWindowFocus=function(){window.removeEventListener("focus",this.windowFocusHandler),delete this.windowFocusHandler},d.prototype.generateResize=function(){var i=[];function t(){i.forEach(function(t){t()})}return t.add=function(t){i.push(t)},t.remove=function(t){for(var e=0;e<i.length;e++)if(i[e]===t){i.splice(e,1);break}},t},d.prototype.endall=function(t,e){var i=0;t.each(function(){++i}).on("end",function(){--i||e.apply(this,arguments)})},d.prototype.generateWait=function(){function t(t){var i=setInterval(function(){if(n.isTabVisible()){var e=0;r.forEach(function(t){if(t.empty())e+=1;else try{t.transition()}catch(t){e+=1}}),e===r.length&&(clearInterval(i),t&&t())}},50)}var n=this,r=[];return t.add=function(t){r.push(t)},t},d.prototype.parseDate=function(t){var e;return t instanceof Date?e=t:"string"==typeof t?e=this.dataTimeParse(t):"object"===s(t)?e=new Date(+t):"number"!=typeof t||isNaN(t)||(e=new Date(+t)),e&&!isNaN(+e)||window.console.error("Failed to parse x '"+t+"' to Date object"),e},d.prototype.isTabVisible=function(){return!document.hidden},d.prototype.getPathBox=x,d.prototype.CLASS=B,"SVGPathSeg"in window||(window.SVGPathSeg=function(t,e,i){this.pathSegType=t,this.pathSegTypeAsLetter=e,this._owningPathSegList=i},window.SVGPathSeg.prototype.classname="SVGPathSeg",window.SVGPathSeg.PATHSEG_UNKNOWN=0,window.SVGPathSeg.PATHSEG_CLOSEPATH=1,window.SVGPathSeg.PATHSEG_MOVETO_ABS=2,window.SVGPathSeg.PATHSEG_MOVETO_REL=3,window.SVGPathSeg.PATHSEG_LINETO_ABS=4,window.SVGPathSeg.PATHSEG_LINETO_REL=5,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,window.SVGPathSeg.PATHSEG_ARC_ABS=10,window.SVGPathSeg.PATHSEG_ARC_REL=11,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,window.SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CLOSEPATH,"z",t)},window.SVGPathSegClosePath.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},window.SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},window.SVGPathSegClosePath.prototype.clone=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathSegMovetoAbs=function(t,e,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_ABS,"M",t),this._x=e,this._y=i},window.SVGPathSegMovetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},window.SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoAbs.prototype.clone=function(){return new window.SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(t,e,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_REL,"m",t),this._x=e,this._y=i},window.SVGPathSegMovetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},window.SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoRel.prototype.clone=function(){return new window.SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(t,e,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_ABS,"L",t),this._x=e,this._y=i},window.SVGPathSegLinetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},window.SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoAbs.prototype.clone=function(){return new window.SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(t,e,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_REL,"l",t),this._x=e,this._y=i},window.SVGPathSegLinetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},window.SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoRel.prototype.clone=function(){return new window.SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(t,e,i,n,r,o,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",t),this._x=e,this._y=i,this._x1=n,this._y1=r,this._x2=o,this._y2=a},window.SVGPathSegCurvetoCubicAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},window.SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(t,e,i,n,r,o,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",t),this._x=e,this._y=i,this._x1=n,this._y1=r,this._x2=o,this._y2=a},window.SVGPathSegCurvetoCubicRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},window.SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(t,e,i,n,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",t),this._x=e,this._y=i,this._x1=n,this._y1=r},window.SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(t,e,i,n,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",t),this._x=e,this._y=i,this._x1=n,this._y1=r},window.SVGPathSegCurvetoQuadraticRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(t,e,i,n,r,o,a,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_ABS,"A",t),this._x=e,this._y=i,this._r1=n,this._r2=r,this._angle=o,this._largeArcFlag=a,this._sweepFlag=s},window.SVGPathSegArcAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},window.SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcAbs.prototype.clone=function(){return new window.SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(t,e,i,n,r,o,a,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_REL,"a",t),this._x=e,this._y=i,this._r1=n,this._r2=r,this._angle=o,this._largeArcFlag=a,this._sweepFlag=s},window.SVGPathSegArcRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},window.SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcRel.prototype.clone=function(){return new window.SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",t),this._x=e},window.SVGPathSegLinetoHorizontalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",t),this._x=e},window.SVGPathSegLinetoHorizontalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},window.SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",t),this._y=e},window.SVGPathSegLinetoVerticalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},window.SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",t),this._y=e},window.SVGPathSegLinetoVerticalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},window.SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(t,e,i,n,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",t),this._x=e,this._y=i,this._x2=n,this._y2=r},window.SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(t,e,i,n,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",t),this._x=e,this._y=i,this._x2=n,this._y2=r},window.SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(t,e,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",t),this._x=e,this._y=i},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(t,e,i){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",t),this._x=e,this._y=i},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(t,e){return new window.SVGPathSegMovetoAbs(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegMovetoRel=function(t,e){return new window.SVGPathSegMovetoRel(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(t,e){return new window.SVGPathSegLinetoAbs(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoRel=function(t,e){return new window.SVGPathSegLinetoRel(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(t,e,i,n,r,o){return new window.SVGPathSegCurvetoCubicAbs(void 0,t,e,i,n,r,o)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(t,e,i,n,r,o){return new window.SVGPathSegCurvetoCubicRel(void 0,t,e,i,n,r,o)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(t,e,i,n){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,t,e,i,n)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(t,e,i,n){return new window.SVGPathSegCurvetoQuadraticRel(void 0,t,e,i,n)},window.SVGPathElement.prototype.createSVGPathSegArcAbs=function(t,e,i,n,r,o,a){return new window.SVGPathSegArcAbs(void 0,t,e,i,n,r,o,a)},window.SVGPathElement.prototype.createSVGPathSegArcRel=function(t,e,i,n,r,o,a){return new window.SVGPathSegArcRel(void 0,t,e,i,n,r,o,a)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(t){return new window.SVGPathSegLinetoHorizontalAbs(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(t){return new window.SVGPathSegLinetoHorizontalRel(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(t){return new window.SVGPathSegLinetoVerticalAbs(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(t){return new window.SVGPathSegLinetoVerticalRel(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(t,e,i,n){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,t,e,i,n)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(t,e,i,n){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,t,e,i,n)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(t,e){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(t,e){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,t,e)},"getPathSegAtLength"in window.SVGPathElement.prototype||(window.SVGPathElement.prototype.getPathSegAtLength=function(t){if(void 0===t||!isFinite(t))throw"Invalid arguments.";var e=document.createElementNS("http://www.w3.org/2000/svg","path");e.setAttribute("d",this.getAttribute("d"));var i=e.pathSegList.numberOfItems-1;if(i<=0)return 0;do{if(e.pathSegList.removeItem(i),t>e.getTotalLength())break;i--}while(0<i);return i})),"SVGPathSegList"in window||(window.SVGPathSegList=function(t){this._pathElement=t,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(window.SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new window.SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),window.SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},window.SVGPathSegList.prototype._updateListFromPathMutations=function(t){if(this._pathElement){var e=!1;t.forEach(function(t){"d"==t.attributeName&&(e=!0)}),e&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))}},window.SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",window.SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.segmentChanged=function(t){this._writeListToPath()},window.SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(t){t._owningPathSegList=null}),this._list=[],this._writeListToPath()},window.SVGPathSegList.prototype.initialize=function(t){return this._checkPathSynchronizedToList(),this._list=[t],(t._owningPathSegList=this)._writeListToPath(),t},window.SVGPathSegList.prototype._checkValidIndex=function(t){if(isNaN(t)||t<0||t>=this.numberOfItems)throw"INDEX_SIZE_ERR"},window.SVGPathSegList.prototype.getItem=function(t){return this._checkPathSynchronizedToList(),this._checkValidIndex(t),this._list[t]},window.SVGPathSegList.prototype.insertItemBefore=function(t,e){return this._checkPathSynchronizedToList(),e>this.numberOfItems&&(e=this.numberOfItems),t._owningPathSegList&&(t=t.clone()),this._list.splice(e,0,t),(t._owningPathSegList=this)._writeListToPath(),t},window.SVGPathSegList.prototype.replaceItem=function(t,e){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._checkValidIndex(e),((this._list[e]=t)._owningPathSegList=this)._writeListToPath(),t},window.SVGPathSegList.prototype.removeItem=function(t){this._checkPathSynchronizedToList(),this._checkValidIndex(t);var e=this._list[t];return this._list.splice(t,1),this._writeListToPath(),e},window.SVGPathSegList.prototype.appendItem=function(t){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._list.push(t),(t._owningPathSegList=this)._writeListToPath(),t},window.SVGPathSegList._pathSegArrayAsString=function(t){var e="",i=!0;return t.forEach(function(t){i?(i=!1,e+=t._asPathString()):e+=" "+t._asPathString()}),e},window.SVGPathSegList.prototype._parsePath=function(t){if(!t||0==t.length)return[];function e(){this.pathSegList=[]}var n=this;function i(t){this._string=t,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=window.SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()}e.prototype.appendSegment=function(t){this.pathSegList.push(t)},i.prototype._isCurrentSpace=function(){var t=this._string[this._currentIndex];return t<=" "&&(" "==t||"\n"==t||"\t"==t||"\r"==t||"\f"==t)},i.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},i.prototype._skipOptionalSpacesOrDelimiter=function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!=this._string.charAt(this._currentIndex))&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","==this._string.charAt(this._currentIndex)&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},i.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},i.prototype.peekSegmentType=function(){var t=this._string[this._currentIndex];return this._pathSegTypeFromChar(t)},i.prototype._pathSegTypeFromChar=function(t){switch(t){case"Z":case"z":return window.SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return window.SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return window.SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return window.SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return window.SVGPathSeg.PATHSEG_LINETO_REL;case"C":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return window.SVGPathSeg.PATHSEG_ARC_ABS;case"a":return window.SVGPathSeg.PATHSEG_ARC_REL;case"H":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return window.SVGPathSeg.PATHSEG_UNKNOWN}},i.prototype._nextCommandHelper=function(t,e){return("+"==t||"-"==t||"."==t||"0"<=t&&t<="9")&&e!=window.SVGPathSeg.PATHSEG_CLOSEPATH?e==window.SVGPathSeg.PATHSEG_MOVETO_ABS?window.SVGPathSeg.PATHSEG_LINETO_ABS:e==window.SVGPathSeg.PATHSEG_MOVETO_REL?window.SVGPathSeg.PATHSEG_LINETO_REL:e:window.SVGPathSeg.PATHSEG_UNKNOWN},i.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var t=this.peekSegmentType();return t==window.SVGPathSeg.PATHSEG_MOVETO_ABS||t==window.SVGPathSeg.PATHSEG_MOVETO_REL},i.prototype._parseNumber=function(){var t=0,e=0,i=1,n=0,r=1,o=1,a=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:this._currentIndex<this._endIndex&&"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,r=-1),!(this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||"9"<this._string.charAt(this._currentIndex))&&"."!=this._string.charAt(this._currentIndex))){for(var s=this._currentIndex;this._currentIndex<this._endIndex&&"0"<=this._string.charAt(this._currentIndex)&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=s)for(var c=this._currentIndex-1,l=1;s<=c;)e+=l*(this._string.charAt(c--)-"0"),l*=10;if(this._currentIndex<this._endIndex&&"."==this._string.charAt(this._currentIndex)){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||"9"<this._string.charAt(this._currentIndex))return;for(;this._currentIndex<this._endIndex&&"0"<=this._string.charAt(this._currentIndex)&&this._string.charAt(this._currentIndex)<="9";)i*=10,n+=(this._string.charAt(this._currentIndex)-"0")/i,this._currentIndex+=1}if(this._currentIndex!=a&&this._currentIndex+1<this._endIndex&&("e"==this._string.charAt(this._currentIndex)||"E"==this._string.charAt(this._currentIndex))&&"x"!=this._string.charAt(this._currentIndex+1)&&"m"!=this._string.charAt(this._currentIndex+1)){if(this._currentIndex++,"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,o=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||"9"<this._string.charAt(this._currentIndex))return;for(;this._currentIndex<this._endIndex&&"0"<=this._string.charAt(this._currentIndex)&&this._string.charAt(this._currentIndex)<="9";)t*=10,t+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}var d=e+n;if(d*=r,t&&(d*=Math.pow(10,o*t)),a!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),d}},i.prototype._parseArcFlag=function(){if(!(this._currentIndex>=this._endIndex)){var t=!1,e=this._string.charAt(this._currentIndex++);if("0"==e)t=!1;else{if("1"!=e)return;t=!0}return this._skipOptionalSpacesOrDelimiter(),t}},i.prototype.parseSegment=function(){var t=this._string[this._currentIndex],e=this._pathSegTypeFromChar(t);if(e==window.SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==window.SVGPathSeg.PATHSEG_UNKNOWN)return null;if((e=this._nextCommandHelper(t,this._previousCommand))==window.SVGPathSeg.PATHSEG_UNKNOWN)return null}else this._currentIndex++;switch(this._previousCommand=e){case window.SVGPathSeg.PATHSEG_MOVETO_REL:return new window.SVGPathSegMovetoRel(n,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_MOVETO_ABS:return new window.SVGPathSegMovetoAbs(n,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_REL:return new window.SVGPathSegLinetoRel(n,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_ABS:return new window.SVGPathSegLinetoAbs(n,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new window.SVGPathSegLinetoHorizontalRel(n,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new window.SVGPathSegLinetoHorizontalAbs(n,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new window.SVGPathSegLinetoVerticalRel(n,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new window.SVGPathSegLinetoVerticalAbs(n,this._parseNumber());case window.SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new window.SVGPathSegClosePath(n);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var i={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicRel(n,i.x,i.y,i.x1,i.y1,i.x2,i.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:return i={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicAbs(n,i.x,i.y,i.x1,i.y1,i.x2,i.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:return i={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothRel(n,i.x,i.y,i.x2,i.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:return i={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothAbs(n,i.x,i.y,i.x2,i.y2);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:return i={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticRel(n,i.x,i.y,i.x1,i.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:return i={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticAbs(n,i.x,i.y,i.x1,i.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new window.SVGPathSegCurvetoQuadraticSmoothRel(n,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new window.SVGPathSegCurvetoQuadraticSmoothAbs(n,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_ARC_REL:return i={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcRel(n,i.x,i.y,i.x1,i.y1,i.arcAngle,i.arcLarge,i.arcSweep);case window.SVGPathSeg.PATHSEG_ARC_ABS:return i={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcAbs(n,i.x,i.y,i.x1,i.y1,i.arcAngle,i.arcLarge,i.arcSweep);default:throw"Unknown path seg type."}};var r=new e,o=new i(t);if(!o.initialCommandIsMoveTo())return[];for(;o.hasMoreData();){var a=o.parseSegment();if(!a)return[];r.appendSegment(a)}return r.pathSegList}),String.prototype.padEnd||(String.prototype.padEnd=function(t,e){return t>>=0,e=String(void 0!==e?e:" "),this.length>t?String(this):((t-=this.length)>e.length&&(e+=e.repeat(t/e.length)),String(this)+e.slice(0,t))}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])}return i},writable:!0,configurable:!0}),(o.prototype.axis=function(){}).labels=function(e){var i=this.internal;arguments.length&&(Object.keys(e).forEach(function(t){i.axis.setLabelText(t,e[t])}),i.axis.updateLabels())},o.prototype.axis.max=function(t){var e=this.internal,i=e.config;if(!arguments.length)return{x:i.axis_x_max,y:i.axis_y_max,y2:i.axis_y2_max};"object"===s(t)?(E(t.x)&&(i.axis_x_max=t.x),E(t.y)&&(i.axis_y_max=t.y),E(t.y2)&&(i.axis_y2_max=t.y2)):i.axis_y_max=i.axis_y2_max=t,e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},o.prototype.axis.min=function(t){var e=this.internal,i=e.config;if(!arguments.length)return{x:i.axis_x_min,y:i.axis_y_min,y2:i.axis_y2_min};"object"===s(t)?(E(t.x)&&(i.axis_x_min=t.x),E(t.y)&&(i.axis_y_min=t.y),E(t.y2)&&(i.axis_y2_min=t.y2)):i.axis_y_min=i.axis_y2_min=t,e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},o.prototype.axis.range=function(t){if(!arguments.length)return{max:this.axis.max(),min:this.axis.min()};k(t.max)&&this.axis.max(t.max),k(t.min)&&this.axis.min(t.min)},o.prototype.axis.types=function(t){var e=this.internal;if(void 0===t)return{y:e.config.axis_y_type,y2:e.config.axis_y2_type};k(t.y)&&(e.config.axis_y_type=t.y),k(t.y2)&&(e.config.axis_y2_type=t.y2),e.updateScales(),e.redraw()},o.prototype.category=function(t,e){var i=this.internal,n=i.config;return 1<arguments.length&&(n.axis_x_categories[t]=e,i.redraw()),n.axis_x_categories[t]},o.prototype.categories=function(t){var e=this.internal,i=e.config;return arguments.length&&(i.axis_x_categories=t,e.redraw()),i.axis_x_categories},o.prototype.resize=function(t){var e=this.internal.config;e.size_width=t?t.width:null,e.size_height=t?t.height:null,this.flush()},o.prototype.flush=function(){this.internal.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},o.prototype.destroy=function(){var e=this.internal;if(window.clearInterval(e.intervalForObserveInserted),void 0!==e.resizeTimeout&&window.clearTimeout(e.resizeTimeout),window.detachEvent)window.detachEvent("onresize",e.resizeIfElementDisplayed);else if(window.removeEventListener)window.removeEventListener("resize",e.resizeIfElementDisplayed);else{var t=window.onresize;t&&t.add&&t.remove&&t.remove(e.resizeFunction)}return e.resizeFunction.remove(),e.unbindWindowFocus(),e.selectChart.classed("c3",!1).html(""),Object.keys(e).forEach(function(t){e[t]=null}),null},o.prototype.color=function(t){return this.internal.color(t)},(o.prototype.data=function(e){var t=this.internal.data.targets;return void 0===e?t:t.filter(function(t){return 0<=[].concat(e).indexOf(t.id)})}).shown=function(t){return this.internal.filterTargetsToShow(this.data(t))},o.prototype.data.values=function(t){var n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],e=null;if(t){var i=this.data(t);i&&h(i)&&(e=i.reduce(function(t,e){var i=e.values.map(function(t){return t.value});return n?t=t.concat(i):t.push(i),t},[]))}return e},o.prototype.data.names=function(t){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",t)},o.prototype.data.colors=function(t){return this.internal.updateDataAttributes("colors",t)},o.prototype.data.axes=function(t){return this.internal.updateDataAttributes("axes",t)},o.prototype.data.stackNormalized=function(t){if(void 0===t)return this.internal.isStackNormalized();this.internal.config.data_stack_normalize=!!t,this.internal.redraw()},(o.prototype.donut=function(){}).padAngle=function(t){if(void 0===t)return this.internal.config.donut_padAngle;this.internal.config.donut_padAngle=t,this.flush()},o.prototype.flow=function(t){var r,e,i,n,o,a,s,c=this.internal,l=[],d=c.getMaxDataCount(),u=0,h=0;if(t.json)e=c.convertJsonToData(t.json,t.keys);else if(t.rows)e=c.convertRowsToData(t.rows);else{if(!t.columns)return;e=c.convertColumnsToData(t.columns)}r=c.convertDataToTargets(e,!0),c.data.targets.forEach(function(t){var e,i,n=!1;for(e=0;e<r.length;e++)if(t.id===r[e].id){for(n=!0,t.values[t.values.length-1]&&(h=t.values[t.values.length-1].index+1),u=r[e].values.length,i=0;i<u;i++)r[e].values[i].index=h+i,c.isTimeSeries()||(r[e].values[i].x=h+i);t.values=t.values.concat(r[e].values),r.splice(e,1);break}n||l.push(t.id)}),c.data.targets.forEach(function(t){var e,i;for(e=0;e<l.length;e++)if(t.id===l[e])for(h=t.values[t.values.length-1].index+1,i=0;i<u;i++)t.values.push({id:t.id,index:h+i,x:c.isTimeSeries()?c.getOtherTargetX(h+i):h+i,value:null})}),c.data.targets.length&&r.forEach(function(t){var e,i=[];for(e=c.data.targets[0].values[0].index;e<h;e++)i.push({id:t.id,index:e,x:c.isTimeSeries()?c.getOtherTargetX(e):e,value:null});t.values.forEach(function(t){t.index+=h,c.isTimeSeries()||(t.x+=h)}),t.values=i.concat(t.values)}),c.data.targets=c.data.targets.concat(r),c.getMaxDataCount(),o=(n=c.data.targets[0]).values[0],k(t.to)?(u=0,s=c.isTimeSeries()?c.parseDate(t.to):t.to,n.values.forEach(function(t){t.x<s&&u++})):k(t.length)&&(u=t.length),d?1===d&&c.isTimeSeries()&&(a=(n.values[n.values.length-1].x-o.x)/2,i=[new Date(+o.x-a),new Date(+o.x+a)],c.updateXDomain(null,!0,!0,!1,i)):(a=c.isTimeSeries()?1<n.values.length?n.values[n.values.length-1].x-o.x:o.x-c.getXDomain(c.data.targets)[0]:1,i=[o.x-a,o.x],c.updateXDomain(null,!0,!0,!1,i)),c.updateTargets(c.data.targets),c.redraw({flow:{index:o.index,length:u,duration:E(t.duration)?t.duration:c.config.transition_duration,done:t.done,orgDataCount:d},withLegend:!0,withTransition:1<d,withTrimXDomain:!1,withUpdateXAxis:!0})},d.prototype.generateFlow=function(I){var O=this,V=O.config,D=O.d3;return function(){var t,e,n,r,o,a,s,c,l,d,i=I.targets,u=I.flow,h=I.drawBar,p=I.drawLine,g=I.drawArea,f=I.cx,_=I.cy,m=I.xv,y=I.xForText,x=I.yForText,v=I.duration,w=u.index,S=u.length,b=O.getValueOnIndex(O.data.targets[0].values,w),T=O.getValueOnIndex(O.data.targets[0].values,w+S),A=O.x.domain(),C=u.duration||v,E=u.done||function(){},P=O.generateWait();O.flowing=!0,O.data.targets.forEach(function(t){t.values.splice(0,S)}),e=O.updateXDomain(i,!0,!0),O.updateXGrid&&O.updateXGrid(!0),n=O.xgrid||D.selectAll([]),r=O.xgridLines||D.selectAll([]),o=O.mainRegion||D.selectAll([]),a=O.mainText||D.selectAll([]),s=O.mainBar||D.selectAll([]),c=O.mainLine||D.selectAll([]),l=O.mainArea||D.selectAll([]),d=O.mainCircle||D.selectAll([]),t="translate("+(u.orgDataCount?1===u.orgDataCount||(b&&b.x)===(T&&T.x)?O.x(A[0])-O.x(e[0]):O.isTimeSeries()?O.x(A[0])-O.x(e[0]):O.x(b.x)-O.x(T.x):1!==O.data.targets[0].values.length?O.x(A[0])-O.x(e[0]):O.isTimeSeries()?(b=O.getValueOnIndex(O.data.targets[0].values,0),T=O.getValueOnIndex(O.data.targets[0].values,O.data.targets[0].values.length-1),O.x(b.x)-O.x(T.x)):G(e)/2)+",0) scale("+G(A)/G(e)+",1)",O.hideXGridFocus();var L=D.transition().ease(D.easeLinear).duration(C);P.add(O.xAxis(O.axes.x,L)),P.add(s.transition(L).attr("transform",t)),P.add(c.transition(L).attr("transform",t)),P.add(l.transition(L).attr("transform",t)),P.add(d.transition(L).attr("transform",t)),P.add(a.transition(L).attr("transform",t)),P.add(o.filter(O.isRegionOnX).transition(L).attr("transform",t)),P.add(n.transition(L).attr("transform",t)),P.add(r.transition(L).attr("transform",t)),P(function(){var t,e=[],i=[];if(S){for(t=0;t<S;t++)e.push("."+B.shape+"-"+(w+t)),i.push("."+B.text+"-"+(w+t));O.svg.selectAll("."+B.shapes).selectAll(e).remove(),O.svg.selectAll("."+B.texts).selectAll(i).remove(),O.svg.select("."+B.xgrid).remove()}n.attr("transform",null).attr("x1",O.xgridAttr.x1).attr("x2",O.xgridAttr.x2).attr("y1",O.xgridAttr.y1).attr("y2",O.xgridAttr.y2).style("opacity",O.xgridAttr.opacity),r.attr("transform",null),r.select("line").attr("x1",V.axis_rotated?0:m).attr("x2",V.axis_rotated?O.width:m),r.select("text").attr("x",V.axis_rotated?O.width:0).attr("y",m),s.attr("transform",null).attr("d",h),c.attr("transform",null).attr("d",p),l.attr("transform",null).attr("d",g),d.attr("transform",null).attr("cx",f).attr("cy",_),a.attr("transform",null).attr("x",y).attr("y",x).style("fill-opacity",O.opacityForText.bind(O)),o.attr("transform",null),o.filter(O.isRegionOnX).attr("x",O.regionX.bind(O)).attr("width",O.regionWidth.bind(O)),E(),O.flowing=!1})}},o.prototype.focus=function(e){var t,i=this.internal;e=i.mapToTargetIds(e),t=i.svg.selectAll(i.selectorTargets(e.filter(i.isTargetToShow,i))),this.revert(),this.defocus(),t.classed(B.focused,!0).classed(B.defocused,!1),i.hasArcType()&&i.expandArc(e),i.toggleFocusLegend(e,!0),i.focusedTargetIds=e,i.defocusedTargetIds=i.defocusedTargetIds.filter(function(t){return e.indexOf(t)<0})},o.prototype.defocus=function(e){var t=this.internal;e=t.mapToTargetIds(e),t.svg.selectAll(t.selectorTargets(e.filter(t.isTargetToShow,t))).classed(B.focused,!1).classed(B.defocused,!0),t.hasArcType()&&t.unexpandArc(e),t.toggleFocusLegend(e,!1),t.focusedTargetIds=t.focusedTargetIds.filter(function(t){return e.indexOf(t)<0}),t.defocusedTargetIds=e},o.prototype.revert=function(t){var e=this.internal;t=e.mapToTargetIds(t),e.svg.selectAll(e.selectorTargets(t)).classed(B.focused,!1).classed(B.defocused,!1),e.hasArcType()&&e.unexpandArc(t),e.config.legend_show&&(e.showLegend(t.filter(e.isLegendToShow.bind(e))),e.legend.selectAll(e.selectorLegends(t)).filter(function(){return e.d3.select(this).classed(B.legendItemFocused)}).classed(B.legendItemFocused,!1)),e.focusedTargetIds=[],e.defocusedTargetIds=[]},(o.prototype.xgrids=function(t){var e=this.internal,i=e.config;return t&&(i.grid_x_lines=t,e.redrawWithoutRescale()),i.grid_x_lines}).add=function(t){var e=this.internal;return this.xgrids(e.config.grid_x_lines.concat(t||[]))},o.prototype.xgrids.remove=function(t){this.internal.removeGridLines(t,!0)},(o.prototype.ygrids=function(t){var e=this.internal,i=e.config;return t&&(i.grid_y_lines=t,e.redrawWithoutRescale()),i.grid_y_lines}).add=function(t){var e=this.internal;return this.ygrids(e.config.grid_y_lines.concat(t||[]))},o.prototype.ygrids.remove=function(t){this.internal.removeGridLines(t,!1)},o.prototype.groups=function(t){var e=this.internal,i=e.config;return S(t)||(i.data_groups=t,e.redraw()),i.data_groups},(o.prototype.legend=function(){}).show=function(t){var e=this.internal;e.showLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})},o.prototype.legend.hide=function(t){var e=this.internal;e.hideLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!1})},o.prototype.load=function(e){var t=this.internal,i=t.config;e.xs&&t.addXs(e.xs),"names"in e&&o.prototype.data.names.bind(this)(e.names),"classes"in e&&Object.keys(e.classes).forEach(function(t){i.data_classes[t]=e.classes[t]}),"categories"in e&&t.isCategorized()&&(i.axis_x_categories=e.categories),"axes"in e&&Object.keys(e.axes).forEach(function(t){i.data_axes[t]=e.axes[t]}),"colors"in e&&Object.keys(e.colors).forEach(function(t){i.data_colors[t]=e.colors[t]}),"cacheIds"in e&&t.hasCaches(e.cacheIds)?t.load(t.getCaches(e.cacheIds),e.done):e.unload?t.unload(t.mapToTargetIds(!0===e.unload?null:e.unload),function(){t.loadFromArgs(e)}):t.loadFromArgs(e)},o.prototype.unload=function(t){var e=this.internal;(t=t||{})instanceof Array?t={ids:t}:"string"==typeof t&&(t={ids:[t]}),e.unload(e.mapToTargetIds(t.ids),function(){e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),t.done&&t.done()})},(o.prototype.pie=function(){}).padAngle=function(t){if(void 0===t)return this.internal.config.pie_padAngle;this.internal.config.pie_padAngle=t,this.flush()},(o.prototype.regions=function(t){var e=this.internal,i=e.config;return t&&(i.regions=t,e.redrawWithoutRescale()),i.regions}).add=function(t){var e=this.internal,i=e.config;return t&&(i.regions=i.regions.concat(t),e.redrawWithoutRescale()),i.regions},o.prototype.regions.remove=function(t){var e,i,n,r=this.internal,o=r.config;return e=X(t=t||{},"duration",o.transition_duration),i=X(t,"classes",[B.region]),n=r.main.select("."+B.regions).selectAll(i.map(function(t){return"."+t})),(e?n.transition().duration(e):n).style("opacity",0).remove(),o.regions=o.regions.filter(function(t){var e=!1;return!t.class||(t.class.split(" ").forEach(function(t){0<=i.indexOf(t)&&(e=!0)}),!e)}),o.regions},o.prototype.selected=function(t){var e=this.internal,i=e.d3;return e.main.selectAll("."+B.shapes+e.getTargetSelectorSuffix(t)).selectAll("."+B.shape).filter(function(){return i.select(this).classed(B.SELECTED)}).nodes().map(function(t){var e=t.__data__;return e.data?e.data:e})},o.prototype.select=function(c,l,d){var u=this.internal,h=u.d3,p=u.config;p.data_selection_enabled&&u.main.selectAll("."+B.shapes).selectAll("."+B.shape).each(function(t,e){var i=h.select(this),n=t.data?t.data.id:t.id,r=u.getToggle(this,t).bind(u),o=p.data_selection_grouped||!c||0<=c.indexOf(n),a=!l||0<=l.indexOf(e),s=i.classed(B.SELECTED);i.classed(B.line)||i.classed(B.area)||(o&&a?p.data_selection_isselectable(t)&&!s&&r(!0,i.classed(B.SELECTED,!0),t,e):k(d)&&d&&s&&r(!1,i.classed(B.SELECTED,!1),t,e))})},o.prototype.unselect=function(c,l){var d=this.internal,u=d.d3,h=d.config;h.data_selection_enabled&&d.main.selectAll("."+B.shapes).selectAll("."+B.shape).each(function(t,e){var i=u.select(this),n=t.data?t.data.id:t.id,r=d.getToggle(this,t).bind(d),o=h.data_selection_grouped||!c||0<=c.indexOf(n),a=!l||0<=l.indexOf(e),s=i.classed(B.SELECTED);i.classed(B.line)||i.classed(B.area)||o&&a&&h.data_selection_isselectable(t)&&s&&r(!1,i.classed(B.SELECTED,!1),t,e)})},o.prototype.show=function(t,e){var i,n=this.internal;t=n.mapToTargetIds(t),e=e||{},n.removeHiddenTargetIds(t),(i=n.svg.selectAll(n.selectorTargets(t))).transition().style("display",g()?"block":"initial","important").style("opacity",1,"important").call(n.endall,function(){i.style("opacity",null).style("opacity",1)}),e.withLegend&&n.showLegend(t),n.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},o.prototype.hide=function(t,e){var i,n=this.internal;t=n.mapToTargetIds(t),e=e||{},n.addHiddenTargetIds(t),(i=n.svg.selectAll(n.selectorTargets(t))).transition().style("opacity",0,"important").call(n.endall,function(){i.style("opacity",null).style("opacity",0),i.style("display","none")}),e.withLegend&&n.hideLegend(t),n.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},o.prototype.toggle=function(t,e){var i=this,n=this.internal;n.mapToTargetIds(t).forEach(function(t){n.isTargetToShow(t)?i.hide(t,e):i.show(t,e)})},(o.prototype.subchart=function(){}).isShown=function(){return this.internal.config.subchart_show},o.prototype.subchart.show=function(){var e=this.internal;e.config.subchart_show||(e.config.subchart_show=!0,e.initSubchart(),e.updateDimension(),e.initSubchartBrush(),e.updateTargetsForSubchart(e.getTargets()),e.mapToIds(e.data.targets).forEach(function(t){e.withoutFadeIn[t]=!1}),e.updateAndRedraw(),e.showTargets())},o.prototype.subchart.hide=function(){var t=this.internal;t.config.subchart_show&&(t.config.subchart_show=!1,t.removeSubchart(),t.redraw())},(o.prototype.tooltip=function(){}).show=function(e){var t,i,n=this.internal,r={};r=e.mouse?e.mouse:(e.data?i=e.data:void 0!==e.x&&(t=e.id?n.data.targets.filter(function(t){return t.id===e.id}):n.data.targets,i=n.filterByX(t,e.x).slice(0,1)[0]),i?n.getMousePosition(i):null),n.dispatchEvent("mousemove",r),n.config.tooltip_onshow.call(n,i)},o.prototype.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0),this.internal.config.tooltip_onhide.call(this)},o.prototype.transform=function(t,e){var i=this.internal,n=0<=["pie","donut"].indexOf(t)?{withTransform:!0}:null;i.transformTo(e,t,n)},d.prototype.transformTo=function(t,e,i){var n=this,r=!n.hasArcType(),o=i||{withTransitionForAxis:r};o.withTransitionForTransform=!1,n.transiting=!1,n.setTargetType(t,e),n.updateTargets(n.data.targets),n.updateAndRedraw(o)},o.prototype.x=function(t){var e=this.internal;return arguments.length&&(e.updateTargetX(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs},o.prototype.xs=function(t){var e=this.internal;return arguments.length&&(e.updateTargetXs(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs},(o.prototype.zoom=function(t){var e=this.internal;return t?(e.isTimeSeries()&&(t=t.map(function(t){return e.parseDate(t)})),e.config.subchart_show?e.brush.selectionAsValue(t,!0):(e.updateXDomain(null,!0,!1,!1,t),e.redraw({withY:e.config.zoom_rescale,withSubchart:!1})),e.config.zoom_onzoom.call(this,e.x.orgDomain()),t):e.x.domain()}).enable=function(t){var e=this.internal;e.config.zoom_enabled=t,e.updateAndRedraw()},o.prototype.unzoom=function(){var t=this.internal;t.config.subchart_show?t.brush.clear():(t.updateXDomain(null,!0,!1,!1,t.subX.domain()),t.redraw({withY:t.config.zoom_rescale,withSubchart:!1}))},o.prototype.zoom.max=function(t){var e=this.internal,i=e.config,n=e.d3;if(0!==t&&!t)return i.zoom_x_max;i.zoom_x_max=n.max([e.orgXDomain[1],t])},o.prototype.zoom.min=function(t){var e=this.internal,i=e.config,n=e.d3;if(0!==t&&!t)return i.zoom_x_min;i.zoom_x_min=n.min([e.orgXDomain[0],t])},o.prototype.zoom.range=function(t){if(!arguments.length)return{max:this.domain.max(),min:this.domain.min()};k(t.max)&&this.domain.max(t.max),k(t.min)&&this.domain.min(t.min)},d.prototype.initPie=function(){var t=this,e=t.d3;t.pie=e.pie().padAngle(this.getPadAngle.bind(this)).value(function(t){return t.values.reduce(function(t,e){return t+e.value},0)});var i=t.getOrderFunction();if(i&&(t.isOrderAsc()||t.isOrderDesc())){var n=i;i=function(t,e){return-1*n(t,e)}}t.pie.sort(i||null)},d.prototype.updateRadius=function(){var t=this,e=t.config,i=e.gauge_width||e.donut_width,n=t.filterTargetsToShow(t.data.targets).length*t.config.gauge_arcs_minWidth;t.radiusExpanded=Math.min(t.arcWidth,t.arcHeight)/2*(t.hasType("gauge")?.85:1),t.radius=.95*t.radiusExpanded,t.innerRadiusRatio=i?(t.radius-i)/t.radius:.6,t.innerRadius=t.hasType("donut")||t.hasType("gauge")?t.radius*t.innerRadiusRatio:0,t.gaugeArcWidth=i||(n<=t.radius-t.innerRadius?t.radius-t.innerRadius:n<=t.radius?n:t.radius)},d.prototype.getPadAngle=function(){return this.hasType("pie")?this.config.pie_padAngle||0:this.hasType("donut")&&this.config.donut_padAngle||0},d.prototype.updateArc=function(){var t=this;t.svgArc=t.getSvgArc(),t.svgArcExpanded=t.getSvgArcExpanded(),t.svgArcExpandedSub=t.getSvgArcExpanded(.98)},d.prototype.updateAngle=function(e){var t,i,n,r,o=this,a=o.config,s=!1,c=0;return a?(o.pie(o.filterTargetsToShow(o.data.targets)).forEach(function(t){s||t.data.id!==e.data.id||(s=!0,(e=t).index=c),c++}),isNaN(e.startAngle)&&(e.startAngle=0),isNaN(e.endAngle)&&(e.endAngle=e.startAngle),o.isGaugeType(e.data)&&(t=a.gauge_min,i=a.gauge_max,n=Math.PI*(a.gauge_fullCircle?2:1)/(i-t),r=e.value<t?0:e.value<i?e.value-t:i-t,e.startAngle=a.gauge_startingAngle,e.endAngle=e.startAngle+n*r),s?e:null):null},d.prototype.getSvgArc=function(){function t(t,e){var i;return e?r(t):(i=n.updateAngle(t))?r(i):"M 0 0"}var n=this,e=n.hasType("gauge"),i=n.gaugeArcWidth/n.filterTargetsToShow(n.data.targets).length,r=n.d3.arc().outerRadius(function(t){return e?n.radius-i*t.index:n.radius}).innerRadius(function(t){return e?n.radius-i*(t.index+1):n.innerRadius});return t.centroid=r.centroid,t},d.prototype.getSvgArcExpanded=function(e){e=e||1;var i=this,n=i.hasType("gauge"),r=i.gaugeArcWidth/i.filterTargetsToShow(i.data.targets).length,o=Math.min(i.radiusExpanded*e-i.radius,.8*r-100*(1-e)),a=i.d3.arc().outerRadius(function(t){return n?i.radius-r*t.index+o:i.radiusExpanded*e}).innerRadius(function(t){return n?i.radius-r*(t.index+1):i.innerRadius});return function(t){var e=i.updateAngle(t);return e?a(e):"M 0 0"}},d.prototype.getArc=function(t,e,i){return i||this.isArcType(t.data)?this.svgArc(t,e):"M 0 0"},d.prototype.transformForArcLabel=function(t){var e,i,n,r,o,a=this,s=a.config,c=a.updateAngle(t),l="",d=a.hasType("gauge");if(c&&!d)e=this.svgArc.centroid(c),i=isNaN(e[0])?0:e[0],n=isNaN(e[1])?0:e[1],r=Math.sqrt(i*i+n*n),l="translate("+i*(o=a.hasType("donut")&&s.donut_label_ratio?p(s.donut_label_ratio)?s.donut_label_ratio(t,a.radius,r):s.donut_label_ratio:a.hasType("pie")&&s.pie_label_ratio?p(s.pie_label_ratio)?s.pie_label_ratio(t,a.radius,r):s.pie_label_ratio:a.radius&&r?(.375<36/a.radius?1.175-36/a.radius:.8)*a.radius/r:0)+","+n*o+")";else if(c&&d&&1<a.filterTargetsToShow(a.data.targets).length){var u=Math.sin(c.endAngle-Math.PI/2);l="translate("+(i=Math.cos(c.endAngle-Math.PI/2)*(a.radiusExpanded+25))+","+(n=u*(a.radiusExpanded+15-Math.abs(10*u))+3)+")"}return l},d.prototype.getArcRatio=function(t){return this.getRatio("arc",t)},d.prototype.convertToArcData=function(t){return this.addName({id:t.data.id,value:t.value,ratio:this.getRatio("arc",t),index:t.index})},d.prototype.textForArcLabel=function(t){var e,i,n,r,o,a=this;return a.shouldShowArcLabel()?(i=(e=a.updateAngle(t))?e.value:null,n=a.getRatio("arc",e),r=t.data.id,a.hasType("gauge")||a.meetsArcLabelThreshold(n)?(o=a.getArcLabelFormat())?o(i,n,r):a.defaultArcValueFormat(i,n):""):""},d.prototype.textForGaugeMinMax=function(t,e){var i=this.getGaugeLabelExtents();return i?i(t,e):t},d.prototype.expandArc=function(t){var e,i=this;i.transiting?e=window.setInterval(function(){i.transiting||(window.clearInterval(e),0<i.legend.selectAll(".c3-legend-item-focused").size()&&i.expandArc(t))},10):(t=i.mapToTargetIds(t),i.svg.selectAll(i.selectorTargets(t,"."+B.chartArc)).each(function(t){i.shouldExpand(t.data.id)&&i.d3.select(this).selectAll("path").transition().duration(i.expandDuration(t.data.id)).attr("d",i.svgArcExpanded).transition().duration(2*i.expandDuration(t.data.id)).attr("d",i.svgArcExpandedSub).each(function(t){i.isDonutType(t.data)})}))},d.prototype.unexpandArc=function(t){var e=this;e.transiting||(t=e.mapToTargetIds(t),e.svg.selectAll(e.selectorTargets(t,"."+B.chartArc)).selectAll("path").transition().duration(function(t){return e.expandDuration(t.data.id)}).attr("d",e.svgArc),e.svg.selectAll("."+B.arc))},d.prototype.expandDuration=function(t){var e=this.config;return this.isDonutType(t)?e.donut_expand_duration:this.isGaugeType(t)?e.gauge_expand_duration:this.isPieType(t)?e.pie_expand_duration:50},d.prototype.shouldExpand=function(t){var e=this.config;return this.isDonutType(t)&&e.donut_expand||this.isGaugeType(t)&&e.gauge_expand||this.isPieType(t)&&e.pie_expand},d.prototype.shouldShowArcLabel=function(){var t=this.config,e=!0;return this.hasType("donut")?e=t.donut_label_show:this.hasType("pie")&&(e=t.pie_label_show),e},d.prototype.meetsArcLabelThreshold=function(t){var e=this.config;return(this.hasType("donut")?e.donut_label_threshold:e.pie_label_threshold)<=t},d.prototype.getArcLabelFormat=function(){var t=this.config,e=t.pie_label_format;return this.hasType("gauge")?e=t.gauge_label_format:this.hasType("donut")&&(e=t.donut_label_format),e},d.prototype.getGaugeLabelExtents=function(){return this.config.gauge_label_extents},d.prototype.getArcTitle=function(){return this.hasType("donut")?this.config.donut_title:""},d.prototype.updateTargetsForArc=function(t){var e,i=this,n=i.main,r=i.classChartArc.bind(i),o=i.classArcs.bind(i),a=i.classFocus.bind(i);(e=n.select("."+B.chartArcs).selectAll("."+B.chartArc).data(i.pie(t)).attr("class",function(t){return r(t)+a(t.data)}).enter().append("g").attr("class",r)).append("g").attr("class",o),e.append("text").attr("dy",i.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},d.prototype.initArc=function(){var t=this;t.arcs=t.main.select("."+B.chart).append("g").attr("class",B.chartArcs).attr("transform",t.getTranslate("arc")),t.arcs.append("text").attr("class",B.chartArcsTitle).style("text-anchor","middle").text(t.getArcTitle())},d.prototype.redrawArc=function(t,e,i){var n,r,o,a,d=this,u=d.d3,s=d.config,c=d.main,l=d.hasType("gauge");if(r=(n=c.selectAll("."+B.arcs).selectAll("."+B.arc).data(d.arcData.bind(d))).enter().append("path").attr("class",d.classArc.bind(d)).style("fill",function(t){return d.color(t.data)}).style("cursor",function(t){return s.interaction_enabled&&s.data_selection_isselectable(t)?"pointer":null}).each(function(t){d.isGaugeType(t.data)&&(t.startAngle=t.endAngle=s.gauge_startingAngle),this._current=t}).merge(n),l&&(a=(o=c.selectAll("."+B.arcs).selectAll("."+B.arcLabelLine).data(d.arcData.bind(d))).enter().append("rect").attr("class",function(t){return B.arcLabelLine+" "+B.target+" "+B.target+"-"+t.data.id}).merge(o),1===d.filterTargetsToShow(d.data.targets).length?a.style("display","none"):a.style("fill",function(t){return d.levelColor?d.levelColor(t.data.values.reduce(function(t,e){return t+e.value},0)):d.color(t.data)}).style("display",s.gauge_labelLine_show?"":"none").each(function(t){var e=0,i=0,n=0,r="";if(d.hiddenTargetIds.indexOf(t.data.id)<0){var o=d.updateAngle(t),a=d.gaugeArcWidth/d.filterTargetsToShow(d.data.targets).length*(o.index+1),s=o.endAngle-Math.PI/2,c=d.radius-a,l=s-(0==c?0:1/c);e=d.radiusExpanded-d.radius+a,i=Math.cos(l)*c,n=Math.sin(l)*c,r="rotate("+180*s/Math.PI+", "+i+", "+n+")"}u.select(this).attr("x",i).attr("y",n).attr("width",e).attr("height",2).attr("transform",r).style("stroke-dasharray","0, "+(e+2)+", 0")})),r.attr("transform",function(t){return!d.isGaugeType(t.data)&&i?"scale(0)":""}).on("mouseover",s.interaction_enabled?function(t){var e,i;d.transiting||(e=d.updateAngle(t))&&(i=d.convertToArcData(e),d.expandArc(e.data.id),d.api.focus(e.data.id),d.toggleFocusLegend(e.data.id,!0),d.config.data_onmouseover(i,this))}:null).on("mousemove",s.interaction_enabled?function(t){var e,i=d.updateAngle(t);i&&(e=[d.convertToArcData(i)],d.showTooltip(e,this))}:null).on("mouseout",s.interaction_enabled?function(t){var e,i;d.transiting||(e=d.updateAngle(t))&&(i=d.convertToArcData(e),d.unexpandArc(e.data.id),d.api.revert(),d.revertLegend(),d.hideTooltip(),d.config.data_onmouseout(i,this))}:null).on("click",s.interaction_enabled?function(t,e){var i,n=d.updateAngle(t);n&&(i=d.convertToArcData(n),d.toggleShape&&d.toggleShape(this,i,e),d.config.data_onclick.call(d.api,i,this))}:null).each(function(){d.transiting=!0}).transition().duration(t).attrTween("d",function(i){var n,t=d.updateAngle(i);return t?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),n=u.interpolate(this._current,t),this._current=n(0),function(t){if(null===d.config)return"M 0 0";var e=n(t);return e.data=i.data,d.getArc(e,!0)}):function(){return"M 0 0"}}).attr("transform",i?"scale(1)":"").style("fill",function(t){return d.levelColor?d.levelColor(t.data.values.reduce(function(t,e){return t+e.value},0)):d.color(t.data.id)}).call(d.endall,function(){d.transiting=!1}),n.exit().transition().duration(e).style("opacity",0).remove(),c.selectAll("."+B.chartArc).select("text").style("opacity",0).attr("class",function(t){return d.isGaugeType(t.data)?B.gaugeValue:""}).text(d.textForArcLabel.bind(d)).attr("transform",d.transformForArcLabel.bind(d)).style("font-size",function(t){return d.isGaugeType(t.data)&&1===d.filterTargetsToShow(d.data.targets).length?Math.round(d.radius/5)+"px":""}).transition().duration(t).style("opacity",function(t){return d.isTargetToShow(t.data.id)&&d.isArcType(t.data)?1:0}),c.select("."+B.chartArcsTitle).style("opacity",d.hasType("donut")||l?1:0),l){var h=0,p=d.arcs.select("g."+B.chartArcsBackground).selectAll("path."+B.chartArcsBackground).data(d.data.targets);p.enter().append("path").attr("class",function(t,e){return B.chartArcsBackground+" "+B.chartArcsBackground+"-"+e}).merge(p).attr("d",function(t){if(0<=d.hiddenTargetIds.indexOf(t.id))return"M 0 0";var e={data:[{value:s.gauge_max}],startAngle:s.gauge_startingAngle,endAngle:-1*s.gauge_startingAngle*(s.gauge_fullCircle?Math.PI:1),index:h++};return d.getArc(e,!0,!0)}),p.exit().remove(),d.arcs.select("."+B.chartArcsGaugeUnit).attr("dy",".75em").text(s.gauge_label_show?s.gauge_units:""),d.arcs.select("."+B.chartArcsGaugeMin).attr("dx",-1*(d.innerRadius+(d.radius-d.innerRadius)/(s.gauge_fullCircle?1:2))+"px").attr("dy","1.2em").text(s.gauge_label_show?d.textForGaugeMinMax(s.gauge_min,!1):""),d.arcs.select("."+B.chartArcsGaugeMax).attr("dx",d.innerRadius+(d.radius-d.innerRadius)/(s.gauge_fullCircle?1:2)+"px").attr("dy","1.2em").text(s.gauge_label_show?d.textForGaugeMinMax(s.gauge_max,!0):"")}},d.prototype.initGauge=function(){var t=this.arcs;this.hasType("gauge")&&(t.append("g").attr("class",B.chartArcsBackground),t.append("text").attr("class",B.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),t.append("text").attr("class",B.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),t.append("text").attr("class",B.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},d.prototype.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},d.prototype.addToCache=function(t,e){this.cache["$".concat(t)]=e},d.prototype.getFromCache=function(t){return this.cache["$".concat(t)]},d.prototype.resetCache=function(){var e=this;Object.keys(this.cache).filter(function(t){return/^\$/.test(t)}).forEach(function(t){delete e.cache[t]})},d.prototype.hasCaches=function(t){for(var e=0;e<t.length;e++)if(!(t[e]in this.cache))return!1;return!0},d.prototype.addCache=function(t,e){this.cache[t]=this.cloneTarget(e)},d.prototype.getCaches=function(t){var e,i=[];for(e=0;e<t.length;e++)t[e]in this.cache&&i.push(this.cloneTarget(this.cache[t[e]]));return i},d.prototype.categoryName=function(t){var e=this.config;return t<e.axis_x_categories.length?e.axis_x_categories[t]:t},d.prototype.generateTargetClass=function(t){return t||0===t?("-"+t).replace(/\s/g,"-"):""},d.prototype.generateClass=function(t,e){return" "+t+" "+t+this.generateTargetClass(e)},d.prototype.classText=function(t){return this.generateClass(B.text,t.index)},d.prototype.classTexts=function(t){return this.generateClass(B.texts,t.id)},d.prototype.classShape=function(t){return this.generateClass(B.shape,t.index)},d.prototype.classShapes=function(t){return this.generateClass(B.shapes,t.id)},d.prototype.classLine=function(t){return this.classShape(t)+this.generateClass(B.line,t.id)},d.prototype.classLines=function(t){return this.classShapes(t)+this.generateClass(B.lines,t.id)},d.prototype.classCircle=function(t){return this.classShape(t)+this.generateClass(B.circle,t.index)},d.prototype.classCircles=function(t){return this.classShapes(t)+this.generateClass(B.circles,t.id)},d.prototype.classBar=function(t){return this.classShape(t)+this.generateClass(B.bar,t.index)},d.prototype.classBars=function(t){return this.classShapes(t)+this.generateClass(B.bars,t.id)},d.prototype.classArc=function(t){return this.classShape(t.data)+this.generateClass(B.arc,t.data.id)},d.prototype.classArcs=function(t){return this.classShapes(t.data)+this.generateClass(B.arcs,t.data.id)},d.prototype.classArea=function(t){return this.classShape(t)+this.generateClass(B.area,t.id)},d.prototype.classAreas=function(t){return this.classShapes(t)+this.generateClass(B.areas,t.id)},d.prototype.classRegion=function(t,e){return this.generateClass(B.region,e)+" "+("class"in t?t.class:"")},d.prototype.classEvent=function(t){return this.generateClass(B.eventRect,t.index)},d.prototype.classTarget=function(t){var e=this.config.data_classes[t],i="";return e&&(i=" "+B.target+"-"+e),this.generateClass(B.target,t)+i},d.prototype.classFocus=function(t){return this.classFocused(t)+this.classDefocused(t)},d.prototype.classFocused=function(t){return" "+(0<=this.focusedTargetIds.indexOf(t.id)?B.focused:"")},d.prototype.classDefocused=function(t){return" "+(0<=this.defocusedTargetIds.indexOf(t.id)?B.defocused:"")},d.prototype.classChartText=function(t){return B.chartText+this.classTarget(t.id)},d.prototype.classChartLine=function(t){return B.chartLine+this.classTarget(t.id)},d.prototype.classChartBar=function(t){return B.chartBar+this.classTarget(t.id)},d.prototype.classChartArc=function(t){return B.chartArc+this.classTarget(t.data.id)},d.prototype.getTargetSelectorSuffix=function(t){var e=this.generateTargetClass(t);return window.CSS&&window.CSS.escape?window.CSS.escape(e):e.replace(/([?!@#$%^&*()=+,.<>'":;\[\]\/|~`{}\\])/g,"\\$1")},d.prototype.selectorTarget=function(t,e){return(e||"")+"."+B.target+this.getTargetSelectorSuffix(t)},d.prototype.selectorTargets=function(t,e){var i=this;return(t=t||[]).length?t.map(function(t){return i.selectorTarget(t,e)}):null},d.prototype.selectorLegend=function(t){return"."+B.legendItem+this.getTargetSelectorSuffix(t)},d.prototype.selectorLegends=function(t){var e=this;return t&&t.length?t.map(function(t){return e.selectorLegend(t)}):null},d.prototype.getClipPath=function(t){return"url("+(g(9)?"":document.URL.split("#")[0])+"#"+t+")"},d.prototype.appendClip=function(t,e){return t.append("clipPath").attr("id",e).append("rect")},d.prototype.getAxisClipX=function(t){var e=Math.max(30,this.margin.left);return t?-(1+e):-(e-1)},d.prototype.getAxisClipY=function(t){return t?-20:-this.margin.top},d.prototype.getXAxisClipX=function(){return this.getAxisClipX(!this.config.axis_rotated)},d.prototype.getXAxisClipY=function(){return this.getAxisClipY(!this.config.axis_rotated)},d.prototype.getYAxisClipX=function(){return this.config.axis_y_inner?-1:this.getAxisClipX(this.config.axis_rotated)},d.prototype.getYAxisClipY=function(){return this.getAxisClipY(this.config.axis_rotated)},d.prototype.getAxisClipWidth=function(t){var e=Math.max(30,this.margin.left),i=Math.max(30,this.margin.right);return t?this.width+2+e+i:this.margin.left+20},d.prototype.getAxisClipHeight=function(t){return(t?this.margin.bottom:this.margin.top+this.height)+20},d.prototype.getXAxisClipWidth=function(){return this.getAxisClipWidth(!this.config.axis_rotated)},d.prototype.getXAxisClipHeight=function(){return this.getAxisClipHeight(!this.config.axis_rotated)},d.prototype.getYAxisClipWidth=function(){return this.getAxisClipWidth(this.config.axis_rotated)+(this.config.axis_y_inner?20:0)},d.prototype.getYAxisClipHeight=function(){return this.getAxisClipHeight(this.config.axis_rotated)},d.prototype.generateColor=function(){var t=this.config,e=this.d3,n=t.data_colors,r=P(t.color_pattern)?t.color_pattern:e.schemeCategory10,o=t.data_color,a=[];return function(t){var e,i=t.id||t.data&&t.data.id||t;return n[i]instanceof Function?e=n[i](t):n[i]?e=n[i]:(a.indexOf(i)<0&&a.push(i),e=r[a.indexOf(i)%r.length],n[i]=e),o instanceof Function?o(e,t):e}},d.prototype.generateLevelColor=function(){var t=this.config,n=t.color_pattern,e=t.color_threshold,r="value"===e.unit,o=e.values&&e.values.length?e.values:[],a=e.max||100;return P(e)&&P(n)?function(t){var e,i=n[n.length-1];for(e=0;e<o.length;e++)if((r?t:100*t/a)<o[e]){i=n[e];break}return i}:null},d.prototype.getDefaultConfig=function(){var e={bindto:"#chart",svg_classname:void 0,size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,resize_auto:!0,zoom_enabled:!1,zoom_initialRange:void 0,zoom_type:"scroll",zoom_disableDefaultBehavior:!1,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},zoom_x_min:void 0,zoom_x_max:void 0,interaction_brighten:!0,interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_epochs:"epochs",data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(t){return t},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_stack_normalize:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:void 0,data_headers:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,legend_item_onmouseout:void 0,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_multilineMax:0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_selection:void 0,axis_x_label:{},axis_x_inner:void 0,axis_y_show:!0,axis_y_type:"linear",axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:void 0,axis_y_tick_time_type:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_type:"linear",axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:"step",bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,bar_space:0,area_zerobased:!0,area_above:!1,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:.05,pie_label_ratio:void 0,pie_expand:{},pie_expand_duration:50,pie_padAngle:0,gauge_fullCircle:!1,gauge_label_show:!0,gauge_labelLine_show:!0,gauge_label_format:void 0,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*Math.PI/2,gauge_label_extents:void 0,gauge_units:void 0,gauge_width:void 0,gauge_arcs_minWidth:5,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_label_ratio:void 0,donut_width:void 0,donut_title:"",donut_expand:{},donut_expand_duration:50,donut_padAngle:0,spline_interpolation_type:"cardinal",stanford_lines:[],stanford_regions:[],stanford_texts:[],stanford_scaleMin:void 0,stanford_scaleMax:void 0,stanford_scaleWidth:void 0,stanford_scaleFormat:void 0,stanford_scaleValues:void 0,stanford_colors:void 0,stanford_padding:{top:0,right:0,bottom:0,left:0},regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_order:void 0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_horizontal:void 0,tooltip_position:void 0,tooltip_contents:function(t,e,i,n){return this.getTooltipContent?this.getTooltipContent(t,e,i,n):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_onshow:function(){},tooltip_onhide:function(){},title_text:void 0,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"};return Object.keys(this.additionalConfig).forEach(function(t){e[t]=this.additionalConfig[t]},this),e},d.prototype.additionalConfig={},d.prototype.loadConfig=function(e){var i,n,r,o=this.config;Object.keys(o).forEach(function(t){i=e,n=t.split("_"),r=function t(){var e=n.shift();return e&&i&&"object"===s(i)&&e in i?(i=i[e],t()):e?void 0:i}(),k(r)&&(o[t]=r)})},d.prototype.convertUrlToData=function(t,e,i,n,r){var o,a,s=this,c=e||"csv";a="json"===c?(o=s.d3.json,s.convertJsonToData):(o="tsv"===c?s.d3.tsv:s.d3.csv,s.convertXsvToData),o(t,i).then(function(t){r.call(s,a.call(s,t,n))}).catch(function(t){throw t})},d.prototype.convertXsvToData=function(t){var e=t.columns;return 0===t.length?{keys:e,rows:[e.reduce(function(t,e){return Object.assign(t,function(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}({},e,null))},{})]}:{keys:e,rows:[].concat(t)}},d.prototype.convertJsonToData=function(e,t){var r,o=this,a=[];return t?(t.x?(r=t.value.concat(t.x),o.config.data_x=t.x):r=t.value,a.push(r),e.forEach(function(i){var n=[];r.forEach(function(t){var e=o.findValueInJson(i,t);S(e)&&(e=null),n.push(e)}),a.push(n)}),o.convertRowsToData(a)):(Object.keys(e).forEach(function(t){a.push([t].concat(e[t]))}),o.convertColumnsToData(a))},d.prototype.findValueInJson=function(t,e){if(e in t)return t[e];for(var i=(e=(e=e.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),n=0;n<i.length;++n){var r=i[n];if(!(r in t))return;t=t[r]}return t},d.prototype.convertRowsToData=function(t){for(var e=[],i=t[0],n=1;n<t.length;n++){for(var r={},o=0;o<t[n].length;o++){if(S(t[n][o]))throw new Error("Source data is missing a component at ("+n+","+o+")!");r[i[o]]=t[n][o]}e.push(r)}return{keys:i,rows:e}},d.prototype.convertColumnsToData=function(t){for(var e=[],i=[],n=0;n<t.length;n++){for(var r=t[n][0],o=1;o<t[n].length;o++){if(S(e[o-1])&&(e[o-1]={}),S(t[n][o]))throw new Error("Source data is missing a component at ("+n+","+o+")!");e[o-1][r]=t[n][o]}i.push(r)}return{keys:i,rows:e}},d.prototype.convertDataToTargets=function(t,n){var e,i,r,o,l,d=this,u=d.config;if(h(t)?o=Object.keys(t[0]):(o=t.keys,t=t.rows),r=o.filter(d.isX,d),d.isStanfordGraphType()){if(l=o.filter(d.isEpochs,d),i=o.filter(d.isNotXAndNotEpochs,d),1!==r.length||1!==l.length||1!==i.length)throw new Error("You must define the 'x' key name and the 'epochs' for Stanford Diagrams")}else i=o.filter(d.isNotX,d);return i.forEach(function(i){var e=d.getXKey(i);d.isCustomX()||d.isTimeSeries()?0<=r.indexOf(e)?d.data.xs[i]=(n&&d.data.xs[i]?d.data.xs[i]:[]).concat(t.map(function(t){return t[e]}).filter(E).map(function(t,e){return d.generateTargetX(t,i,e)})):u.data_x?d.data.xs[i]=d.getOtherTargetXs():P(u.data_xs)&&(d.data.xs[i]=d.getXValuesOfXKey(e,d.data.targets)):d.data.xs[i]=t.map(function(t,e){return e})}),i.forEach(function(t){if(!d.data.xs[t])throw new Error('x is not defined for id = "'+t+'".')}),(e=i.map(function(a,s){var c=u.data_idConverter(a);return{id:c,id_org:a,values:t.map(function(t,e){var i,n,r=t[d.getXKey(a)],o=null===t[a]||isNaN(t[a])?null:+t[a];return d.isCustomX()&&d.isCategorized()&&!S(r)?(0===s&&0===e&&(u.axis_x_categories=[]),-1===(i=u.axis_x_categories.indexOf(r))&&(i=u.axis_x_categories.length,u.axis_x_categories.push(r))):i=d.generateTargetX(r,a,e),(S(t[a])||d.data.xs[a].length<=e)&&(i=void 0),n={x:i,value:o,id:c},d.isStanfordGraphType()&&(n.epochs=t[l]),n}).filter(function(t){return k(t.x)})}})).forEach(function(t){var e;u.data_xSort&&(t.values=t.values.sort(function(t,e){return(t.x||0===t.x?t.x:1/0)-(e.x||0===e.x?e.x:1/0)})),e=0,t.values.forEach(function(t){t.index=e++}),d.data.xs[t.id].sort(function(t,e){return t-e})}),d.hasNegativeValue=d.hasNegativeValueInTargets(e),d.hasPositiveValue=d.hasPositiveValueInTargets(e),u.data_type&&d.setTargetType(d.mapToIds(e).filter(function(t){return!(t in u.data_types)}),u.data_type),e.forEach(function(t){d.addCache(t.id_org,t)}),e},d.prototype.isEpochs=function(t){var e=this.config;return e.data_epochs&&t===e.data_epochs},d.prototype.isX=function(t){var e=this.config;return e.data_x&&t===e.data_x||P(e.data_xs)&&function(e,i){var n=!1;return Object.keys(e).forEach(function(t){e[t]===i&&(n=!0)}),n}(e.data_xs,t)},d.prototype.isNotX=function(t){return!this.isX(t)},d.prototype.isNotXAndNotEpochs=function(t){return!this.isX(t)&&!this.isEpochs(t)},d.prototype.isStackNormalized=function(){return this.config.data_stack_normalize&&0<this.config.data_groups.length},d.prototype.isAxisNormalized=function(e){var i=this;return!!i.isStackNormalized()&&i.data.targets.filter(function(t){return i.axis.getId(t.id)===e}).some(function(t){return i.isTargetNormalized(t.id)})},d.prototype.isTargetNormalized=function(e){return this.isStackNormalized()&&this.config.data_groups.some(function(t){return t.includes(e)})},d.prototype.getXKey=function(t){var e=this.config;return e.data_x?e.data_x:P(e.data_xs)?e.data_xs[t]:null},d.prototype.getTotalPerIndex=function(t){var e=this;if(!e.isStackNormalized())return null;var i=e.getFromCache("getTotalPerIndex");if(void 0!==i)return i[t];var n={y:[],y2:[]};return e.data.targets.filter(function(t){return e.isTargetNormalized(t.id)}).filter(function(t){return e.isTargetToShow(t.id)}).forEach(function(t){var i=n[e.axis.getId(t.id)];t.values.forEach(function(t,e){i[e]||(i[e]=0),i[e]+=l(t.value)?t.value:0})}),e.addToCache("getTotalPerIndex",n),n[t]},d.prototype.getTotalDataSum=function(){var e=this,t=e.getFromCache("getTotalDataSum");if(void 0!==t)return t;var i=function(t){var e;return Array.isArray(t)?(e=[]).concat.apply(e,n(t)):[]}(e.data.targets.filter(function(t){return e.isTargetToShow(t.id)}).map(function(t){return t.values})).map(function(t){return t.value}).reduce(function(t,e){return t+e},0);return e.addToCache("getTotalDataSum",i),i},d.prototype.getXValuesOfXKey=function(e,t){var i,n=this;return(t&&P(t)?n.mapToIds(t):[]).forEach(function(t){n.getXKey(t)===e&&(i=n.data.xs[t])}),i},d.prototype.getXValue=function(t,e){return t in this.data.xs&&this.data.xs[t]&&E(this.data.xs[t][e])?this.data.xs[t][e]:e},d.prototype.getOtherTargetXs=function(){var t=Object.keys(this.data.xs);return t.length?this.data.xs[t[0]]:null},d.prototype.getOtherTargetX=function(t){var e=this.getOtherTargetXs();return e&&t<e.length?e[t]:null},d.prototype.addXs=function(e){var i=this;Object.keys(e).forEach(function(t){i.config.data_xs[t]=e[t]})},d.prototype.addName=function(t){var e;return t&&(e=this.config.data_names[t.id],t.name=void 0!==e?e:t.id),t},d.prototype.getValueOnIndex=function(t,e){var i=t.filter(function(t){return t.index===e});return i.length?i[0]:null},d.prototype.updateTargetX=function(t,n){var r=this;t.forEach(function(i){i.values.forEach(function(t,e){t.x=r.generateTargetX(n[e],i.id,e)}),r.data.xs[i.id]=n})},d.prototype.updateTargetXs=function(t,e){var i=this;t.forEach(function(t){e[t.id]&&i.updateTargetX([t],e[t.id])})},d.prototype.generateTargetX=function(t,e,i){var n=this;return n.isTimeSeries()?t?n.parseDate(t):n.parseDate(n.getXValue(e,i)):n.isCustomX()&&!n.isCategorized()?E(t)?+t:n.getXValue(e,i):i},d.prototype.cloneTarget=function(t){return{id:t.id,id_org:t.id_org,values:t.values.map(function(t){return{x:t.x,value:t.value,id:t.id}})}},d.prototype.getMaxDataCount=function(){return this.d3.max(this.data.targets,function(t){return t.values.length})},d.prototype.mapToIds=function(t){return t.map(function(t){return t.id})},d.prototype.mapToTargetIds=function(t){return t?[].concat(t):this.mapToIds(this.data.targets)},d.prototype.hasTarget=function(t,e){var i,n=this.mapToIds(t);for(i=0;i<n.length;i++)if(n[i]===e)return!0;return!1},d.prototype.isTargetToShow=function(t){return this.hiddenTargetIds.indexOf(t)<0},d.prototype.isLegendToShow=function(t){return this.hiddenLegendIds.indexOf(t)<0},d.prototype.getTargetsToShow=function(){return this.filterTargetsToShow(this.data.targets)},d.prototype.filterTargetsToShow=function(t){var e=this;return t.filter(function(t){return e.isTargetToShow(t.id)})},d.prototype.getTargets=function(){return this.data.targets},d.prototype.mapTargetsToUniqueXs=function(t){var e=this.d3.set(this.d3.merge(t.map(function(t){return t.values.map(function(t){return+t.x})}))).values();return(e=this.isTimeSeries()?e.map(function(t){return new Date(+t)}):e.map(function(t){return+t})).sort(function(t,e){return t<e?-1:e<t?1:e<=t?0:NaN})},d.prototype.addHiddenTargetIds=function(t){t=t instanceof Array?t:new Array(t);for(var e=0;e<t.length;e++)this.hiddenTargetIds.indexOf(t[e])<0&&(this.hiddenTargetIds=this.hiddenTargetIds.concat(t[e]));this.resetCache()},d.prototype.removeHiddenTargetIds=function(e){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(t){return e.indexOf(t)<0}),this.resetCache()},d.prototype.addHiddenLegendIds=function(t){t=t instanceof Array?t:new Array(t);for(var e=0;e<t.length;e++)this.hiddenLegendIds.indexOf(t[e])<0&&(this.hiddenLegendIds=this.hiddenLegendIds.concat(t[e]))},d.prototype.removeHiddenLegendIds=function(e){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(t){return e.indexOf(t)<0})},d.prototype.getValuesAsIdKeyed=function(t){var i={};return t.forEach(function(e){i[e.id]=[],e.values.forEach(function(t){i[e.id].push(t.value)})}),i},d.prototype.checkValueInTargets=function(t,e){var i,n,r,o=Object.keys(t);for(i=0;i<o.length;i++)for(r=t[o[i]].values,n=0;n<r.length;n++)if(e(r[n].value))return!0;return!1},d.prototype.hasNegativeValueInTargets=function(t){return this.checkValueInTargets(t,function(t){return t<0})},d.prototype.hasPositiveValueInTargets=function(t){return this.checkValueInTargets(t,function(t){return 0<t})},d.prototype.isOrderDesc=function(){var t=this.config;return"string"==typeof t.data_order&&"desc"===t.data_order.toLowerCase()},d.prototype.isOrderAsc=function(){var t=this.config;return"string"==typeof t.data_order&&"asc"===t.data_order.toLowerCase()},d.prototype.getOrderFunction=function(){var t=this.config,r=this.isOrderAsc(),e=this.isOrderDesc();if(r||e){var o=function(t,e){return t+Math.abs(e.value)};return function(t,e){var i=t.values.reduce(o,0),n=e.values.reduce(o,0);return r?n-i:i-n}}if(p(t.data_order))return t.data_order;if(h(t.data_order)){var i=t.data_order;return function(t,e){return i.indexOf(t.id)-i.indexOf(e.id)}}},d.prototype.orderTargets=function(t){var e=this.getOrderFunction();return e&&t.sort(e),t},d.prototype.filterByIndex=function(t,e){return this.d3.merge(t.map(function(t){return t.values.filter(function(t){return t.index===e})}))},d.prototype.filterByX=function(t,e){return this.d3.merge(t.map(function(t){return t.values})).filter(function(t){return t.x-e==0})},d.prototype.filterRemoveNull=function(t){return t.filter(function(t){return E(t.value)})},d.prototype.filterByXDomain=function(t,e){return t.map(function(t){return{id:t.id,id_org:t.id_org,values:t.values.filter(function(t){return e[0]<=t.x&&t.x<=e[1]})}})},d.prototype.hasDataLabel=function(){var t=this.config;return!("boolean"!=typeof t.data_labels||!t.data_labels)||!("object"!==s(t.data_labels)||!P(t.data_labels))},d.prototype.getDataLabelLength=function(t,e,i){var n=this,r=[0,0];return n.selectChart.select("svg").selectAll(".dummy").data([t,e]).enter().append("text").text(function(t){return n.dataLabelFormat(t.id)(t)}).each(function(t,e){r[e]=1.3*f(this)[i]}).remove(),r},d.prototype.isNoneArc=function(t){return this.hasTarget(this.data.targets,t.id)},d.prototype.isArc=function(t){return"data"in t&&this.hasTarget(this.data.targets,t.data.id)},d.prototype.findClosestFromTargets=function(t,e){var i=this,n=t.map(function(t){return i.findClosest(t.values,e,i.config.tooltip_horizontal?i.horizontalDistance.bind(i):i.dist.bind(i),i.config.point_sensitivity)}).filter(function(t){return t});return 0===n.length?void 0:1===n.length?n[0]:i.findClosest(n,e,i.dist.bind(i))},d.prototype.findClosestFromTargetsByX=function(t,i){var n,r;return t.forEach(function(t){t.values.forEach(function(t){var e=Math.abs(i-t.x);(void 0===r||e<r)&&(n=t,r=e)})}),n},d.prototype.findClosest=function(t,i,n){var r,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1/0,a=this;return t.filter(function(t){return t&&a.isBarType(t.id)}).forEach(function(t){if(!r){var e=a.main.select("."+B.bars+a.getTargetSelectorSuffix(t.id)+" ."+B.bar+"-"+t.index).node();a.isWithinBar(i,e)&&(r=t)}}),t.filter(function(t){return t&&!a.isBarType(t.id)}).forEach(function(t){var e=n(t,i);e<o&&(o=e,r=t)}),r},d.prototype.dist=function(t,e){var i=this.config,n=i.axis_rotated?1:0,r=i.axis_rotated?0:1,o=this.circleY(t,t.index),a=this.x(t.x);return Math.sqrt(Math.pow(a-e[n],2)+Math.pow(o-e[r],2))},d.prototype.horizontalDistance=function(t,e){var i=this.config.axis_rotated?1:0,n=this.x(t.x);return Math.abs(n-e[i])},d.prototype.convertValuesToStep=function(t){var e,i=[].concat(t);if(!this.isCategorized())return t;for(e=t.length+1;0<e;e--)i[e]=i[e-1];return i[0]={x:i[0].x-1,value:i[0].value,id:i[0].id},i[t.length+1]={x:i[t.length].x+1,value:i[t.length].value,id:i[t.length].id},i},d.prototype.getRatio=function(t,e){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=this,r=n.api,o=0;if(e&&r.data.shown.call(r).length)if(o=e.ratio||e.value,"arc"===t)if(n.hasType("gauge"))o=(e.endAngle-e.startAngle)/(Math.PI*(n.config.gauge_fullCircle?2:1));else{var a=n.getTotalDataSum();o=e.value/a}else if("index"===t){var s=n.getTotalPerIndex(n.axis.getId(e.id));e.ratio=l(e.value)&&s&&0<s[e.index]?e.value/s[e.index]:0,o=e.ratio}return i&&o?100*o:o},d.prototype.updateDataAttributes=function(t,e){var i=this.config["data_"+t];return void 0===e||(Object.keys(e).forEach(function(t){i[t]=e[t]}),this.redraw({withLegend:!0})),i},d.prototype.load=function(i,n){var r=this;i&&(n.filter&&(i=i.filter(n.filter)),(n.type||n.types)&&i.forEach(function(t){var e=n.types&&n.types[t.id]?n.types[t.id]:n.type;r.setTargetType(t.id,e)}),r.data.targets.forEach(function(t){for(var e=0;e<i.length;e++)if(t.id===i[e].id){t.values=i[e].values,i.splice(e,1);break}}),r.data.targets=r.data.targets.concat(i)),r.updateTargets(r.data.targets),r.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),n.done&&n.done()},d.prototype.loadFromArgs=function(e){var i=this;i.resetCache(),e.data?i.load(i.convertDataToTargets(e.data),e):e.url?i.convertUrlToData(e.url,e.mimeType,e.headers,e.keys,function(t){i.load(i.convertDataToTargets(t),e)}):e.json?i.load(i.convertDataToTargets(i.convertJsonToData(e.json,e.keys)),e):e.rows?i.load(i.convertDataToTargets(i.convertRowsToData(e.rows)),e):e.columns?i.load(i.convertDataToTargets(i.convertColumnsToData(e.columns)),e):i.load(null,e)},d.prototype.unload=function(t,e){var i=this;i.resetCache(),e=e||function(){},(t=t.filter(function(t){return i.hasTarget(i.data.targets,t)}))&&0!==t.length?(i.svg.selectAll(t.map(function(t){return i.selectorTarget(t)})).transition().style("opacity",0).remove().call(i.endall,e),t.forEach(function(e){i.withoutFadeIn[e]=!1,i.legend&&i.legend.selectAll("."+B.legendItem+i.getTargetSelectorSuffix(e)).remove(),i.data.targets=i.data.targets.filter(function(t){return t.id!==e})})):e()},d.prototype.getYDomainMin=function(t){var e,i,n,r,o,a,s=this,c=s.config,l=s.mapToIds(t),d=s.getValuesAsIdKeyed(t);if(0<c.data_groups.length)for(a=s.hasNegativeValueInTargets(t),e=0;e<c.data_groups.length;e++)if(0!==(r=c.data_groups[e].filter(function(t){return 0<=l.indexOf(t)})).length)for(n=r[0],a&&d[n]&&d[n].forEach(function(t,e){d[n][e]=t<0?t:0}),i=1;i<r.length;i++)o=r[i],d[o]&&d[o].forEach(function(t,e){s.axis.getId(o)!==s.axis.getId(n)||!d[n]||a&&0<+t||(d[n][e]+=+t)});return s.d3.min(Object.keys(d).map(function(t){return s.d3.min(d[t])}))},d.prototype.getYDomainMax=function(t){var e,i,n,r,o,a,s=this,c=s.config,l=s.mapToIds(t),d=s.getValuesAsIdKeyed(t);if(0<c.data_groups.length)for(a=s.hasPositiveValueInTargets(t),e=0;e<c.data_groups.length;e++)if(0!==(r=c.data_groups[e].filter(function(t){return 0<=l.indexOf(t)})).length)for(n=r[0],a&&d[n]&&d[n].forEach(function(t,e){d[n][e]=0<t?t:0}),i=1;i<r.length;i++)o=r[i],d[o]&&d[o].forEach(function(t,e){s.axis.getId(o)!==s.axis.getId(n)||!d[n]||a&&+t<0||(d[n][e]+=+t)});return s.d3.max(Object.keys(d).map(function(t){return s.d3.max(d[t])}))},d.prototype.getYDomain=function(t,e,i){var n=this,r=n.config;if(n.isAxisNormalized(e))return[0,100];var o,a,s,c,l,d,u,h,p,g,f=t.filter(function(t){return n.axis.getId(t.id)===e}),_=i?n.filterByXDomain(f,i):f,m="y2"===e?r.axis_y2_min:r.axis_y_min,y="y2"===e?r.axis_y2_max:r.axis_y_max,x=n.getYDomainMin(_),v=n.getYDomainMax(_),w="y2"===e?r.axis_y2_center:r.axis_y_center,S=n.hasType("bar",_)&&r.bar_zerobased||n.hasType("area",_)&&r.area_zerobased,b="y2"===e?r.axis_y2_inverted:r.axis_y_inverted,T=n.hasDataLabel()&&r.axis_rotated,A=n.hasDataLabel()&&!r.axis_rotated;if(x=E(m)?m:E(y)?x<y?x:y-10:x,v=E(y)?y:E(m)?m<v?v:m+10:v,0===_.length)return"y2"===e?n.y2.domain():n.y.domain();if(isNaN(x)&&(x=0),isNaN(v)&&(v=x),x===v&&(x<0?v=0:x=0),p=0<=x&&0<=v,g=x<=0&&v<=0,(E(m)&&p||E(y)&&g)&&(S=!1),S&&(p&&(x=0),g&&(v=0)),s=c=.1*(a=Math.abs(v-x)),void 0!==w&&(v=w+(l=Math.max(Math.abs(x),Math.abs(v))),x=w-l),T)d=n.getDataLabelLength(x,v,"width"),u=G(n.y.range()),s+=a*((h=[d[0]/u,d[1]/u])[1]/(1-h[0]-h[1])),c+=a*(h[0]/(1-h[0]-h[1]));else if(A){d=n.getDataLabelLength(x,v,"height");var C=n.getY(r["axis_".concat(e,"_type")],[0,r.axis_rotated?n.width:n.height],[0,a]);s+=C(d[1]),c+=C(d[0])}return"y"===e&&P(r.axis_y_padding)&&(s=n.axis.getPadding(r.axis_y_padding,"top",s,a),c=n.axis.getPadding(r.axis_y_padding,"bottom",c,a)),"y2"===e&&P(r.axis_y2_padding)&&(s=n.axis.getPadding(r.axis_y2_padding,"top",s,a),c=n.axis.getPadding(r.axis_y2_padding,"bottom",c,a)),S&&(p&&(c=x),g&&(s=-v)),o=[x-c,v+s],b?o.reverse():o},d.prototype.getXDomainMin=function(t){var e=this,i=e.config;return k(i.axis_x_min)?e.isTimeSeries()?this.parseDate(i.axis_x_min):i.axis_x_min:e.d3.min(t,function(t){return e.d3.min(t.values,function(t){return t.x})})},d.prototype.getXDomainMax=function(t){var e=this,i=e.config;return k(i.axis_x_max)?e.isTimeSeries()?this.parseDate(i.axis_x_max):i.axis_x_max:e.d3.max(t,function(t){return e.d3.max(t.values,function(t){return t.x})})},d.prototype.getXDomainPadding=function(t){var e,i,n,r,o=this.config,a=t[1]-t[0];return i=this.isCategorized()?0:this.hasType("bar")?1<(e=this.getMaxDataCount())?a/(e-1)/2:.5:.01*a,"object"===s(o.axis_x_padding)&&P(o.axis_x_padding)?(n=E(o.axis_x_padding.left)?o.axis_x_padding.left:i,r=E(o.axis_x_padding.right)?o.axis_x_padding.right:i):n=r="number"==typeof o.axis_x_padding?o.axis_x_padding:i,{left:n,right:r}},d.prototype.getXDomain=function(t){var e=this,i=[e.getXDomainMin(t),e.getXDomainMax(t)],n=i[0],r=i[1],o=e.getXDomainPadding(i),a=0,s=0;return n-r!=0||e.isCategorized()||(r=e.isTimeSeries()?(n=new Date(.5*n.getTime()),new Date(1.5*r.getTime())):(n=0===n?1:.5*n,0===r?-1:1.5*r)),!n&&0!==n||(a=e.isTimeSeries()?new Date(n.getTime()-o.left):n-o.left),!r&&0!==r||(s=e.isTimeSeries()?new Date(r.getTime()+o.right):r+o.right),[a,s]},d.prototype.updateXDomain=function(t,e,i,n,r){var o=this,a=o.config;return i&&(o.x.domain(r||o.d3.extent(o.getXDomain(t))),o.orgXDomain=o.x.domain(),a.zoom_enabled&&o.zoom.update(),o.subX.domain(o.x.domain()),o.brush&&o.brush.updateScale(o.subX)),e&&o.x.domain(r||(!o.brush||o.brush.empty()?o.orgXDomain:o.brush.selectionAsValue())),n&&o.x.domain(o.trimXDomain(o.x.orgDomain())),o.x.domain()},d.prototype.trimXDomain=function(t){var e=this.getZoomDomain(),i=e[0],n=e[1];return t[0]<=i&&(t[1]=+t[1]+(i-t[0]),t[0]=i),n<=t[1]&&(t[0]=+t[0]-(t[1]-n),t[1]=n),t},d.prototype.drag=function(t){var e,i,n,r,h,p,g,f,_=this,m=_.config,o=_.main,y=_.d3;_.hasArcType()||m.data_selection_enabled&&m.data_selection_multiple&&(e=_.dragStart[0],i=_.dragStart[1],n=t[0],r=t[1],h=Math.min(e,n),p=Math.max(e,n),g=m.data_selection_grouped?_.margin.top:Math.min(i,r),f=m.data_selection_grouped?_.height:Math.max(i,r),o.select("."+B.dragarea).attr("x",h).attr("y",g).attr("width",p-h).attr("height",f-g),o.selectAll("."+B.shapes).selectAll("."+B.shape).each(function(t,e){if(m.data_selection_isselectable(t)){var i,n,r,o,a,s,c=y.select(this),l=c.classed(B.SELECTED),d=c.classed(B.INCLUDED),u=!1;if(c.classed(B.circle))i=1*c.attr("cx"),n=1*c.attr("cy"),a=_.togglePoint,u=h<i&&i<p&&g<n&&n<f;else{if(!c.classed(B.bar))return;i=(s=x(this)).x,n=s.y,r=s.width,o=s.height,a=_.togglePath,u=!(p<i||i+r<h||f<n||n+o<g)}u^d&&(c.classed(B.INCLUDED,!d),c.classed(B.SELECTED,!l),a.call(_,!l,c,t,e))}}))},d.prototype.dragstart=function(t){var e=this,i=e.config;e.hasArcType()||i.data_selection_enabled&&(e.dragStart=t,e.main.select("."+B.chart).append("rect").attr("class",B.dragarea).style("opacity",.1),e.dragging=!0)},d.prototype.dragend=function(){var t=this,e=t.config;t.hasArcType()||e.data_selection_enabled&&(t.main.select("."+B.dragarea).transition().duration(100).style("opacity",0).remove(),t.main.selectAll("."+B.shape).classed(B.INCLUDED,!1),t.dragging=!1)},d.prototype.getYFormat=function(t){var n=this,r=t&&!n.hasType("gauge")?n.defaultArcValueFormat:n.yFormat,o=t&&!n.hasType("gauge")?n.defaultArcValueFormat:n.y2Format;return function(t,e,i){return("y2"===n.axis.getId(i)?o:r).call(n,t,e)}},d.prototype.yFormat=function(t){var e=this.config;return(e.axis_y_tick_format?e.axis_y_tick_format:this.defaultValueFormat)(t)},d.prototype.y2Format=function(t){var e=this.config;return(e.axis_y2_tick_format?e.axis_y2_tick_format:this.defaultValueFormat)(t)},d.prototype.defaultValueFormat=function(t){return E(t)?+t:""},d.prototype.defaultArcValueFormat=function(t,e){return(100*e).toFixed(1)+"%"},d.prototype.dataLabelFormat=function(t){function e(t){return E(t)?+t:""}var i=this.config.data_labels;return"function"==typeof i.format?i.format:"object"===s(i.format)?i.format[t]?!0===i.format[t]?e:i.format[t]:function(){return""}:e},d.prototype.initGrid=function(){var t=this,e=t.config,i=t.d3;t.grid=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",B.grid),e.grid_x_show&&t.grid.append("g").attr("class",B.xgrids),e.grid_y_show&&t.grid.append("g").attr("class",B.ygrids),e.grid_focus_show&&t.grid.append("g").attr("class",B.xgridFocus).append("line").attr("class",B.xgridFocus),t.xgrid=i.selectAll([]),e.grid_lines_front||t.initGridLines()},d.prototype.initGridLines=function(){var t=this,e=t.d3;t.gridLines=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",B.grid+" "+B.gridLines),t.gridLines.append("g").attr("class",B.xgridLines),t.gridLines.append("g").attr("class",B.ygridLines),t.xgridLines=e.selectAll([])},d.prototype.updateXGrid=function(t){var e=this,i=e.config,n=e.d3,r=e.generateGridData(i.grid_x_type,e.x),o=e.isCategorized()?e.xAxis.tickOffset():0;e.xgridAttr=i.axis_rotated?{x1:0,x2:e.width,y1:function(t){return e.x(t)-o},y2:function(t){return e.x(t)-o}}:{x1:function(t){return e.x(t)+o},x2:function(t){return e.x(t)+o},y1:0,y2:e.height},e.xgridAttr.opacity=function(){return+n.select(this).attr(i.axis_rotated?"y1":"x1")===(i.axis_rotated?e.height:0)?0:1};var a=e.main.select("."+B.xgrids).selectAll("."+B.xgrid).data(r),s=a.enter().append("line").attr("class",B.xgrid).attr("x1",e.xgridAttr.x1).attr("x2",e.xgridAttr.x2).attr("y1",e.xgridAttr.y1).attr("y2",e.xgridAttr.y2).style("opacity",0);e.xgrid=s.merge(a),t||e.xgrid.attr("x1",e.xgridAttr.x1).attr("x2",e.xgridAttr.x2).attr("y1",e.xgridAttr.y1).attr("y2",e.xgridAttr.y2).style("opacity",e.xgridAttr.opacity),a.exit().remove()},d.prototype.updateYGrid=function(){var t=this,e=t.config,i=t.yAxis.tickValues()||t.y.ticks(e.grid_y_ticks),n=t.main.select("."+B.ygrids).selectAll("."+B.ygrid).data(i),r=n.enter().append("line").attr("class",B.ygrid);t.ygrid=r.merge(n),t.ygrid.attr("x1",e.axis_rotated?t.y:0).attr("x2",e.axis_rotated?t.y:t.width).attr("y1",e.axis_rotated?0:t.y).attr("y2",e.axis_rotated?t.height:t.y),n.exit().remove(),t.smoothLines(t.ygrid,"grid")},d.prototype.gridTextAnchor=function(t){return t.position?t.position:"end"},d.prototype.gridTextDx=function(t){return"start"===t.position?4:"middle"===t.position?0:-4},d.prototype.xGridTextX=function(t){return"start"===t.position?-this.height:"middle"===t.position?-this.height/2:0},d.prototype.yGridTextX=function(t){return"start"===t.position?0:"middle"===t.position?this.width/2:this.width},d.prototype.updateGrid=function(t){var e,i,n,r,o=this,a=o.main,s=o.config,c=o.xv.bind(o),l=o.yv.bind(o),d=o.xGridTextX.bind(o),u=o.yGridTextX.bind(o);o.grid.style("visibility",o.hasArcType()?"hidden":"visible"),a.select("line."+B.xgridFocus).style("visibility","hidden"),s.grid_x_show&&o.updateXGrid(),(i=(e=a.select("."+B.xgridLines).selectAll("."+B.xgridLine).data(s.grid_x_lines)).enter().append("g").attr("class",function(t){return B.xgridLine+(t.class?" "+t.class:"")})).append("line").attr("x1",s.axis_rotated?0:c).attr("x2",s.axis_rotated?o.width:c).attr("y1",s.axis_rotated?c:0).attr("y2",s.axis_rotated?c:o.height).style("opacity",0),i.append("text").attr("text-anchor",o.gridTextAnchor).attr("transform",s.axis_rotated?"":"rotate(-90)").attr("x",s.axis_rotated?u:d).attr("y",c).attr("dx",o.gridTextDx).attr("dy",-5).style("opacity",0),o.xgridLines=i.merge(e),e.exit().transition().duration(t).style("opacity",0).remove(),s.grid_y_show&&o.updateYGrid(),(r=(n=a.select("."+B.ygridLines).selectAll("."+B.ygridLine).data(s.grid_y_lines)).enter().append("g").attr("class",function(t){return B.ygridLine+(t.class?" "+t.class:"")})).append("line").attr("x1",s.axis_rotated?l:0).attr("x2",s.axis_rotated?l:o.width).attr("y1",s.axis_rotated?0:l).attr("y2",s.axis_rotated?o.height:l).style("opacity",0),r.append("text").attr("text-anchor",o.gridTextAnchor).attr("transform",s.axis_rotated?"rotate(-90)":"").attr("x",s.axis_rotated?d:u).attr("y",l).attr("dx",o.gridTextDx).attr("dy",-5).style("opacity",0),o.ygridLines=r.merge(n),o.ygridLines.select("line").transition().duration(t).attr("x1",s.axis_rotated?l:0).attr("x2",s.axis_rotated?l:o.width).attr("y1",s.axis_rotated?0:l).attr("y2",s.axis_rotated?o.height:l).style("opacity",1),o.ygridLines.select("text").transition().duration(t).attr("x",s.axis_rotated?o.xGridTextX.bind(o):o.yGridTextX.bind(o)).attr("y",l).text(function(t){return t.text}).style("opacity",1),n.exit().transition().duration(t).style("opacity",0).remove()},d.prototype.redrawGrid=function(t,e){var i=this,n=i.config,r=i.xv.bind(i),o=i.xgridLines.select("line"),a=i.xgridLines.select("text");return[(t?o.transition(e):o).attr("x1",n.axis_rotated?0:r).attr("x2",n.axis_rotated?i.width:r).attr("y1",n.axis_rotated?r:0).attr("y2",n.axis_rotated?r:i.height).style("opacity",1),(t?a.transition(e):a).attr("x",n.axis_rotated?i.yGridTextX.bind(i):i.xGridTextX.bind(i)).attr("y",r).text(function(t){return t.text}).style("opacity",1)]},d.prototype.showXGridFocus=function(t){var e=this,i=e.config,n=t.filter(function(t){return t&&E(t.value)}),r=e.main.selectAll("line."+B.xgridFocus),o=e.xx.bind(e);i.tooltip_show&&(e.hasType("stanford")||e.hasArcType()||(r.style("visibility","visible").data([n[0]]).attr(i.axis_rotated?"y1":"x1",o).attr(i.axis_rotated?"y2":"x2",o),e.smoothLines(r,"grid")))},d.prototype.hideXGridFocus=function(){this.main.select("line."+B.xgridFocus).style("visibility","hidden")},d.prototype.updateXgridFocus=function(){var t=this.config;this.main.select("line."+B.xgridFocus).attr("x1",t.axis_rotated?0:-10).attr("x2",t.axis_rotated?this.width:-10).attr("y1",t.axis_rotated?-10:0).attr("y2",t.axis_rotated?-10:this.height)},d.prototype.generateGridData=function(t,e){var i,n,r,o,a=[],s=this.main.select("."+B.axisX).selectAll(".tick").size();if("year"===t)for(n=(i=this.getXDomain())[0].getFullYear(),r=i[1].getFullYear(),o=n;o<=r;o++)a.push(new Date(o+"-01-01 00:00:00"));else(a=e.ticks(10)).length>s&&(a=a.filter(function(t){return(""+t).indexOf(".")<0}));return a},d.prototype.getGridFilterToRemove=function(t){return t?function(e){var i=!1;return[].concat(t).forEach(function(t){("value"in t&&e.value===t.value||"class"in t&&e.class===t.class)&&(i=!0)}),i}:function(){return!0}},d.prototype.removeGridLines=function(t,e){function i(t){return!r(t)}var n=this.config,r=this.getGridFilterToRemove(t),o=e?B.xgridLines:B.ygridLines,a=e?B.xgridLine:B.ygridLine;this.main.select("."+o).selectAll("."+a).filter(r).transition().duration(n.transition_duration).style("opacity",0).remove(),e?n.grid_x_lines=n.grid_x_lines.filter(i):n.grid_y_lines=n.grid_y_lines.filter(i)},d.prototype.initEventRect=function(){var t=this,e=t.config;t.main.select("."+B.chart).append("g").attr("class",B.eventRects).style("fill-opacity",0),t.eventRect=t.main.select("."+B.eventRects).append("rect").attr("class",B.eventRect),e.zoom_enabled&&t.zoom&&(t.eventRect.call(t.zoom).on("dblclick.zoom",null),e.zoom_initialRange&&t.eventRect.transition().duration(0).call(t.zoom.transform,t.zoomTransform(e.zoom_initialRange)))},d.prototype.redrawEventRect=function(){var s=this,c=s.d3,l=s.config;function d(){s.svg.select("."+B.eventRect).style("cursor",null),s.hideXGridFocus(),s.hideTooltip(),s.unexpandCircles(),s.unexpandBars()}function u(t,e){return e&&(s.isBarType(e.id)||s.dist(e,t)<l.point_sensitivity)}function h(t){return t?s.addName(Object.assign({},t)):null}s.main.select("."+B.eventRects).style("cursor",l.zoom_enabled?l.axis_rotated?"ns-resize":"ew-resize":null),s.eventRect.attr("x",0).attr("y",0).attr("width",s.width).attr("height",s.height).on("mouseout",l.interaction_enabled?function(){l&&(s.hasArcType()||(s.mouseover&&(l.data_onmouseout.call(s.api,s.mouseover),s.mouseover=void 0),d()))}:null).on("mousemove",l.interaction_enabled?function(){if(!s.dragging){var t=s.getTargetsToShow();if(!s.hasArcType(t)){var e,i=c.mouse(this),n=h(s.findClosestFromTargets(t,i)),r=u(i,n);if(!s.mouseover||n&&n.id===s.mouseover.id&&n.index===s.mouseover.index||(l.data_onmouseout.call(s.api,s.mouseover),s.mouseover=void 0),n&&!s.mouseover&&(l.data_onmouseover.call(s.api,n),s.mouseover=n),s.svg.select("."+B.eventRect).style("cursor",r?"pointer":null),!l.tooltip_grouped||s.hasType("stanford",t))n&&(e=[n]);else{var o;if(n)o=n;else{var a=l.axis_rotated?i[1]:i[0];o=s.findClosestFromTargetsByX(t,s.x.invert(a))}o&&(e=s.filterByX(t,o.x))}if(!e||0===e.length)return d();e=e.map(h),s.showTooltip(e,this),l.point_focus_expand_enabled&&(s.unexpandCircles(),e.forEach(function(t){s.expandCircles(t.index,t.id,!1)})),s.unexpandBars(),e.forEach(function(t){s.expandBars(t.index,t.id,!1)}),s.showXGridFocus(e)}}}:null).on("click",l.interaction_enabled?function(){var t=s.getTargetsToShow();if(!s.hasArcType(t)){var e=c.mouse(this),i=h(s.findClosestFromTargets(t,e));if(u(e,i))if((!l.data_selection_grouped||s.isStanfordType(i)?[i]:s.filterByX(t,i.x)).forEach(function(t){s.main.selectAll("."+B.shapes+s.getTargetSelectorSuffix(t.id)).selectAll("."+B.shape+"-"+t.index).each(function(){(l.data_selection_grouped||s.isWithinShape(this,t))&&s.toggleShape(this,t,t.index)})}),i){var n=s.main.selectAll("."+B.shapes+s.getTargetSelectorSuffix(i.id)).select("."+B.shape+"-"+i.index);l.data_onclick.call(s.api,i,n.node())}}}:null).call(l.interaction_enabled&&l.data_selection_draggable&&s.drag?c.drag().on("drag",function(){s.drag(c.mouse(this))}).on("start",function(){s.dragstart(c.mouse(this))}).on("end",function(){s.dragend()}):function(){})},d.prototype.getMousePosition=function(t){return[this.x(t.x),this.getYScale(t.id)(t.value)]},d.prototype.dispatchEvent=function(t,e){var i="."+B.eventRect,n=this.main.select(i).node(),r=n.getBoundingClientRect(),o=r.left+(e?e[0]:0),a=r.top+(e?e[1]:0),s=document.createEvent("MouseEvents");s.initMouseEvent(t,!0,!0,window,0,o,a,o,a,!1,!1,!1,!1,0,null),n.dispatchEvent(s)},d.prototype.initLegend=function(){var t=this;if(t.legendItemTextBox={},t.legendHasRendered=!1,t.legend=t.svg.append("g").attr("transform",t.getTranslate("legend")),!t.config.legend_show)return t.legend.style("visibility","hidden"),void(t.hiddenLegendIds=t.mapToIds(t.data.targets));t.updateLegendWithDefaults()},d.prototype.updateLegendWithDefaults=function(){this.updateLegend(this.mapToIds(this.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},d.prototype.updateSizeForLegend=function(t,e){var i=this,n=i.config,r={top:i.isLegendTop?i.getCurrentPaddingTop()+n.legend_inset_y+5.5:i.currentHeight-t-i.getCurrentPaddingBottom()-n.legend_inset_y,left:i.isLegendLeft?i.getCurrentPaddingLeft()+n.legend_inset_x+.5:i.currentWidth-e-i.getCurrentPaddingRight()-n.legend_inset_x+.5};i.margin3={top:i.isLegendRight?0:i.isLegendInset?r.top:i.currentHeight-t,right:NaN,bottom:0,left:i.isLegendRight?i.currentWidth-e:i.isLegendInset?r.left:0}},d.prototype.transformLegend=function(t){(t?this.legend.transition():this.legend).attr("transform",this.getTranslate("legend"))},d.prototype.updateLegendStep=function(t){this.legendStep=t},d.prototype.updateLegendItemWidth=function(t){this.legendItemWidth=t},d.prototype.updateLegendItemHeight=function(t){this.legendItemHeight=t},d.prototype.getLegendWidth=function(){var t=this;return t.config.legend_show?t.isLegendRight||t.isLegendInset?t.legendItemWidth*(t.legendStep+1):t.currentWidth:0},d.prototype.getLegendHeight=function(){var t=this,e=0;return t.config.legend_show&&(e=t.isLegendRight?t.currentHeight:Math.max(20,t.legendItemHeight)*(t.legendStep+1)),e},d.prototype.opacityForLegend=function(t){return t.classed(B.legendItemHidden)?null:1},d.prototype.opacityForUnfocusedLegend=function(t){return t.classed(B.legendItemHidden)?null:.3},d.prototype.toggleFocusLegend=function(e,t){var i=this;e=i.mapToTargetIds(e),i.legend.selectAll("."+B.legendItem).filter(function(t){return 0<=e.indexOf(t)}).classed(B.legendItemFocused,t).transition().duration(100).style("opacity",function(){return(t?i.opacityForLegend:i.opacityForUnfocusedLegend).call(i,i.d3.select(this))})},d.prototype.revertLegend=function(){var t=this,e=t.d3;t.legend.selectAll("."+B.legendItem).classed(B.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return t.opacityForLegend(e.select(this))})},d.prototype.showLegend=function(t){var e=this,i=e.config;i.legend_show||(i.legend_show=!0,e.legend.style("visibility","visible"),e.legendHasRendered||e.updateLegendWithDefaults()),e.removeHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("visibility","visible").transition().style("opacity",function(){return e.opacityForLegend(e.d3.select(this))})},d.prototype.hideLegend=function(t){var e=this,i=e.config;i.legend_show&&u(t)&&(i.legend_show=!1,e.legend.style("visibility","hidden")),e.addHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("opacity",0).style("visibility","hidden")},d.prototype.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},d.prototype.updateLegend=function(p,t,e){var i,n,r,o,a,s,c,l,d,u,h,g,f,_,m,y,x=this,v=x.config,w=4,S=10,b=0,T=0,A=10,C=v.legend_item_tile_width+5,E=0,P={},L={},I={},O=[0],V={},D=0;function G(t,e,i){var n,r,o=0===i,a=i===p.length-1,s=function(t,e){return x.legendItemTextBox[e]||(x.legendItemTextBox[e]=x.getTextRect(t.textContent,B.legendItem,t)),x.legendItemTextBox[e]}(t,e),c=s.width+C+(!a||x.isLegendRight||x.isLegendInset?S:0)+v.legend_padding,l=s.height+w,d=x.isLegendRight||x.isLegendInset?l:c,u=x.isLegendRight||x.isLegendInset?x.getLegendHeight():x.getLegendWidth();function h(t,e){e||(n=(u-E-d)/2)<A&&(n=(u-d)/2,E=0,D++),V[t]=D,O[D]=x.isLegendInset?10:n,P[t]=E,E+=d}o&&(T=b=D=E=0),!v.legend_show||x.isLegendToShow(e)?(L[e]=c,I[e]=l,(!b||b<=c)&&(b=c),(!T||T<=l)&&(T=l),r=x.isLegendRight||x.isLegendInset?T:b,v.legend_equally?(Object.keys(L).forEach(function(t){L[t]=b}),Object.keys(I).forEach(function(t){I[t]=T}),(n=(u-r*p.length)/2)<A?(D=E=0,p.forEach(function(t){h(t)})):h(e,!0)):h(e)):L[e]=I[e]=V[e]=P[e]=0}p=p.filter(function(t){return!k(v.data_names[t])||null!==v.data_names[t]}),h=X(t=t||{},"withTransition",!0),g=X(t,"withTransitionForTransform",!0),x.isLegendInset&&(D=v.legend_inset_step?v.legend_inset_step:p.length,x.updateLegendStep(D)),o=x.isLegendRight?(i=function(t){return b*V[t]},function(t){return O[V[t]]+P[t]}):x.isLegendInset?(i=function(t){return b*V[t]+10},function(t){return O[V[t]]+P[t]}):(i=function(t){return O[V[t]]+P[t]},function(t){return T*V[t]}),n=function(t,e){return i(t,e)+4+v.legend_item_tile_width},a=function(t,e){return o(t,e)+9},r=function(t,e){return i(t,e)},s=function(t,e){return o(t,e)-5},c=function(t,e){return i(t,e)-2},l=function(t,e){return i(t,e)-2+v.legend_item_tile_width},d=function(t,e){return o(t,e)+4},(u=x.legend.selectAll("."+B.legendItem).data(p).enter().append("g").attr("class",function(t){return x.generateClass(B.legendItem,t)}).style("visibility",function(t){return x.isLegendToShow(t)?"visible":"hidden"}).style("cursor",function(){return v.interaction_enabled?"pointer":"auto"}).on("click",v.interaction_enabled?function(t){v.legend_item_onclick?v.legend_item_onclick.call(x,t):x.d3.event.altKey?(x.api.hide(),x.api.show(t)):(x.api.toggle(t),x.isTargetToShow(t)?x.api.focus(t):x.api.revert())}:null).on("mouseover",v.interaction_enabled?function(t){v.legend_item_onmouseover?v.legend_item_onmouseover.call(x,t):(x.d3.select(this).classed(B.legendItemFocused,!0),!x.transiting&&x.isTargetToShow(t)&&x.api.focus(t))}:null).on("mouseout",v.interaction_enabled?function(t){v.legend_item_onmouseout?v.legend_item_onmouseout.call(x,t):(x.d3.select(this).classed(B.legendItemFocused,!1),x.api.revert())}:null)).append("text").text(function(t){return k(v.data_names[t])?v.data_names[t]:t}).each(function(t,e){G(this,t,e)}).style("pointer-events","none").attr("x",x.isLegendRight||x.isLegendInset?n:-200).attr("y",x.isLegendRight||x.isLegendInset?-200:a),u.append("rect").attr("class",B.legendItemEvent).style("fill-opacity",0).attr("x",x.isLegendRight||x.isLegendInset?r:-200).attr("y",x.isLegendRight||x.isLegendInset?-200:s),u.append("line").attr("class",B.legendItemTile).style("stroke",x.color).style("pointer-events","none").attr("x1",x.isLegendRight||x.isLegendInset?c:-200).attr("y1",x.isLegendRight||x.isLegendInset?-200:d).attr("x2",x.isLegendRight||x.isLegendInset?l:-200).attr("y2",x.isLegendRight||x.isLegendInset?-200:d).attr("stroke-width",v.legend_item_tile_height),y=x.legend.select("."+B.legendBackground+" rect"),x.isLegendInset&&0<b&&0===y.size()&&(y=x.legend.insert("g","."+B.legendItem).attr("class",B.legendBackground).append("rect")),f=x.legend.selectAll("text").data(p).text(function(t){return k(v.data_names[t])?v.data_names[t]:t}).each(function(t,e){G(this,t,e)}),(h?f.transition():f).attr("x",n).attr("y",a),_=x.legend.selectAll("rect."+B.legendItemEvent).data(p),(h?_.transition():_).attr("width",function(t){return L[t]}).attr("height",function(t){return I[t]}).attr("x",r).attr("y",s),m=x.legend.selectAll("line."+B.legendItemTile).data(p),(h?m.transition():m).style("stroke",x.levelColor?function(t){return x.levelColor(x.cache[t].values.reduce(function(t,e){return t+e.value},0))}:x.color).attr("x1",c).attr("y1",d).attr("x2",l).attr("y2",d),y&&(h?y.transition():y).attr("height",x.getLegendHeight()-12).attr("width",b*(D+1)+10),x.legend.selectAll("."+B.legendItem).classed(B.legendItemHidden,function(t){return!x.isTargetToShow(t)}),x.updateLegendItemWidth(b),x.updateLegendItemHeight(T),x.updateLegendStep(D),x.updateSizes(),x.updateScales(),x.updateSvgSize(),x.transformAll(g,e),x.legendHasRendered=!0},d.prototype.initRegion=function(){this.region=this.main.append("g").attr("clip-path",this.clipPath).attr("class",B.regions)},d.prototype.updateRegion=function(t){var e=this,i=e.config;e.region.style("visibility",e.hasArcType()?"hidden":"visible");var n=e.main.select("."+B.regions).selectAll("."+B.region).data(i.regions),r=n.enter().append("g");r.append("rect").attr("x",e.regionX.bind(e)).attr("y",e.regionY.bind(e)).attr("width",e.regionWidth.bind(e)).attr("height",e.regionHeight.bind(e)).style("fill-opacity",function(t){return E(t.opacity)?t.opacity:.1}),r.append("text").text(e.labelRegion.bind(e)),e.mainRegion=r.merge(n).attr("class",e.classRegion.bind(e)),n.exit().transition().duration(t).style("opacity",0).remove()},d.prototype.redrawRegion=function(t,e){var i=this,n=i.mainRegion,r=i.mainRegion.selectAll("text");return[(t?n.transition(e):n).attr("x",i.regionX.bind(i)).attr("y",i.regionY.bind(i)).attr("width",i.regionWidth.bind(i)).attr("height",i.regionHeight.bind(i)).style("fill-opacity",function(t){return E(t.opacity)?t.opacity:.1}),(t?r.transition(e):r).attr("x",i.labelOffsetX.bind(i)).attr("y",i.labelOffsetY.bind(i)).attr("transform",i.labelTransform.bind(i)).attr("style","text-anchor: left;")]},d.prototype.regionX=function(t){var e=this.config,i="y"===t.axis?this.y:this.y2;return"y"===t.axis||"y2"===t.axis?e.axis_rotated&&"start"in t?i(t.start):0:e.axis_rotated?0:"start"in t?this.x(this.isTimeSeries()?this.parseDate(t.start):t.start):0},d.prototype.regionY=function(t){var e=this.config,i="y"===t.axis?this.y:this.y2;return"y"===t.axis||"y2"===t.axis?e.axis_rotated?0:"end"in t?i(t.end):0:e.axis_rotated&&"start"in t?this.x(this.isTimeSeries()?this.parseDate(t.start):t.start):0},d.prototype.regionWidth=function(t){var e,i=this,n=i.config,r=i.regionX(t),o="y"===t.axis?i.y:i.y2;return(e="y"===t.axis||"y2"===t.axis?n.axis_rotated&&"end"in t?o(t.end):i.width:n.axis_rotated?i.width:"end"in t?i.x(i.isTimeSeries()?i.parseDate(t.end):t.end):i.width)<r?0:e-r},d.prototype.regionHeight=function(t){var e,i=this,n=i.config,r=this.regionY(t),o="y"===t.axis?i.y:i.y2;return(e="y"===t.axis||"y2"===t.axis?n.axis_rotated?i.height:"start"in t?o(t.start):i.height:n.axis_rotated&&"end"in t?i.x(i.isTimeSeries()?i.parseDate(t.end):t.end):i.height)<r?0:e-r},d.prototype.isRegionOnX=function(t){return!t.axis||"x"===t.axis},d.prototype.labelRegion=function(t){return"label"in t?t.label:""},d.prototype.labelTransform=function(t){return"vertical"in t&&t.vertical?"rotate(90)":""},d.prototype.labelOffsetX=function(t){var e="paddingX"in t?t.paddingX:3,i="paddingY"in t?t.paddingY:3;return"vertical"in t&&t.vertical?this.regionY(t)+i:this.regionX(t)+e},d.prototype.labelOffsetY=function(t){var e="paddingX"in t?t.paddingX:3,i="paddingY"in t?t.paddingY:3;return"vertical"in t&&t.vertical?-(this.regionX(t)+e):this.regionY(t)+10+i},d.prototype.getScale=function(t,e,i){return(i?this.d3.scaleTime():this.d3.scaleLinear()).range([t,e])},d.prototype.getX=function(t,e,i,n){var r,o=this.getScale(t,e,this.isTimeSeries()),a=i?o.domain(i):o;for(r in o=this.isCategorized()?(n=n||function(){return 0},function(t,e){var i=a(t)+n(t);return e?i:Math.ceil(i)}):function(t,e){var i=a(t);return e?i:Math.ceil(i)},a)o[r]=a[r];return o.orgDomain=function(){return a.domain()},this.isCategorized()&&(o.domain=function(t){return arguments.length?(a.domain(t),o):[(t=this.orgDomain())[0],t[1]+1]}),o},d.prototype.getY=function(t,e,i){var n;if("timeseries"===t||"time"===t)n=this.d3.scaleTime();else if("log"===t)n=v(this.d3);else{if("linear"!==t&&void 0!==t)throw new Error('Invalid Y axis type: "'.concat(t,'"'));n=this.d3.scaleLinear()}return e&&n.domain(e),i&&n.range(i),n},d.prototype.getYScale=function(t){return"y2"===this.axis.getId(t)?this.y2:this.y},d.prototype.getSubYScale=function(t){return"y2"===this.axis.getId(t)?this.subY2:this.subY},d.prototype.updateScales=function(){var e=this,t=e.config,i=!e.x;e.xMin=t.axis_rotated?1:0,e.xMax=t.axis_rotated?e.height:e.width,e.yMin=t.axis_rotated?0:e.height,e.yMax=t.axis_rotated?e.width:1,e.subXMin=e.xMin,e.subXMax=e.xMax,e.subYMin=t.axis_rotated?0:e.height2,e.subYMax=t.axis_rotated?e.width2:1,e.x=e.getX(e.xMin,e.xMax,i?void 0:e.x.orgDomain(),function(){return e.xAxis.tickOffset()}),e.y=e.getY(t.axis_y_type,i?t.axis_y_default:e.y.domain(),[e.yMin,e.yMax]),e.y2=e.getY(t.axis_y2_type,i?t.axis_y2_default:e.y2.domain(),[e.yMin,e.yMax]),e.subX=e.getX(e.xMin,e.xMax,e.orgXDomain,function(t){return t%1?0:e.subXAxis.tickOffset()}),e.subY=e.getY(t.axis_y_type,i?t.axis_y_default:e.subY.domain(),[e.subYMin,e.subYMax]),e.subY2=e.getY(t.axis_y2_type,i?t.axis_y2_default:e.subY2.domain(),[e.subYMin,e.subYMax]),e.xAxisTickFormat=e.axis.getXAxisTickFormat(),e.xAxisTickValues=e.axis.getXAxisTickValues(),e.yAxisTickValues=e.axis.getYAxisTickValues(),e.y2AxisTickValues=e.axis.getY2AxisTickValues(),e.xAxis=e.axis.getXAxis(e.x,e.xOrient,e.xAxisTickFormat,e.xAxisTickValues,t.axis_x_tick_outer),e.subXAxis=e.axis.getXAxis(e.subX,e.subXOrient,e.xAxisTickFormat,e.xAxisTickValues,t.axis_x_tick_outer),e.yAxis=e.axis.getYAxis("y",e.y,e.yOrient,e.yAxisTickValues,t.axis_y_tick_outer),e.y2Axis=e.axis.getYAxis("y2",e.y2,e.y2Orient,e.y2AxisTickValues,t.axis_y2_tick_outer),i||e.brush&&e.brush.updateScale(e.subX),e.updateArc&&e.updateArc()},d.prototype.selectPoint=function(t,e,i){var n=this,r=n.config,o=(r.axis_rotated?n.circleY:n.circleX).bind(n),a=(r.axis_rotated?n.circleX:n.circleY).bind(n),s=n.pointSelectR.bind(n);r.data_onselected.call(n.api,e,t.node()),n.main.select("."+B.selectedCircles+n.getTargetSelectorSuffix(e.id)).selectAll("."+B.selectedCircle+"-"+i).data([e]).enter().append("circle").attr("class",function(){return n.generateClass(B.selectedCircle,i)}).attr("cx",o).attr("cy",a).attr("stroke",function(){return n.color(e)}).attr("r",function(t){return 1.4*n.pointSelectR(t)}).transition().duration(100).attr("r",s)},d.prototype.unselectPoint=function(t,e,i){this.config.data_onunselected.call(this.api,e,t.node()),this.main.select("."+B.selectedCircles+this.getTargetSelectorSuffix(e.id)).selectAll("."+B.selectedCircle+"-"+i).transition().duration(100).attr("r",0).remove()},d.prototype.togglePoint=function(t,e,i,n){t?this.selectPoint(e,i,n):this.unselectPoint(e,i,n)},d.prototype.selectPath=function(t,e){var i=this;i.config.data_onselected.call(i,e,t.node()),i.config.interaction_brighten&&t.transition().duration(100).style("fill",function(){return i.d3.rgb(i.color(e)).brighter(.75)})},d.prototype.unselectPath=function(t,e){var i=this;i.config.data_onunselected.call(i,e,t.node()),i.config.interaction_brighten&&t.transition().duration(100).style("fill",function(){return i.color(e)})},d.prototype.togglePath=function(t,e,i,n){t?this.selectPath(e,i,n):this.unselectPath(e,i,n)},d.prototype.getToggle=function(t,e){var i;return"circle"===t.nodeName?i=this.isStepType(e)?function(){}:this.togglePoint:"path"===t.nodeName&&(i=this.togglePath),i},d.prototype.toggleShape=function(t,e,i){var n=this.d3,r=this.config,o=n.select(t),a=o.classed(B.SELECTED),s=this.getToggle(t,e).bind(this);r.data_selection_enabled&&r.data_selection_isselectable(e)&&(r.data_selection_multiple||this.main.selectAll("."+B.shapes+(r.data_selection_grouped?this.getTargetSelectorSuffix(e.id):"")).selectAll("."+B.shape).each(function(t,e){var i=n.select(this);i.classed(B.SELECTED)&&s(!1,i.classed(B.SELECTED,!1),t,e)}),o.classed(B.SELECTED,!a),s(!a,o,e,i))},d.prototype.initBar=function(){this.main.select("."+B.chart).append("g").attr("class",B.chartBars)},d.prototype.updateTargetsForBar=function(t){var e=this.config,i=this.classChartBar.bind(this),n=this.classBars.bind(this),r=this.classFocus.bind(this);this.main.select("."+B.chartBars).selectAll("."+B.chartBar).data(t).attr("class",function(t){return i(t)+r(t)}).enter().append("g").attr("class",i).style("pointer-events","none").append("g").attr("class",n).style("cursor",function(t){return e.data_selection_isselectable(t)?"pointer":null})},d.prototype.updateBar=function(t){function e(t){return i.color(t.id)}var i=this,n=i.barData.bind(i),r=i.classBar.bind(i),o=i.initialOpacity.bind(i),a=i.main.selectAll("."+B.bars).selectAll("."+B.bar).data(n),s=a.enter().append("path").attr("class",r).style("stroke",e).style("fill",e);i.mainBar=s.merge(a).style("opacity",o),a.exit().transition().duration(t).style("opacity",0)},d.prototype.redrawBar=function(t,e,i){var n=this;return[(e?this.mainBar.transition(i):this.mainBar).attr("d",t).style("stroke",this.color).style("fill",this.color).style("opacity",function(t){return n.isTargetToShow(t.id)?1:0})]},d.prototype.getBarW=function(t,e){var i=this.config,n="number"==typeof i.bar_width?i.bar_width:e?t.tickInterval()*i.bar_width_ratio/e:0;return i.bar_width_max&&n>i.bar_width_max?i.bar_width_max:n},d.prototype.getBars=function(t,e){return(e?this.main.selectAll("."+B.bars+this.getTargetSelectorSuffix(e)):this.main).selectAll("."+B.bar+(E(t)?"-"+t:""))},d.prototype.expandBars=function(t,e,i){i&&this.unexpandBars(),this.getBars(t,e).classed(B.EXPANDED,!0)},d.prototype.unexpandBars=function(t){this.getBars(t).classed(B.EXPANDED,!1)},d.prototype.generateDrawBar=function(t,e){var o=this.config,a=this.generateGetBarPoints(t,e);return function(t,e){var i=a(t,e),n=o.axis_rotated?1:0,r=o.axis_rotated?0:1;return"M "+i[0][n]+","+i[0][r]+" L"+i[1][n]+","+i[1][r]+" L"+i[2][n]+","+i[2][r]+" L"+i[3][n]+","+i[3][r]+" z"}},d.prototype.generateGetBarPoints=function(t,e){var a=this,i=e?a.subXAxis:a.xAxis,n=t.__max__+1,s=a.getBarW(i,n),c=a.getShapeX(s,n,t,!!e),l=a.getShapeY(!!e),d=a.getShapeOffset(a.isBarType,t,!!e),u=s*(a.config.bar_space/2),h=e?a.getSubYScale:a.getYScale;return function(t,e){var i=h.call(a,t.id)(0),n=d(t,e)||i,r=c(t),o=l(t);return a.config.axis_rotated&&(0<t.value&&o<i||t.value<0&&i<o)&&(o=i),[[r+u,n],[r+u,o-=i-n],[r+s-u,o],[r+s-u,n]]}},d.prototype.isWithinBar=function(t,e){return function(t,e,i){var n=2<arguments.length&&void 0!==i?i:0,r=e.x-n,o=e.x+e.width+n,a=e.y+e.height+n,s=e.y-n;return r<t[0]&&t[0]<o&&s<t[1]&&t[1]<a}(t,f(e),2)},d.prototype.getShapeIndices=function(t){var e,i,n=this.config,r={},o=0;return this.filterTargetsToShow(this.data.targets.filter(t,this)).forEach(function(t){for(e=0;e<n.data_groups.length;e++)if(!(n.data_groups[e].indexOf(t.id)<0))for(i=0;i<n.data_groups[e].length;i++)if(n.data_groups[e][i]in r){r[t.id]=r[n.data_groups[e][i]];break}S(r[t.id])&&(r[t.id]=o++)}),r.__max__=o-1,r},d.prototype.getShapeX=function(i,n,r,t){var o=t?this.subX:this.x;return function(t){var e=t.id in r?r[t.id]:0;return t.x||0===t.x?o(t.x)-i*(n/2-e):0}},d.prototype.getShapeY=function(e){var i=this;return function(t){return(e?i.getSubYScale(t.id):i.getYScale(t.id))(i.isTargetNormalized(t.id)?i.getRatio("index",t,!0):t.value)}},d.prototype.getShapeOffset=function(t,l,e){var d=this,i=d.orderTargets(d.filterTargetsToShow(d.data.targets.filter(t,d))),u=i.map(function(t){return t.id});return function(r,o){var a=e?d.getSubYScale(r.id):d.getYScale(r.id),s=a(0),c=s;return i.forEach(function(t){var e=d.isStepType(r)?d.convertValuesToStep(t.values):t.values,i=d.isTargetNormalized(r.id),n=e.map(function(t){return i?d.getRatio("index",t,!0):t.value});t.id!==r.id&&l[t.id]===l[r.id]&&u.indexOf(t.id)<u.indexOf(r.id)&&(!S(e[o])&&+e[o].x==+r.x||(o=-1,e.forEach(function(t,e){(t.x.constructor===Date?+t.x:t.x)===(r.x.constructor===Date?+r.x:r.x)&&(o=e)})),o in e&&0<=e[o].value*r.value&&(c+=a(n[o])-s))}),c}},d.prototype.isWithinShape=function(t,e){var i,n=this.d3.select(t);return this.isTargetToShow(e.id)?"circle"===t.nodeName?i=this.isStepType(e)?this.isWithinStep(t,this.getYScale(e.id)(e.value)):this.isWithinCircle(t,1.5*this.pointSelectR(e)):"path"===t.nodeName&&(i=!n.classed(B.bar)||this.isWithinBar(this.d3.mouse(t),t)):i=!1,i},d.prototype.getInterpolate=function(t){var e=this.d3,i={linear:e.curveLinear,"linear-closed":e.curveLinearClosed,basis:e.curveBasis,"basis-open":e.curveBasisOpen,"basis-closed":e.curveBasisClosed,bundle:e.curveBundle,cardinal:e.curveCardinal,"cardinal-open":e.curveCardinalOpen,"cardinal-closed":e.curveCardinalClosed,monotone:e.curveMonotoneX,step:e.curveStep,"step-before":e.curveStepBefore,"step-after":e.curveStepAfter};return this.isSplineType(t)?i[this.config.spline_interpolation_type]||i.cardinal:this.isStepType(t)?i[this.config.line_step_type]:i.linear},d.prototype.initLine=function(){this.main.select("."+B.chart).append("g").attr("class",B.chartLines)},d.prototype.updateTargetsForLine=function(t){var e,i=this,n=i.config,r=i.classChartLine.bind(i),o=i.classLines.bind(i),a=i.classAreas.bind(i),s=i.classCircles.bind(i),c=i.classFocus.bind(i);(e=i.main.select("."+B.chartLines).selectAll("."+B.chartLine).data(t).attr("class",function(t){return r(t)+c(t)}).enter().append("g").attr("class",r).style("opacity",0).style("pointer-events","none")).append("g").attr("class",o),e.append("g").attr("class",a),e.append("g").attr("class",function(t){return i.generateClass(B.selectedCircles,t.id)}),e.append("g").attr("class",s).style("cursor",function(t){return n.data_selection_isselectable(t)?"pointer":null}),t.forEach(function(e){i.main.selectAll("."+B.selectedCircles+i.getTargetSelectorSuffix(e.id)).selectAll("."+B.selectedCircle).each(function(t){t.value=e.values[t.index].value})})},d.prototype.updateLine=function(t){var e=this,i=e.main.selectAll("."+B.lines).selectAll("."+B.line).data(e.lineData.bind(e)),n=i.enter().append("path").attr("class",e.classLine.bind(e)).style("stroke",e.color);e.mainLine=n.merge(i).style("opacity",e.initialOpacity.bind(e)).style("shape-rendering",function(t){return e.isStepType(t)?"crispEdges":""}).attr("transform",null),i.exit().transition().duration(t).style("opacity",0)},d.prototype.redrawLine=function(t,e,i){return[(e?this.mainLine.transition(i):this.mainLine).attr("d",t).style("stroke",this.color).style("opacity",1)]},d.prototype.generateDrawLine=function(t,a){function e(t){return(a?s.subxx:s.xx).call(s,t)}function i(t,e){return 0<c.data_groups.length?n(t,e)[0][1]:d.call(s,t.id)(t.value)}var s=this,c=s.config,l=s.d3.line(),n=s.generateGetLinePoints(t,a),d=a?s.getSubYScale:s.getYScale;return l=c.axis_rotated?l.x(i).y(e):l.x(e).y(i),c.line_connectNull||(l=l.defined(function(t){return null!=t.value})),function(t){var e=c.line_connectNull?s.filterRemoveNull(t.values):t.values,i=a?s.subX:s.x,n=d.call(s,t.id),r=0,o=0;return(s.isLineType(t)?c.data_regions[t.id]?s.lineWithRegions(e,i,n,c.data_regions[t.id]):(s.isStepType(t)&&(e=s.convertValuesToStep(e)),l.curve(s.getInterpolate(t))(e)):(e[0]&&(r=i(e[0].x),o=n(e[0].value)),c.axis_rotated?"M "+o+" "+r:"M "+r+" "+o))||"M 0 0"}},d.prototype.generateGetLinePoints=function(t,e){var a=this,s=a.config,i=t.__max__+1,c=a.getShapeX(0,i,t,!!e),l=a.getShapeY(!!e),d=a.getShapeOffset(a.isLineType,t,!!e),u=e?a.getSubYScale:a.getYScale;return function(t,e){var i=u.call(a,t.id)(0),n=d(t,e)||i,r=c(t),o=l(t);return s.axis_rotated&&(0<t.value&&o<i||t.value<0&&i<o)&&(o=i),[[r,o-(i-n)],[r,o-(i-n)],[r,o-(i-n)],[r,o-(i-n)]]}},d.prototype.lineWithRegions=function(t,c,l,e){var i,n,r,o,d,a,s,u,h,p,g,f=this,_=f.config,m="M",y=f.isCategorized()?.5:0,x=[];function v(t,e){var i;for(i=0;i<e.length;i++)if(e[i].start<t&&t<=e[i].end)return!0;return!1}if(k(e))for(i=0;i<e.length;i++)x[i]={},S(e[i].start)?x[i].start=t[0].x:x[i].start=f.isTimeSeries()?f.parseDate(e[i].start):e[i].start,S(e[i].end)?x[i].end=t[t.length-1].x:x[i].end=f.isTimeSeries()?f.parseDate(e[i].end):e[i].end;function w(t){return"M"+t[0][0]+" "+t[0][1]+" "+t[1][0]+" "+t[1][1]}for(p=_.axis_rotated?function(t){return l(t.value)}:function(t){return c(t.x)},g=_.axis_rotated?function(t){return c(t.x)}:function(t){return l(t.value)},r=f.isTimeSeries()?function(t,e,i,n){var r=t.x.getTime(),o=e.x-t.x,a=new Date(r+o*i),s=new Date(r+o*(i+n));return w(_.axis_rotated?[[l(d(i)),c(a)],[l(d(i+n)),c(s)]]:[[c(a),l(d(i))],[c(s),l(d(i+n))]])}:function(t,e,i,n){return w(_.axis_rotated?[[l(d(i),!0),c(o(i))],[l(d(i+n),!0),c(o(i+n))]]:[[c(o(i),!0),l(d(i))],[c(o(i+n),!0),l(d(i+n))]])},i=0;i<t.length;i++){if(S(x)||!v(t[i].x,x))m+=" "+p(t[i])+" "+g(t[i]);else for(o=f.getScale(t[i-1].x+y,t[i].x+y,f.isTimeSeries()),d=f.getScale(t[i-1].value,t[i].value),a=c(t[i].x)-c(t[i-1].x),s=l(t[i].value)-l(t[i-1].value),h=2*(u=2/Math.sqrt(Math.pow(a,2)+Math.pow(s,2))),n=u;n<=1;n+=h)m+=r(t[i-1],t[i],n,u);t[i].x}return m},d.prototype.updateArea=function(t){var e=this,i=e.d3,n=e.main.selectAll("."+B.areas).selectAll("."+B.area).data(e.lineData.bind(e)),r=n.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",function(){return e.orgAreaOpacity=+i.select(this).style("opacity"),0});e.mainArea=r.merge(n).style("opacity",e.orgAreaOpacity),n.exit().transition().duration(t).style("opacity",0)},d.prototype.redrawArea=function(t,e,i){return[(e?this.mainArea.transition(i):this.mainArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},d.prototype.generateDrawArea=function(t,e){function i(t){return(e?o.subxx:o.xx).call(o,t)}function n(t,e){return 0<a.data_groups.length?c(t,e)[0][1]:l.call(o,t.id)(o.getAreaBaseValue(t.id))}function r(t,e){return 0<a.data_groups.length?c(t,e)[1][1]:l.call(o,t.id)(t.value)}var o=this,a=o.config,s=o.d3.area(),c=o.generateGetAreaPoints(t,e),l=e?o.getSubYScale:o.getYScale;return s=a.axis_rotated?s.x0(n).x1(r).y(i):s.x(i).y0(a.area_above?0:n).y1(r),a.line_connectNull||(s=s.defined(function(t){return null!==t.value})),function(t){var e=a.line_connectNull?o.filterRemoveNull(t.values):t.values,i=0,n=0;return(o.isAreaType(t)?(o.isStepType(t)&&(e=o.convertValuesToStep(e)),s.curve(o.getInterpolate(t))(e)):(e[0]&&(i=o.x(e[0].x),n=o.getYScale(t.id)(e[0].value)),a.axis_rotated?"M "+n+" "+i:"M "+i+" "+n))||"M 0 0"}},d.prototype.getAreaBaseValue=function(){return 0},d.prototype.generateGetAreaPoints=function(t,e){var a=this,s=a.config,i=t.__max__+1,c=a.getShapeX(0,i,t,!!e),l=a.getShapeY(!!e),d=a.getShapeOffset(a.isAreaType,t,!!e),u=e?a.getSubYScale:a.getYScale;return function(t,e){var i=u.call(a,t.id)(0),n=d(t,e)||i,r=c(t),o=l(t);return s.axis_rotated&&(0<t.value&&o<i||t.value<0&&i<o)&&(o=i),[[r,n],[r,o-(i-n)],[r,o-(i-n)],[r,n]]}},d.prototype.updateCircle=function(t,e){var i=this,n=i.main.selectAll("."+B.circles).selectAll("."+B.circle).data(i.lineOrScatterOrStanfordData.bind(i)),r=n.enter().append("circle").attr("shape-rendering",i.isStanfordGraphType()?"crispEdges":"").attr("class",i.classCircle.bind(i)).attr("cx",t).attr("cy",e).attr("r",i.pointR.bind(i)).style("color",i.isStanfordGraphType()?i.getStanfordPointColor.bind(i):i.color);i.mainCircle=r.merge(n).style("opacity",i.isStanfordGraphType()?1:i.initialOpacityForCircle.bind(i)),n.exit().style("opacity",0)},d.prototype.redrawCircle=function(t,e,i,n){var r=this.main.selectAll("."+B.selectedCircle);return[(i?this.mainCircle.transition(n):this.mainCircle).style("opacity",this.opacityForCircle.bind(this)).style("color",this.isStanfordGraphType()?this.getStanfordPointColor.bind(this):this.color).attr("cx",t).attr("cy",e),(i?r.transition(n):r).attr("cx",t).attr("cy",e)]},d.prototype.circleX=function(t){return t.x||0===t.x?this.x(t.x):null},d.prototype.updateCircleY=function(){var t,i,e=this;0<e.config.data_groups.length?(t=e.getShapeIndices(e.isLineType),i=e.generateGetLinePoints(t),e.circleY=function(t,e){return i(t,e)[0][1]}):e.circleY=function(t){return e.getYScale(t.id)(t.value)}},d.prototype.getCircles=function(t,e){return(e?this.main.selectAll("."+B.circles+this.getTargetSelectorSuffix(e)):this.main).selectAll("."+B.circle+(E(t)?"-"+t:""))},d.prototype.expandCircles=function(t,e,i){var n=this.pointExpandedR.bind(this);i&&this.unexpandCircles(),this.getCircles(t,e).classed(B.EXPANDED,!0).attr("r",n)},d.prototype.unexpandCircles=function(t){var e=this,i=e.pointR.bind(e);e.getCircles(t).filter(function(){return e.d3.select(this).classed(B.EXPANDED)}).classed(B.EXPANDED,!1).attr("r",i)},d.prototype.pointR=function(t){var e=this.config;return this.isStepType(t)?0:p(e.point_r)?e.point_r(t):e.point_r},d.prototype.pointExpandedR=function(t){var e=this.config;return e.point_focus_expand_enabled?p(e.point_focus_expand_r)?e.point_focus_expand_r(t):e.point_focus_expand_r?e.point_focus_expand_r:1.75*this.pointR(t):this.pointR(t)},d.prototype.pointSelectR=function(t){var e=this.config;return p(e.point_select_r)?e.point_select_r(t):e.point_select_r?e.point_select_r:4*this.pointR(t)},d.prototype.isWithinCircle=function(t,e){var i=this.d3,n=i.mouse(t),r=i.select(t),o=+r.attr("cx"),a=+r.attr("cy");return Math.sqrt(Math.pow(o-n[0],2)+Math.pow(a-n[1],2))<e},d.prototype.isWithinStep=function(t,e){return Math.abs(e-this.d3.mouse(t)[1])<30},d.prototype.getCurrentWidth=function(){var t=this.config;return t.size_width?t.size_width:this.getParentWidth()},d.prototype.getCurrentHeight=function(){var t=this.config,e=t.size_height?t.size_height:this.getParentHeight();return 0<e?e:320/(this.hasType("gauge")&&!t.gauge_fullCircle?2:1)},d.prototype.getCurrentPaddingTop=function(){var t=this.config,e=E(t.padding_top)?t.padding_top:0;return this.title&&this.title.node()&&(e+=this.getTitlePadding()),e},d.prototype.getCurrentPaddingBottom=function(){var t=this.config;return E(t.padding_bottom)?t.padding_bottom:0},d.prototype.getCurrentPaddingLeft=function(t){var e=this.config;return E(e.padding_left)?e.padding_left:e.axis_rotated?!e.axis_x_show||e.axis_x_inner?1:Math.max(c(this.getAxisWidthByAxisId("x",t)),40):!e.axis_y_show||e.axis_y_inner?this.axis.getYAxisLabelPosition().isOuter?30:1:c(this.getAxisWidthByAxisId("y",t))},d.prototype.getCurrentPaddingRight=function(){var t=this.config,e=0,i=this.isLegendRight?this.getLegendWidth()+20:0;return e=E(t.padding_right)?t.padding_right+1:t.axis_rotated?10+i:!t.axis_y2_show||t.axis_y2_inner?2+i+(this.axis.getY2AxisLabelPosition().isOuter?20:0):c(this.getAxisWidthByAxisId("y2"))+i,this.colorScale&&this.colorScale.node()&&(e+=this.getColorScalePadding()),e},d.prototype.getParentRectValue=function(e){for(var i,n=this.selectChart.node();n&&"BODY"!==n.tagName;){try{i=n.getBoundingClientRect()[e]}catch(t){"width"===e&&(i=n.offsetWidth)}if(i)break;n=n.parentNode}return i},d.prototype.getParentWidth=function(){return this.getParentRectValue("width")},d.prototype.getParentHeight=function(){var t=this.selectChart.style("height");return 0<t.indexOf("px")?+t.replace("px",""):0},d.prototype.getSvgLeft=function(t){var e=this.config,i=e.axis_rotated||!e.axis_rotated&&!e.axis_y_inner,n=e.axis_rotated?B.axisX:B.axisY,r=this.main.select("."+n).node(),o=r&&i?r.getBoundingClientRect():{right:0},a=this.selectChart.node().getBoundingClientRect(),s=this.hasArcType(),c=o.right-a.left-(s?0:this.getCurrentPaddingLeft(t));return 0<c?c:0},d.prototype.getAxisWidthByAxisId=function(t,e){var i=this.axis.getLabelPositionById(t);return this.axis.getMaxTickWidth(t,e)+(i.isInner?20:40)},d.prototype.getHorizontalAxisHeight=function(t){var e=this.config,i=30;return"x"!==t||e.axis_x_show?"x"===t&&e.axis_x_height?e.axis_x_height:"y"!==t||e.axis_y_show?"y2"!==t||e.axis_y2_show?("x"===t&&!e.axis_rotated&&e.axis_x_tick_rotate&&(i=30+this.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-Math.abs(e.axis_x_tick_rotate))/180)),"y"===t&&e.axis_rotated&&e.axis_y_tick_rotate&&(i=30+this.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-Math.abs(e.axis_y_tick_rotate))/180)),i+(this.axis.getLabelPositionById(t).isInner?0:10)+("y2"===t?-10:0)):this.rotated_padding_top:!e.legend_show||this.isLegendRight||this.isLegendInset?1:10:8},d.prototype.initBrush=function(t){var r=this,e=r.d3;return r.brush=(r.config.axis_rotated?e.brushY():e.brushX()).on("brush",function(){var t=e.event.sourceEvent;t&&"zoom"===t.type||r.redrawForBrush()}).on("end",function(){var t=e.event.sourceEvent;t&&"zoom"===t.type||r.brush.empty()&&t&&"end"!==t.type&&r.brush.clear()}),r.brush.updateExtent=function(){var t,e=this.scale.range();return t=r.config.axis_rotated?[[0,e[0]],[r.width2,e[1]]]:[[e[0],0],[e[1],r.height2]],this.extent(t),this},r.brush.updateScale=function(t){return this.scale=t,this},r.brush.update=function(t){this.updateScale(t||r.subX).updateExtent(),r.context.select("."+B.brush).call(this)},r.brush.clear=function(){r.context.select("."+B.brush).call(r.brush.move,null)},r.brush.selection=function(){return e.brushSelection(r.context.select("."+B.brush).node())},r.brush.selectionAsValue=function(t,e){var i,n;return t?(r.context&&(i=[this.scale(t[0]),this.scale(t[1])],n=r.context.select("."+B.brush),e&&(n=n.transition()),r.brush.move(n,i)),[]):(i=r.brush.selection()||[0,0],[this.scale.invert(i[0]),this.scale.invert(i[1])])},r.brush.empty=function(){var t=r.brush.selection();return!t||t[0]===t[1]},r.brush.updateScale(t)},d.prototype.initSubchart=function(){var t=this.config,e=this.context=this.svg.append("g").attr("transform",this.getTranslate("context"));e.style("visibility","visible"),e.append("g").attr("clip-path",this.clipPathForSubchart).attr("class",B.chart),e.select("."+B.chart).append("g").attr("class",B.chartBars),e.select("."+B.chart).append("g").attr("class",B.chartLines),e.append("g").attr("clip-path",this.clipPath).attr("class",B.brush),this.axes.subx=e.append("g").attr("class",B.axisX).attr("transform",this.getTranslate("subx")).attr("clip-path",t.axis_rotated?"":this.clipPathForXAxis)},d.prototype.initSubchartBrush=function(){this.initBrush(this.subX).updateExtent(),this.context.select("."+B.brush).call(this.brush)},d.prototype.updateTargetsForSubchart=function(t){var e,i,n,r,o=this,a=o.context,s=o.config,c=o.classChartBar.bind(o),l=o.classBars.bind(o),d=o.classChartLine.bind(o),u=o.classLines.bind(o),h=o.classAreas.bind(o);(n=(r=a.select("."+B.chartBars).selectAll("."+B.chartBar).data(t)).enter().append("g").style("opacity",0)).merge(r).attr("class",c),n.append("g").attr("class",l),(e=(i=a.select("."+B.chartLines).selectAll("."+B.chartLine).data(t)).enter().append("g").style("opacity",0)).merge(i).attr("class",d),e.append("g").attr("class",u),e.append("g").attr("class",h),a.selectAll("."+B.brush+" rect").attr(s.axis_rotated?"width":"height",s.axis_rotated?o.width2:o.height2)},d.prototype.updateBarForSubchart=function(t){var e=this.context.selectAll("."+B.bars).selectAll("."+B.bar).data(this.barData.bind(this)),i=e.enter().append("path").attr("class",this.classBar.bind(this)).style("stroke","none").style("fill",this.color);e.exit().transition().duration(t).style("opacity",0).remove(),this.contextBar=i.merge(e).style("opacity",this.initialOpacity.bind(this))},d.prototype.redrawBarForSubchart=function(t,e,i){(e?this.contextBar.transition(Math.random().toString()).duration(i):this.contextBar).attr("d",t).style("opacity",1)},d.prototype.updateLineForSubchart=function(t){var e=this.context.selectAll("."+B.lines).selectAll("."+B.line).data(this.lineData.bind(this)),i=e.enter().append("path").attr("class",this.classLine.bind(this)).style("stroke",this.color);e.exit().transition().duration(t).style("opacity",0).remove(),this.contextLine=i.merge(e).style("opacity",this.initialOpacity.bind(this))},d.prototype.redrawLineForSubchart=function(t,e,i){(e?this.contextLine.transition(Math.random().toString()).duration(i):this.contextLine).attr("d",t).style("opacity",1)},d.prototype.updateAreaForSubchart=function(t){var e=this,i=e.d3,n=e.context.selectAll("."+B.areas).selectAll("."+B.area).data(e.lineData.bind(e)),r=n.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",function(){return e.orgAreaOpacity=+i.select(this).style("opacity"),0});n.exit().transition().duration(t).style("opacity",0).remove(),e.contextArea=r.merge(n).style("opacity",0)},d.prototype.redrawAreaForSubchart=function(t,e,i){(e?this.contextArea.transition(Math.random().toString()).duration(i):this.contextArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)},d.prototype.redrawSubchart=function(t,e,i,n,r,o,a){var s,c,l,d=this,u=d.d3;u.event&&"zoom"===u.event.type&&d.brush.selectionAsValue(d.x.orgDomain()),t&&(d.brush.empty()||d.brush.selectionAsValue(d.x.orgDomain()),s=d.generateDrawArea(r,!0),c=d.generateDrawBar(o,!0),l=d.generateDrawLine(a,!0),d.updateBarForSubchart(i),d.updateLineForSubchart(i),d.updateAreaForSubchart(i),d.redrawBarForSubchart(c,i,i),d.redrawLineForSubchart(l,i,i),d.redrawAreaForSubchart(s,i,i))},d.prototype.redrawForBrush=function(){var t,e=this,i=e.x,n=e.d3;e.redraw({withTransition:!1,withY:e.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withEventRect:!1,withDimension:!1}),t=n.event.selection||e.brush.scale.range(),e.main.select("."+B.eventRect).call(e.zoom.transform,n.zoomIdentity.scale(e.width/(t[1]-t[0])).translate(-t[0],0)),e.config.subchart_onbrush.call(e.api,i.orgDomain())},d.prototype.transformContext=function(t,e){var i;e&&e.axisSubX?i=e.axisSubX:(i=this.context.select("."+B.axisX),t&&(i=i.transition())),this.context.attr("transform",this.getTranslate("context")),i.attr("transform",this.getTranslate("subx"))},d.prototype.getDefaultSelection=function(){var t=this.config,e=p(t.axis_x_selection)?t.axis_x_selection(this.getXDomain(this.data.targets)):t.axis_x_selection;return this.isTimeSeries()&&(e=[this.parseDate(e[0]),this.parseDate(e[1])]),e},d.prototype.removeSubchart=function(){this.brush=null,this.context.remove(),this.context=null},d.prototype.initText=function(){this.main.select("."+B.chart).append("g").attr("class",B.chartTexts),this.mainText=this.d3.selectAll([])},d.prototype.updateTargetsForText=function(t){var e=this.classChartText.bind(this),i=this.classTexts.bind(this),n=this.classFocus.bind(this),r=this.main.select("."+B.chartTexts).selectAll("."+B.chartText).data(t),o=r.enter().append("g").attr("class",e).style("opacity",0).style("pointer-events","none");o.append("g").attr("class",i),o.merge(r).attr("class",function(t){return e(t)+n(t)})},d.prototype.updateText=function(t,e,i){var n=this,r=n.config,o=n.barOrLineData.bind(n),a=n.classText.bind(n),s=n.main.selectAll("."+B.texts).selectAll("."+B.text).data(o),c=s.enter().append("text").attr("class",a).attr("text-anchor",function(t){return r.axis_rotated?t.value<0?"end":"start":"middle"}).style("stroke","none").attr("x",t).attr("y",e).style("fill",function(t){return n.color(t)}).style("fill-opacity",0);n.mainText=c.merge(s).text(function(t,e,i){return n.dataLabelFormat(t.id)(t.value,t.id,e,i)}),s.exit().transition().duration(i).style("fill-opacity",0).remove()},d.prototype.redrawText=function(t,e,i,n,r){return[(n?this.mainText.transition(r):this.mainText).attr("x",t).attr("y",e).style("fill",this.color).style("fill-opacity",i?0:this.opacityForText.bind(this))]},d.prototype.getTextRect=function(t,e,i){var n,r=this.d3.select("body").append("div").classed("c3",!0),o=r.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),a=this.d3.select(i).style("font");return o.selectAll(".dummy").data([t]).enter().append("text").classed(e||"",!0).style("font",a).text(t).each(function(){n=f(this)}),r.remove(),n},d.prototype.generateXYForText=function(t,e,i,n){var r=this,o=r.generateGetAreaPoints(t,!1),a=r.generateGetBarPoints(e,!1),s=r.generateGetLinePoints(i,!1),c=n?r.getXForText:r.getYForText;return function(t,e){var i=r.isAreaType(t)?o:r.isBarType(t)?a:s;return c.call(r,i(t,e),t,this)}},d.prototype.getXForText=function(t,e,i){var n,r,o=f(i);return n=this.config.axis_rotated?(r=this.isBarType(e)?4:6,t[2][1]+r*(e.value<0?-1:1)):this.hasType("bar")?(t[2][0]+t[0][0])/2:t[0][0],null===e.value&&(n>this.width?n=this.width-o.width:n<0&&(n=4)),n},d.prototype.getYForText=function(t,e,i){var n,r=f(i);return this.config.axis_rotated?n=(t[0][0]+t[2][0]+.6*r.height)/2:(n=t[2][1],e.value<0||0===e.value&&!this.hasPositiveValue?(n+=r.height,this.isBarType(e)&&this.isSafari()?n-=3:!this.isBarType(e)&&this.isChrome()&&(n+=3)):n+=this.isBarType(e)?-3:-6),null!==e.value||this.config.axis_rotated||(n<r.height?n=r.height:n>this.height&&(n=this.height-4)),n},d.prototype.initTitle=function(){this.title=this.svg.append("text").text(this.config.title_text).attr("class",this.CLASS.title)},d.prototype.redrawTitle=function(){this.title.attr("x",this.xForTitle.bind(this)).attr("y",this.yForTitle.bind(this))},d.prototype.xForTitle=function(){var t=this,e=t.config,i=e.title_position||"left";return 0<=i.indexOf("right")?t.currentWidth-t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).width-e.title_padding.right:0<=i.indexOf("center")?Math.max((t.currentWidth-t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).width)/2,0):e.title_padding.left},d.prototype.yForTitle=function(){return this.config.title_padding.top+this.getTextRect(this.title.node().textContent,this.CLASS.title,this.title.node()).height},d.prototype.getTitlePadding=function(){return this.yForTitle()+this.config.title_padding.bottom},d.prototype.drawColorScale=function(){var t,e,i,n,r,o,a,s=this,c=s.d3,l=s.config,d=s.data.targets[0];if(t=isNaN(l.stanford_scaleWidth)?20:l.stanford_scaleWidth,5,t<0)throw Error("Colorscale's barheight and barwidth must be greater than 0.");a=s.height-l.stanford_padding.bottom-l.stanford_padding.top,i=c.range(l.stanford_padding.bottom,a,5),o=c.scaleSequential(d.colors).domain([i[i.length-1],i[0]]),s.colorScale&&s.colorScale.remove(),s.colorScale=s.svg.append("g").attr("width",50).attr("height",a).attr("class",B.colorScale),s.colorScale.append("g").attr("transform","translate(0, ".concat(l.stanford_padding.top,")")).selectAll("bars").data(i).enter().append("rect").attr("y",function(t,e){return 5*e}).attr("x",0).attr("width",t).attr("height",5).attr("fill",function(t){return o(t)}),r=c.scaleLog().domain([d.minEpochs,d.maxEpochs]).range([i[0]+l.stanford_padding.top+i[i.length-1]+5-1,i[0]+l.stanford_padding.top]),n=c.axisRight(r),"pow10"===l.stanford_scaleFormat?n.tickValues([1,10,100,1e3,1e4,1e5,1e6,1e7]):p(l.stanford_scaleFormat)?n.tickFormat(l.stanford_scaleFormat):n.tickFormat(c.format("d")),p(l.stanford_scaleValues)&&n.tickValues(l.stanford_scaleValues(d.minEpochs,d.maxEpochs)),e=s.colorScale.append("g").attr("class","legend axis").attr("transform","translate(".concat(t,",0)")).call(n),"pow10"===l.stanford_scaleFormat&&e.selectAll(".tick text").text(null).filter(w).text(10).append("tspan").attr("dy","-.7em").text(function(t){return Math.round(Math.log(t)/Math.LN10)}),s.colorScale.attr("transform","translate(".concat(s.currentWidth-s.xForColorScale(),", 0)"))},d.prototype.xForColorScale=function(){return this.config.stanford_padding.right+f(this.colorScale.node()).width},d.prototype.getColorScalePadding=function(){return this.xForColorScale()+this.config.stanford_padding.left+20},d.prototype.isStanfordGraphType=function(){return"stanford"===this.config.data_type},d.prototype.initStanfordData=function(){var t,e,i,n=this.d3,r=this.config,o=this.data.targets[0];if(o.values.sort(A),t=o.values.map(function(t){return t.epochs}),i=isNaN(r.stanford_scaleMin)?n.min(t):r.stanford_scaleMin,(e=isNaN(r.stanford_scaleMax)?n.max(t):r.stanford_scaleMax)<i)throw Error("Number of minEpochs has to be smaller than maxEpochs");o.colors=p(r.stanford_colors)?r.stanford_colors:n.interpolateHslLong(n.hsl(250,1,.5),n.hsl(0,1,.5)),o.colorscale=n.scaleSequentialLog(o.colors).domain([i,e]),o.minEpochs=i,o.maxEpochs=e},d.prototype.getStanfordPointColor=function(t){return this.data.targets[0].colorscale(t.epochs)},d.prototype.getCentroid=function(t){var e,i,n,r,o,a=b(t),s=0,c=0;for(e=0,i=t.length-1;e<t.length;i=e,e+=1)r=t[e],o=t[i],n=r.x*o.y-o.x*r.y,s+=(r.x+o.x)*n,c+=(r.y+o.y)*n;return{x:s/(n=6*a),y:c/n}},d.prototype.getStanfordTooltipTitle=function(t){var e=this.axis.getLabelText("x"),i=this.axis.getLabelText("y");return"\n      <tr><th>".concat(e?_(e):"x","</th><th class='value'>").concat(t.x,"</th></tr>\n      <tr><th>").concat(i?_(i):"y","</th><th class='value'>").concat(t.value,"</th></tr>\n    ")},d.prototype.countEpochsInRegion=function(i){var t,e,n=this.data.targets[0];return t=n.values.reduce(function(t,e){return t+Number(e.epochs)},0),{value:e=n.values.reduce(function(t,e){return T(e,i)?t+Number(e.epochs):t},0),percentage:0!==e?(e/t*100).toFixed(1):0}};var b=function(t){var e,i,n,r,o=0;for(e=0,i=t.length-1;e<t.length;i=e,e+=1)n=t[e],r=t[i],o+=n.x*r.y,o-=n.y*r.x;return o/=2},T=function(t,e){for(var i,n,r,o,a=t.x,s=t.value,c=!1,l=0,d=e.length-1;l<e.length;d=l++)i=e[l].x,n=e[l].y,o=e[d].x,s<n!=s<(r=e[d].y)&&a<(o-i)*(s-n)/(r-n)+i&&(c=!c);return c},A=function(t,e){return t.epochs<e.epochs?-1:t.epochs>e.epochs?1:0};return d.prototype.initStanfordElements=function(){this.stanfordElements=this.main.select("."+B.chart).append("g").attr("class",B.stanfordElements),this.stanfordElements.append("g").attr("class",B.stanfordLines),this.stanfordElements.append("g").attr("class",B.stanfordTexts),this.stanfordElements.append("g").attr("class",B.stanfordRegions)},d.prototype.updateStanfordElements=function(t){var e,i,n,r,o,a,s=this,c=s.main,l=s.config,d=s.xvCustom.bind(s),u=s.yvCustom.bind(s),h=s.countEpochsInRegion.bind(s);(i=(e=c.select("."+B.stanfordLines).style("shape-rendering","geometricprecision").selectAll("."+B.stanfordLine).data(l.stanford_lines)).enter().append("g").attr("class",function(t){return B.stanfordLine+(t.class?" "+t.class:"")})).append("line").attr("x1",function(t){return l.axis_rotated?u(t,"value_y1"):d(t,"value_x1")}).attr("x2",function(t){return l.axis_rotated?u(t,"value_y2"):d(t,"value_x2")}).attr("y1",function(t){return l.axis_rotated?d(t,"value_x1"):u(t,"value_y1")}).attr("y2",function(t){return l.axis_rotated?d(t,"value_x2"):u(t,"value_y2")}).style("opacity",0),s.stanfordLines=i.merge(e),s.stanfordLines.select("line").transition().duration(t).attr("x1",function(t){return l.axis_rotated?u(t,"value_y1"):d(t,"value_x1")}).attr("x2",function(t){return l.axis_rotated?u(t,"value_y2"):d(t,"value_x2")}).attr("y1",function(t){return l.axis_rotated?d(t,"value_x1"):u(t,"value_y1")}).attr("y2",function(t){return l.axis_rotated?d(t,"value_x2"):u(t,"value_y2")}).style("opacity",1),e.exit().transition().duration(t).style("opacity",0).remove(),(a=(o=c.select("."+B.stanfordTexts).selectAll("."+B.stanfordText).data(l.stanford_texts)).enter().append("g").attr("class",function(t){return B.stanfordText+(t.class?" "+t.class:"")})).append("text").attr("x",function(t){return l.axis_rotated?u(t,"y"):d(t,"x")}).attr("y",function(t){return l.axis_rotated?d(t,"x"):u(t,"y")}).style("opacity",0),s.stanfordTexts=a.merge(o),s.stanfordTexts.select("text").transition().duration(t).attr("x",function(t){return l.axis_rotated?u(t,"y"):d(t,"x")}).attr("y",function(t){return l.axis_rotated?d(t,"x"):u(t,"y")}).text(function(t){return t.content}).style("opacity",1),o.exit().transition().duration(t).style("opacity",0).remove(),(r=(n=c.select("."+B.stanfordRegions).selectAll("."+B.stanfordRegion).data(l.stanford_regions)).enter().append("g").attr("class",function(t){return B.stanfordRegion+(t.class?" "+t.class:"")})).append("polygon").attr("points",function(t){return t.points.map(function(t){return[l.axis_rotated?u(t,"y"):d(t,"x"),l.axis_rotated?d(t,"x"):u(t,"y")].join(",")}).join(" ")}).style("opacity",0),r.append("text").attr("x",function(t){return s.getCentroid(t.points).x}).attr("y",function(t){return s.getCentroid(t.points).y}).style("opacity",0),s.stanfordRegions=r.merge(n),s.stanfordRegions.select("polygon").transition().duration(t).attr("points",function(t){return t.points.map(function(t){return[l.axis_rotated?u(t,"y"):d(t,"x"),l.axis_rotated?d(t,"x"):u(t,"y")].join(",")}).join(" ")}).style("opacity",function(t){return t.opacity?t.opacity:.2}),s.stanfordRegions.select("text").transition().duration(t).attr("x",function(t){return l.axis_rotated?u(s.getCentroid(t.points),"y"):d(s.getCentroid(t.points),"x")}).attr("y",function(t){return l.axis_rotated?d(s.getCentroid(t.points),"x"):u(s.getCentroid(t.points),"y")}).text(function(t){var e,i,n;return t.text?(s.isStanfordGraphType()&&(e=(n=h(t.points)).value,i=n.percentage),t.text(e,i)):""}).attr("text-anchor","middle").attr("dominant-baseline","middle").style("opacity",1),n.exit().transition().duration(t).style("opacity",0).remove()},d.prototype.initTooltip=function(){var t,e=this,i=e.config;if(e.tooltip=e.selectChart.style("position","relative").append("div").attr("class",B.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),i.tooltip_init_show){if(e.isTimeSeries()&&m(i.tooltip_init_x)){for(i.tooltip_init_x=e.parseDate(i.tooltip_init_x),t=0;t<e.data.targets[0].values.length&&e.data.targets[0].values[t].x-i.tooltip_init_x!=0;t++);i.tooltip_init_x=t}e.tooltip.html(i.tooltip_contents.call(e,e.data.targets.map(function(t){return e.addName(t.values[i.tooltip_init_x])}),e.axis.getXAxisTickFormat(),e.getYFormat(e.hasArcType()),e.color)),e.tooltip.style("top",i.tooltip_init_position.top).style("left",i.tooltip_init_position.left).style("display","block")}},d.prototype.getTooltipSortFunction=function(){var t=this.config;if(0!==t.data_groups.length&&void 0===t.tooltip_order){var i=this.orderTargets(this.data.targets).map(function(t){return t.id});return(this.isOrderAsc()||this.isOrderDesc())&&(i=i.reverse()),function(t,e){return i.indexOf(t.id)-i.indexOf(e.id)}}var n=t.tooltip_order;void 0===n&&(n=t.data_order);function r(t){return t?t.value:null}if(m(n)&&"asc"===n.toLowerCase())return function(t,e){return r(t)-r(e)};if(m(n)&&"desc"===n.toLowerCase())return function(t,e){return r(e)-r(t)};if(p(n)){var e=n;return void 0===t.tooltip_order&&(e=function(t,e){return n(t?{id:t.id,values:[t]}:null,e?{id:e.id,values:[e]}:null)}),e}return h(n)?function(t,e){return n.indexOf(t.id)-n.indexOf(e.id)}:void 0},d.prototype.getTooltipContent=function(t,e,i,n){var r,o,a,s,c,l,d=this,u=d.config,h=u.tooltip_format_title||e,p=u.tooltip_format_name||function(t){return t},g=u.tooltip_format_value;g=g||(d.isTargetNormalized(t.id)?function(t,e){return"".concat((100*e).toFixed(2),"%")}:i);var f=this.getTooltipSortFunction();for(f&&t.sort(f),o=0;o<t.length;o++)if(t[o]&&(t[o].value||0===t[o].value)){if(d.isStanfordGraphType())r||(a=d.getStanfordTooltipTitle(t[o]),r="<table class='"+d.CLASS.tooltip+"'>"+a),l=d.getStanfordPointColor(t[o]),c=_(u.data_epochs),s=t[o].epochs;else if(r||(a=_(h?h(t[o].x,t[o].index):t[o].x),r="<table class='"+d.CLASS.tooltip+"'>"+(a||0===a?"<tr><th colspan='2'>"+a+"</th></tr>":"")),void 0!==(s=_(g(t[o].value,t[o].ratio,t[o].id,t[o].index,t)))){if(null===t[o].name)continue;c=_(p(t[o].name,t[o].ratio,t[o].id,t[o].index)),l=d.levelColor?d.levelColor(t[o].value):n(t[o].id)}void 0!==s&&(r+="<tr class='"+d.CLASS.tooltipName+"-"+d.getTargetSelectorSuffix(t[o].id)+"'>",r+="<td class='name'><span style='background-color:"+l+"'></span>"+c+"</td>",r+="<td class='value'>"+s+"</td>",r+="</tr>")}return r+"</table>"},d.prototype.tooltipPosition=function(t,e,i,n){var r,o,a,s,c,l=this,d=l.config,u=l.d3,h=l.hasArcType(),p=u.mouse(n);return h?(o=(l.width-(l.isLegendRight?l.getLegendWidth():0))/2+p[0],s=(l.hasType("gauge")?l.height:l.height/2)+p[1]+20):(r=l.getSvgLeft(!0),s=d.axis_rotated?(a=(o=r+p[0]+100)+e,c=l.currentWidth-l.getCurrentPaddingRight(),l.x(t[0].x)+20):(a=(o=r+l.getCurrentPaddingLeft(!0)+l.x(t[0].x)+20)+e,c=r+l.currentWidth-l.getCurrentPaddingRight(),p[1]+15),c<a&&(o-=a-c+20),s+i>l.currentHeight&&(s-=i+30)),s<0&&(s=0),{top:s,left:o}},d.prototype.showTooltip=function(t,e){var i,n,r,o=this,a=o.config,s=o.hasArcType(),c=t.filter(function(t){return t&&E(t.value)}),l=a.tooltip_position||d.prototype.tooltipPosition;0!==c.length&&a.tooltip_show?(o.tooltip.html(a.tooltip_contents.call(o,t,o.axis.getXAxisTickFormat(),o.getYFormat(s),o.color)).style("display","block"),i=o.tooltip.property("offsetWidth"),n=o.tooltip.property("offsetHeight"),r=l.call(this,c,i,n,e),o.tooltip.style("top",r.top+"px").style("left",r.left+"px")):o.hideTooltip()},d.prototype.hideTooltip=function(){this.tooltip.style("display","none")},d.prototype.setTargetType=function(t,e){var i=this,n=i.config;i.mapToTargetIds(t).forEach(function(t){i.withoutFadeIn[t]=e===n.data_types[t],n.data_types[t]=e}),t||(n.data_type=e)},d.prototype.hasType=function(i,t){var n=this.config.data_types,r=!1;return(t=t||this.data.targets)&&t.length?t.forEach(function(t){var e=n[t.id];(e&&0<=e.indexOf(i)||!e&&"line"===i)&&(r=!0)}):Object.keys(n).length?Object.keys(n).forEach(function(t){n[t]===i&&(r=!0)}):r=this.config.data_type===i,r},d.prototype.hasArcType=function(t){return this.hasType("pie",t)||this.hasType("donut",t)||this.hasType("gauge",t)},d.prototype.isLineType=function(t){var e=this.config,i=m(t)?t:t.id;return!e.data_types[i]||0<=["line","spline","area","area-spline","step","area-step"].indexOf(e.data_types[i])},d.prototype.isStepType=function(t){var e=m(t)?t:t.id;return 0<=["step","area-step"].indexOf(this.config.data_types[e])},d.prototype.isSplineType=function(t){var e=m(t)?t:t.id;return 0<=["spline","area-spline"].indexOf(this.config.data_types[e])},d.prototype.isAreaType=function(t){var e=m(t)?t:t.id;return 0<=["area","area-spline","area-step"].indexOf(this.config.data_types[e])},d.prototype.isBarType=function(t){var e=m(t)?t:t.id;return"bar"===this.config.data_types[e]},d.prototype.isScatterType=function(t){var e=m(t)?t:t.id;return"scatter"===this.config.data_types[e]},d.prototype.isStanfordType=function(t){var e=m(t)?t:t.id;return"stanford"===this.config.data_types[e]},d.prototype.isPieType=function(t){var e=m(t)?t:t.id;return"pie"===this.config.data_types[e]},d.prototype.isGaugeType=function(t){var e=m(t)?t:t.id;return"gauge"===this.config.data_types[e]},d.prototype.isDonutType=function(t){var e=m(t)?t:t.id;return"donut"===this.config.data_types[e]},d.prototype.isArcType=function(t){return this.isPieType(t)||this.isDonutType(t)||this.isGaugeType(t)},d.prototype.lineData=function(t){return this.isLineType(t)?[t]:[]},d.prototype.arcData=function(t){return this.isArcType(t.data)?[t]:[]},d.prototype.barData=function(t){return this.isBarType(t)?t.values:[]},d.prototype.lineOrScatterOrStanfordData=function(t){return this.isLineType(t)||this.isScatterType(t)||this.isStanfordType(t)?t.values:[]},d.prototype.barOrLineData=function(t){return this.isBarType(t)||this.isLineType(t)?t.values:[]},d.prototype.isSafari=function(){var t=window.navigator.userAgent;return 0<=t.indexOf("Safari")&&t.indexOf("Chrome")<0},d.prototype.isChrome=function(){return 0<=window.navigator.userAgent.indexOf("Chrome")},d.prototype.initZoom=function(){var e,i=this,n=i.d3,r=i.config;return i.zoom=n.zoom().on("start",function(){if("scroll"===r.zoom_type){var t=n.event.sourceEvent;t&&"brush"===t.type||(e=t,r.zoom_onzoomstart.call(i.api,t))}}).on("zoom",function(){if("scroll"===r.zoom_type){var t=n.event.sourceEvent;t&&"brush"===t.type||(i.redrawForZoom(),r.zoom_onzoom.call(i.api,i.x.orgDomain()))}}).on("end",function(){if("scroll"===r.zoom_type){var t=n.event.sourceEvent;t&&"brush"===t.type||t&&e.clientX===t.clientX&&e.clientY===t.clientY||r.zoom_onzoomend.call(i.api,i.x.orgDomain())}}),i.zoom.updateDomain=function(){return n.event&&n.event.transform&&i.x.domain(n.event.transform.rescaleX(i.subX).domain()),this},i.zoom.updateExtent=function(){return this.scaleExtent([1,1/0]).translateExtent([[0,0],[i.width,i.height]]).extent([[0,0],[i.width,i.height]]),this},i.zoom.update=function(){return this.updateExtent().updateDomain()},i.zoom.updateExtent()},d.prototype.zoomTransform=function(t){var e=[this.x(t[0]),this.x(t[1])];return this.d3.zoomIdentity.scale(this.width/(e[1]-e[0])).translate(-e[0],0)},d.prototype.initDragZoom=function(){var e=this,i=e.d3,n=e.config,t=e.context=e.svg,r=e.margin.left+20.5,o=e.margin.top+.5;if("drag"===n.zoom_type&&n.zoom_enabled){var a=function(t){return t&&t.map(function(t){return e.x.invert(t)})},s=e.dragZoomBrush=i.brushX().on("start",function(){e.api.unzoom(),e.svg.select("."+B.dragZoom).classed("disabled",!1),n.zoom_onzoomstart.call(e.api,i.event.sourceEvent)}).on("brush",function(){n.zoom_onzoom.call(e.api,a(i.event.selection))}).on("end",function(){if(null!=i.event.selection){var t=a(i.event.selection);n.zoom_disableDefaultBehavior||e.api.zoom(t),e.svg.select("."+B.dragZoom).classed("disabled",!0),n.zoom_onzoomend.call(e.api,t)}});t.append("g").classed(B.dragZoom,!0).attr("clip-path",e.clipPath).attr("transform","translate("+r+","+o+")").call(s)}},d.prototype.getZoomDomain=function(){var t=this.config,e=this.d3;return[e.min([this.orgXDomain[0],t.zoom_x_min]),e.max([this.orgXDomain[1],t.zoom_x_max])]},d.prototype.redrawForZoom=function(){var t=this,e=t.d3,i=t.config,n=t.zoom,r=t.x;i.zoom_enabled&&0!==t.filterTargetsToShow(t.data.targets).length&&(n.update(),i.zoom_disableDefaultBehavior||(t.isCategorized()&&r.orgDomain()[0]===t.orgXDomain[0]&&r.domain([t.orgXDomain[0]-1e-10,r.orgDomain()[1]]),t.redraw({withTransition:!1,withY:i.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),e.event.sourceEvent&&"mousemove"===e.event.sourceEvent.type&&(t.cancelClick=!0)))},t}),$(window).scroll(function(){50<$(document).scrollTop()?$("#home > .navbar").removeClass("navbar-transparent"):$("#home > .navbar").addClass("navbar-transparent")}),$("a[href='#']").click(function(t){t.preventDefault()}),$('.bs-component [data-toggle="popover"]').popover(),$('.bs-component [data-toggle="tooltip"]').tooltip(),$(".bs-component").each(function(){var t=$("<button class='source-button btn btn-primary btn-xs' role='button' tabindex='0'>&lt; &gt;</button>");$(this).append(t)}),$("body").on("click",".source-button",function(t){t.preventDefault();var e=$(this).parent().html();e=function(t){var e=(t=t.replace(/Ã—/g,"&times;").replace(/Â«/g,"&laquo;").replace(/Â»/g,"&raquo;").replace(/â†/g,"&larr;").replace(/â†’/g,"&rarr;")).split(/\n/);e.shift(),e.splice(-1,1);var i=e[0].length-e[0].trim().length,n=new RegExp(" {"+i+"}");return e=(e=e.map(function(t){return t.match(n)&&(t=t.substring(i)),t})).join("\n")}(e),$("#source-modal pre").text(e),$("#source-modal").modal()}),function(r){function o(t,e){var i=r(t).offset().top-e;r(window).scrollTop()!=i&&r(".form-wizard").stop().animate({scrollTop:i},0)}function a(t,e){var i=t.data("number-of-steps"),n=t.data("now-value"),r=0;"right"==e?r=n+100/i:"left"==e&&(r=n-100/i),t.attr("style","width: "+r+"%;").data("now-value",r)}jQuery(document).ready(function(){r(".form-wizard fieldset:first").fadeIn("slow"),r(".form-wizard .required").on("focus",function(){r(this).removeClass("input-error")}),r(".form-wizard .btn-next").on("click",function(){var t=r(this).parents("fieldset"),e=!0,i=r(this).parents(".form-wizard").find(".form-wizard-step.active"),n=r(this).parents(".form-wizard").find(".form-wizard-progress-line");t.find(".required").each(function(){""==r(this).val()?(r(this).addClass("input-error"),e=!1):r(this).removeClass("input-error")}),e&&t.fadeOut(400,function(){i.removeClass("active").addClass("activated").next().addClass("active"),a(n,"right"),r(this).next().fadeIn(),o(r(".form-wizard"),20)})}),r(".form-wizard .btn-previous").on("click",function(){var t=r(this).parents(".form-wizard").find(".form-wizard-step.active"),e=r(this).parents(".form-wizard").find(".form-wizard-progress-line");r(this).parents("fieldset").fadeOut(400,function(){t.removeClass("active").prev().removeClass("activated").addClass("active"),a(e,"left"),r(this).prev().fadeIn(),o(r(".form-wizard"),20)})}),r(".form-wizard").on("submit",function(t){r(this).find(".required").each(function(){""==r(this).val()?(t.preventDefault(),r(this).addClass("input-error")):r(this).removeClass("input-error")})})});var t=r(".image_picker"),n=r(".drop_target"),s=r("#inputFile"),c=r(".image_preview"),l=r('[data-action="remove_current_image"]');t.on("dragover",function(){return n.addClass("dropping"),!1}),t.on("dragend dragleave",function(){return n.removeClass("dropping"),!1}),t.on("drop",function(t){n.removeClass("dropping"),n.addClass("dropped"),l.removeClass("disabled"),t.preventDefault();var e=t.originalEvent.dataTransfer.files[0],i=new FileReader;return i.onload=function(t){c.css("background-image","url("+t.target.result+")")},console.log(e),i.readAsDataURL(e),!1}),s.change(function(t){n.addClass("dropped"),l.removeClass("disabled"),r(".image_title input").val("");var e=s.get(0).files[0],i=new FileReader;i.onload=function(t){c.css("background-image","url("+t.target.result+")")},i.readAsDataURL(e)}),l.on("click",function(){c.css("background-image",""),n.removeClass("dropped"),l.addClass("disabled"),r(".image_title input").val("")}),r(".image_title input").blur(function(){""!=r(this).val()&&n.removeClass("dropped")})}(jQuery),$(document).ready(function(){$(document).on("submit",".evaluation-form",function(t){t.preventDefault();var e=$(this),i=clickedButton;i.text(),i.data("type");$.ajax({type:e.attr("method"),url:e.attr("action"),data:e.serialize(),dataType:"json",beforeSend:function(){i.attr("disabled",!0),i.html("loading...")},success:function(t){t.status&&(i.removeAttr("disabled"),i.html("Submit"),"redirect"==t.action&&setTimeout(function(){window.location=t.url},1e3))}})}),$(document).on("submit",".sign-up-form",function(t){t.preventDefault(),_form($(this))}),$(document).on("submit",".login-form",function(t){t.preventDefault(),_form($(this))}),$(document).on("submit",".deployment-form",function(t){t.preventDefault(),_form($(this))}),$(document).on("submit",".change-password",function(t){t.preventDefault(),_form($(this))}),$(document).on("submit",".add-partners",function(t){t.preventDefault(),_form($(this))})}),$("div").hasClass("donut-chart"))var chart=c3.generate({data:{url:base_url+"/students/reports/ratings/"+jsUri(3),mimeType:"json",type:"donut"},donut:{title:"Rating",width:70,padAngle:.1}});if($("div").hasClass("second-donut-chart"))chart=c3.generate({bindto:"#bar-chart",data:{url:base_url+"/students/reports/attendance/"+jsUri(3),mimeType:"json",type:"donut"},donut:{title:"OJT Statistic",width:70,padAngle:.1}});function _workHours(t,e){$.ajax({type:"POST",url:base_url+"/student/add/dtr",data:{hours:t,id:e},beforeSend:function(){$(".workhours").attr("disabled","disabled"),$(".submit-dtr").attr("disabled","disabled")},success:function(t){$(".workhours").removeAttr("disabled"),$(".submit-dtr").removeAttr("disabled"),$(".workhours").val(""),calendar.destroy(),_dtrCalendar()}})}$(document).ready(function(){"register"==jsUri(1)&&$("#username").change(function(){var t=$("#username").val();""!=t&&$.ajax({url:base_url+"/availability",method:"POST",data:{username:t},beforeSend:function(){$(".text-username").remove()},success:function(t){$("#username").parents(".form-group").append(t)}})}),$(document).on("keyup",".workhours",function(t){var e=$(this).data("id"),i=$(this).val();""!=i&&13===t.which&&_workHours(i,e)}),$(document).on("click",".submit-dtr",function(t){var e=$(".workhours").data("id"),i=$(".workhours").val();""!=i&&13===t.which&&_workHours(i,e)})});